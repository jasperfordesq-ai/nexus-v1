*{box-sizing:border-box;margin:0;padding:0}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;background:var(--bg-primary);color:var(--text-primary);overflow:hidden}[data-theme="light"]{--bg-primary:#f5f5f5;--bg-secondary:var(--color-white);--text-primary:var(--color-gray-800);--text-secondary:var(--color-gray-500);--border-color:var(--effect-black-10);--overlay-bg:var(--effect-black-50)}[data-theme="dark"]{--bg-primary:var(--color-slate-900);--bg-secondary:var(--color-slate-800);--text-primary:var(--color-slate-100);--text-secondary:var(--color-slate-400);--border-color:var(--effect-white-10);--overlay-bg:var(--effect-black-70)}.create-overlay-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--overlay-bg);backdrop-filter:blur(var(--space-2));z-index:9998;display:flex;align-items:center;justify-content:center;padding:var(--space-5)}.create-overlay-container{position:relative;width:100%;max-width:700px;max-height:90vh;background:var(--bg-secondary);border-radius:var(--radius-xl);box-shadow:0 var(--space-6) calc(var(--space-16) + var(--space-3) / 2) var(--effect-black-30);display:flex;flex-direction:column;overflow:hidden;z-index:9999}.create-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-5) var(--space-6);border-bottom:1px solid var(--border-color);flex-shrink:0}.create-header h1{font-size:var(--font-size-xl);font-weight:700;color:var(--text-primary)}.create-close-btn{width:calc(var(--space-8) + var(--space-1));height:calc(var(--space-8) + var(--space-1));border-radius:var(--radius-full);background:var(--effect-white-10);border:none;color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.2s}.create-close-btn:hover{background:var(--effect-white-15);color:var(--text-primary);transform:scale(1.05)}.create-close-btn:active{transform:scale(0.95)}.type-pills-nav{display:flex;gap:var(--space-2);padding:var(--space-4) var(--space-6);border-bottom:1px solid var(--border-color);overflow-x:auto;flex-shrink:0;scrollbar-width:thin;scrollbar-color:var(--effect-white-20) transparent}.type-pills-nav::-webkit-scrollbar{height:calc(var(--space-1) * 1.5)}.type-pills-nav::-webkit-scrollbar-track{background:transparent}.type-pills-nav::-webkit-scrollbar-thumb{background:var(--effect-white-20);border-radius:var(--radius-sm)}.type-pills-nav::-webkit-scrollbar-thumb:hover{background:var(--effect-white-30)}.type-pill{display:inline-flex;align-items:center;gap:var(--space-2);padding:calc(var(--space-2) + var(--space-1) / 2) calc(var(--space-4) + var(--space-1) / 2);border-radius:var(--radius-md);background:var(--bg-primary);border:calc(var(--space-1) / 2) solid transparent;color:var(--text-secondary);font-size:var(--font-size-sm);font-weight:600;white-space:nowrap;cursor:pointer;transition:all 0.2s}.type-pill:hover{border-color:var(--border-color);color:var(--text-primary)}.type-pill.active{background:linear-gradient(135deg,var(--color-pink-500),var(--color-pink-400));color:white;border-color:transparent}.type-pill i{font-size:var(--font-size-base)}.create-content{flex:1;overflow-y:auto;padding:var(--space-6)}.form-field{margin-bottom:var(--space-5)}.form-label{display:block;font-size:var(--font-size-sm);font-weight:600;color:var(--text-primary);margin-bottom:var(--space-2)}.form-label.required::after{content:'*';color:var(--color-danger);margin-left:var(--space-1)}.form-input,.form-textarea,.form-select{width:100%;padding:var(--space-3) var(--space-4);border:calc(var(--space-1) / 2) solid var(--border-color);border-radius:var(--radius-md);background:var(--bg-secondary);color:var(--text-primary);font-size:var(--font-size-base);font-family:inherit;transition:all 0.2s}.form-input:focus,.form-textarea:focus,.form-select:focus{outline:none;border-color:var(--color-pink-500);box-shadow:0 0 0 calc(var(--space-1) * 0.75) var(--effect-pink-10)}.form-textarea{min-height:calc(var(--space-20) + var(--space-5));resize:vertical}.form-hint{font-size:var(--font-size-sm);color:var(--text-secondary);margin-top:calc(var(--space-1) * 1.5)}.image-upload-area{border:calc(var(--space-1) / 2) dashed var(--border-color);border-radius:var(--radius-md);padding:calc(var(--space-6) + var(--space-3) / 2);text-align:center;cursor:pointer;transition:all 0.2s}.image-upload-area:hover{border-color:var(--color-pink-500);background:var(--color-pink-500-alpha-5)}.image-upload-area i{font-size:var(--font-size-4xl);color:var(--text-secondary);margin-bottom:calc(var(--space-2) + var(--space-1) / 2)}.image-upload-area .upload-text{font-size:var(--font-size-sm);color:var(--text-secondary)}.image-preview{display:none;position:relative;border-radius:var(--radius-md);overflow:hidden}.image-preview img{width:100%;height:auto;display:block}.image-remove-btn{position:absolute;top:calc(var(--space-2) + var(--space-1) / 2);right:calc(var(--space-2) + var(--space-1) / 2);width:var(--space-8);height:var(--space-8);border-radius:var(--radius-full);background:var(--effect-black-70);color:white;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center}.create-footer{padding:var(--space-4) var(--space-6);border-top:1px solid var(--border-color);display:flex;gap:var(--space-3);justify-content:flex-end;flex-shrink:0}.btn{padding:var(--space-3) var(--space-6);border-radius:var(--radius-md);font-size:var(--font-size-base);font-weight:600;cursor:pointer;transition:all 0.2s;border:none;display:inline-flex;align-items:center;gap:var(--space-2)}.btn-cancel{background:var(--bg-primary);color:var(--text-secondary)}.btn-cancel:hover{background:var(--border-color)}.btn-primary{background:linear-gradient(135deg,var(--color-pink-500),var(--color-pink-400));color:white;box-shadow:0 var(--space-1) calc(var(--space-3) + var(--space-1) / 2) var(--color-pink-500-alpha-30)}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 var(--space-2) var(--space-6) var(--color-pink-500-alpha-40)}.btn-primary:disabled{opacity:0.5;cursor:not-allowed;transform:none}.alert{padding:var(--space-3) var(--space-4);border-radius:var(--radius-md);margin-bottom:var(--space-5);display:flex;align-items:center;gap:calc(var(--space-2) + var(--space-1) / 2)}.alert-error{background:var(--effect-red-10);color:var(--color-danger);border:1px solid var(--effect-red-30)}.alert-success{background:var(--color-green-500-alpha-10);color:var(--color-green-500);border:1px solid var(--color-green-500-alpha-30)}@media (max-width:768px){.create-overlay-backdrop{padding:0}.create-overlay-container{max-width:100%;max-height:100vh;border-radius:0}.create-content{padding:var(--space-5)}.type-pills-nav{padding:var(--space-3) var(--space-5)}}.admin-badge{display:inline-flex;align-items:center;gap:var(--space-1);padding:calc(var(--space-1) / 2) var(--space-2);background:var(--effect-amber-10);color:var(--color-warning);border-radius:var(--radius-sm);font-size:var(--font-size-xs);font-weight:700;text-transform:uppercase;letter-spacing:0.5px}.offline-banner{position:fixed;top:0;left:0;right:0;z-index:10001;padding:var(--space-3) var(--space-5);background:linear-gradient(135deg,var(--color-danger),var(--color-red-600));color:white;font-size:var(--font-size-sm);font-weight:600;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1)}.offline-banner.visible{transform:translateY(0)}@keyframes fadeInUp{from{opacity:0;transform:translateY(var(--space-5))}to{opacity:1;transform:translateY(0)}}.htb-card{animation:fadeInUp 0.4s ease-out}.create-hub-submit:active,button:active{transform:scale(0.96) !important;transition:transform 0.1s ease !important}.create-hub-submit,.create-hub-input,button{min-height:calc(var(--space-10) + var(--space-1))}.create-hub-input{font-size:var(--space-4) !important}.create-hub-submit:focus-visible,.create-hub-input:focus-visible,button:focus-visible,a:focus-visible{outline:calc(var(--space-1) * 0.75) solid var(--color-pink-600-alpha-50);outline-offset:calc(var(--space-1) / 2)}html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}@media (max-width:768px){.create-hub-submit,button{min-height:var(--space-12)}}.create-hub-wrapper{padding-top:calc(var(--space-20) * 1.5);padding-bottom:var(--space-10)}.create-hub-wrapper .htb-header-box{margin-bottom:var(--space-5)}.create-hub-wrapper .htb-card{padding:var(--space-6)}.create-hub-input{width:100%;padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);border:calc(var(--space-1) / 2) solid var(--color-gray-200);border-radius:var(--radius-md);font-size:var(--font-size-base);font-family:inherit;box-sizing:border-box;transition:border-color 0.2s ease,box-shadow 0.2s ease;background:white;color:var(--htb-text-main);-webkit-appearance:none}.create-hub-input:focus{outline:none;border-color:var(--color-pink-600);box-shadow:0 0 0 var(--space-1) var(--color-pink-600-alpha-10)}.create-hub-input::placeholder{color:var(--color-gray-400)}textarea.create-hub-input{resize:vertical;min-height:calc(var(--space-20) * 1.5)}.create-hub-label{display:block;font-weight:700;margin-bottom:var(--space-2);color:var(--htb-text-main);font-size:var(--font-size-base)}.create-hub-submit{width:100%;padding:var(--space-4);font-size:var(--font-size-lg);border-radius:var(--radius-md);background:linear-gradient(135deg,var(--color-pink-600),var(--color-pink-500));border:none;color:white;font-weight:700;cursor:pointer;box-shadow:0 var(--space-1) calc(var(--space-3) + var(--space-1) / 2) var(--color-pink-600-alpha-30);transition:all 0.2s ease;-webkit-tap-highlight-color:transparent}.create-hub-submit:active{transform:scale(0.98)}[data-theme="dark"] .create-hub-input{background:var(--effect-slate-80);border-color:var(--effect-white-15);color:var(--color-slate-100)}@media (max-width:768px){.create-hub-wrapper{padding-top:calc(var(--space-20) + var(--space-5));padding-bottom:calc(var(--space-20) + var(--space-5))}.create-hub-wrapper .htb-card{padding:var(--space-5) var(--space-4);border-radius:var(--radius-lg)}.create-hub-input{padding:var(--space-3) calc(var(--space-3) + var(--space-1) / 2);font-size:var(--space-4)}}.federation-section{margin-bottom:calc(var(--space-6) + var(--space-1));padding:var(--space-6);border-radius:var(--radius-lg);background:linear-gradient(135deg,var(--effect-purple-5) 0%,var(--color-indigo-alpha-3) 100%);border:1px solid var(--effect-purple-15)}[data-theme="dark"] .federation-section{background:linear-gradient(135deg,var(--effect-purple-10) 0%,var(--effect-primary-5) 100%);border-color:var(--effect-purple-20)}.federation-options{display:flex;flex-direction:column;gap:var(--space-3)}.radio-card{display:flex;align-items:flex-start;padding:var(--space-4);border-radius:var(--radius-md);background:var(--effect-white-60);border:calc(var(--space-1) / 2) solid transparent;cursor:pointer;transition:all 0.2s ease}[data-theme="dark"] .radio-card{background:var(--effect-slate-60)}.radio-card:hover{background:var(--effect-white-90);border-color:var(--effect-purple-30)}[data-theme="dark"] .radio-card:hover{background:var(--effect-slate-90)}.radio-card:has(input:checked){background:var(--effect-purple-10);border-color:var(--color-purple-500)}[data-theme="dark"] .radio-card:has(input:checked){background:var(--effect-purple-20)}.radio-card input[type="radio"]{margin-right:var(--space-3);margin-top:var(--space-1);accent-color:var(--color-purple-500);width:calc(var(--space-4) + var(--space-1) / 2);height:calc(var(--space-4) + var(--space-1) / 2)}.radio-content{display:flex;flex-direction:column;gap:var(--space-1);flex:1}.radio-label{font-weight:600;font-size:var(--font-size-base);color:var(--htb-text-main,var(--color-gray-800))}[data-theme="dark"] .radio-label{color:var(--color-slate-100)}.radio-desc{font-size:var(--font-size-sm);color:var(--color-gray-500);line-height:1.4}[data-theme="dark"] .radio-desc{color:var(--color-slate-400)}.federation-optin-notice{display:flex;align-items:flex-start;gap:var(--space-3);padding:var(--space-4);border-radius:var(--radius-md);background:var(--effect-amber-10);border:1px solid var(--effect-amber-20)}.federation-optin-notice i{color:var(--color-warning);font-size:var(--font-size-xl);margin-top:calc(var(--space-1) / 2)}.federation-optin-notice strong{display:block;color:var(--htb-text-main,var(--color-gray-800));margin-bottom:var(--space-1)}[data-theme="dark"] .federation-optin-notice strong{color:var(--color-slate-100)}.federation-optin-notice p{font-size:var(--font-size-sm);color:var(--color-gray-500);margin:0}[data-theme="dark"] .federation-optin-notice p{color:var(--color-slate-400)}.federation-optin-notice a{color:var(--color-purple-500);text-decoration:underline}.offline-banner{position:fixed;top:0;left:0;right:0;z-index:10001;padding:var(--space-3) var(--space-5);background:linear-gradient(135deg,var(--color-danger),var(--color-red-600));color:white;font-size:var(--font-size-sm);font-weight:600;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1)}.offline-banner.visible{transform:translateY(0)}@keyframes fadeInUp{from{opacity:0;transform:translateY(var(--space-5))}to{opacity:1;transform:translateY(0)}}.discussion-create-card{animation:fadeInUp 0.4s ease-out}.discussion-submit-btn:active,.discussion-back-btn:active,button:active{transform:scale(0.96) !important;transition:transform 0.1s ease !important}.discussion-submit-btn,.discussion-back-btn,.discussion-cancel-btn,.discussion-form-input,button{min-height:calc(var(--space-10) + var(--space-1))}.discussion-form-input{font-size:var(--space-4) !important}.discussion-submit-btn:focus-visible,.discussion-back-btn:focus-visible,.discussion-cancel-btn:focus-visible,.discussion-form-input:focus-visible,button:focus-visible,a:focus-visible{outline:calc(var(--space-1) * 0.75) solid var(--color-pink-600-alpha-50);outline-offset:calc(var(--space-1) / 2)}html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}@media (max-width:768px){.discussion-submit-btn,.discussion-back-btn,.discussion-cancel-btn,button{min-height:var(--space-12)}}.discussion-create-wrapper{padding-top:calc(var(--space-20) * 1.5);padding-bottom:var(--space-10);max-width:800px;position:relative;z-index:20}.discussion-back-btn{display:inline-flex;align-items:center;gap:var(--space-2);padding:calc(var(--space-2) + var(--space-1) / 2) calc(var(--space-4) + var(--space-1) / 2);background:var(--effect-white-90);backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));-webkit-backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));border-radius:var(--radius-md);color:var(--color-slate-500);text-decoration:none;font-size:var(--font-size-sm);font-weight:600;margin-bottom:var(--space-4);transition:all 0.2s ease;-webkit-tap-highlight-color:transparent}.discussion-back-btn:hover{background:white;color:var(--color-pink-600)}.discussion-create-card{overflow:hidden;box-shadow:0 calc(var(--space-2) + var(--space-1) / 2) calc(var(--space-6) + var(--space-3) / 2) var(--effect-black-10);border-radius:var(--radius-xl)}.discussion-create-header{background:linear-gradient(135deg,var(--color-pink-200) 0%,var(--color-pink-400) 100%);padding:var(--space-6);color:#831843}.discussion-create-header h2{margin:0;font-weight:800;font-size:var(--font-size-2xl);display:flex;align-items:center;gap:calc(var(--space-2) + var(--space-1) / 2)}.discussion-create-header p{margin:calc(var(--space-1) * 1.5) 0 0 0;opacity:0.8;font-size:var(--font-size-sm)}.discussion-create-body{padding:var(--space-6)}.discussion-form-label{display:block;font-weight:600;color:var(--htb-text-main);margin-bottom:var(--space-2);font-size:var(--font-size-base)}.discussion-form-input{width:100%;padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);font-size:var(--font-size-base);border:calc(var(--space-1) / 2) solid var(--color-gray-200);border-radius:var(--radius-md);font-family:inherit;box-sizing:border-box;transition:border-color 0.2s ease,box-shadow 0.2s ease;background:white;color:var(--htb-text-main);-webkit-appearance:none}.discussion-form-input:focus{outline:none;border-color:var(--color-pink-600);box-shadow:0 0 0 var(--space-1) var(--color-pink-600-alpha-10)}.discussion-form-input::placeholder{color:var(--color-gray-400)}textarea.discussion-form-input{resize:vertical;min-height:calc(var(--space-20) + var(--space-12) + var(--space-3));line-height:1.6}.discussion-form-hint{font-size:var(--font-size-sm);color:var(--color-gray-500);margin-top:calc(var(--space-1) * 1.5);text-align:right}.discussion-form-actions{display:flex;justify-content:flex-end;align-items:center;gap:var(--space-3);padding-top:var(--space-5);border-top:1px solid var(--color-gray-100)}.discussion-cancel-btn{text-decoration:none;color:var(--color-gray-500);font-weight:600;padding:var(--space-3) var(--space-5);border-radius:var(--radius-md);transition:all 0.2s ease;-webkit-tap-highlight-color:transparent}.discussion-cancel-btn:hover{background:var(--color-gray-100)}.discussion-submit-btn{display:inline-flex;align-items:center;gap:var(--space-2);background:linear-gradient(135deg,var(--color-pink-600),var(--color-pink-500));border:none;padding:calc(var(--space-3) + var(--space-1) / 2) calc(var(--space-6) + var(--space-1));font-size:var(--font-size-base);font-weight:600;color:white;border-radius:var(--radius-md);box-shadow:0 var(--space-1) 15px var(--color-pink-600-alpha-30);cursor:pointer;transition:all 0.2s ease;-webkit-tap-highlight-color:transparent}.discussion-submit-btn:active{transform:scale(0.98)}[data-theme="dark"] .discussion-form-input{background:var(--effect-slate-80);border-color:var(--effect-white-15);color:var(--color-slate-100)}[data-theme="dark"] .discussion-back-btn{background:var(--effect-slate-90);color:var(--color-slate-300)}@media (max-width:768px){.discussion-create-wrapper{padding:calc(var(--space-20) + var(--space-5)) var(--space-3) calc(var(--space-20) + var(--space-5)) var(--space-3)}.discussion-create-card{border-radius:var(--radius-lg)}.discussion-create-header{padding:var(--space-5) var(--space-4)}.discussion-create-header h2{font-size:var(--font-size-xl)}.discussion-create-body{padding:var(--space-5) var(--space-4)}.discussion-form-input{padding:var(--space-3) calc(var(--space-3) + var(--space-1) / 2);font-size:var(--space-4)}.discussion-form-actions{flex-direction:column-reverse;gap:calc(var(--space-2) + var(--space-1) / 2)}.discussion-cancel-btn,.discussion-submit-btn{width:100%;justify-content:center;text-align:center}.discussion-back-btn{padding:var(--space-2) calc(var(--space-3) + var(--space-1) / 2);font-size:var(--font-size-sm)}}.offline-banner{position:fixed;top:0;left:0;right:0;z-index:10001;padding:var(--space-3) var(--space-5);background:linear-gradient(135deg,var(--color-danger),var(--color-red-600));color:white;font-size:var(--font-size-sm);font-weight:600;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1)}.offline-banner.visible{transform:translateY(0)}@keyframes fadeInUp{from{opacity:0;transform:translateY(var(--space-5))}to{opacity:1;transform:translateY(0)}}.discussion-chat-card{animation:fadeInUp 0.4s ease-out}.discussion-reply-btn:active,.discussion-action-btn:active,.discussion-back-btn:active,button:active{transform:scale(0.96) !important;transition:transform 0.1s ease !important}.discussion-reply-btn,.discussion-action-btn,.discussion-back-btn,.discussion-reply-input,button{min-height:calc(var(--space-10) + var(--space-1))}.discussion-reply-input{font-size:var(--space-4) !important}.discussion-reply-btn:focus-visible,.discussion-action-btn:focus-visible,.discussion-back-btn:focus-visible,.discussion-reply-input:focus-visible,button:focus-visible,a:focus-visible{outline:calc(var(--space-1) * 0.75) solid var(--color-pink-600-alpha-50);outline-offset:calc(var(--space-1) / 2)}html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}@media (max-width:768px){.discussion-reply-btn,.discussion-back-btn,button{min-height:var(--space-12)}}.discussion-page-wrapper{padding-top:calc(var(--space-20) * 1.5);padding-bottom:var(--space-10);max-width:900px;position:relative;z-index:20}.discussion-back-nav{margin-bottom:var(--space-4)}.discussion-back-btn{display:inline-flex;align-items:center;gap:var(--space-2);padding:calc(var(--space-2) + var(--space-1) / 2) calc(var(--space-4) + var(--space-1) / 2);background:var(--effect-white-90);backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));-webkit-backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));border-radius:var(--radius-md);color:var(--color-slate-500);text-decoration:none;font-size:var(--font-size-sm);font-weight:600;transition:all 0.2s ease;-webkit-tap-highlight-color:transparent}.discussion-back-btn:hover{background:white;color:var(--color-pink-600)}.discussion-chat-card{height:calc(100vh - 200px);min-height:400px;max-height:700px;display:flex;flex-direction:column;overflow:hidden;box-shadow:0 var(--space-5) 50px var(--effect-black-10);border:1px solid var(--effect-white-60);border-radius:var(--radius-xl)}.discussion-header{padding:var(--space-4) var(--space-5);border-bottom:1px solid var(--effect-black-5);background:var(--effect-white-90);backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));-webkit-backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));display:flex;align-items:center;justify-content:space-between;gap:var(--space-3);z-index:10;flex-shrink:0}.discussion-header-info{flex:1;min-width:0}.discussion-title{margin:0;font-size:var(--font-size-lg);font-weight:800;color:var(--color-slate-800);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.discussion-meta{font-size:var(--font-size-sm);color:var(--color-slate-500);margin-top:var(--space-1)}.discussion-header-actions{display:flex;gap:var(--space-2);flex-shrink:0}.discussion-action-btn{width:calc(var(--space-8) + var(--space-3) / 2);height:calc(var(--space-8) + var(--space-3) / 2);padding:0;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;background:var(--color-slate-50);border:none;color:var(--color-slate-400);cursor:pointer;-webkit-tap-highlight-color:transparent}.discussion-stream{flex-grow:1;overflow-y:auto;padding:var(--space-5);background:var(--effect-white-40);display:flex;flex-direction:column;gap:var(--space-3);-webkit-overflow-scrolling:touch}.discussion-stream::-webkit-scrollbar{width:var(--space-1)}.discussion-stream::-webkit-scrollbar-thumb{background:var(--effect-black-10);border-radius:calc(var(--space-1) / 2)}.discussion-message{display:flex;gap:calc(var(--space-2) + var(--space-1) / 2);max-width:85%;width:100%}.discussion-message.me{align-self:flex-end;flex-direction:row-reverse}.discussion-message.others{align-self:flex-start}.discussion-avatar{flex-shrink:0;width:calc(var(--space-8) + var(--space-1));height:calc(var(--space-8) + var(--space-1));border-radius:var(--radius-md);object-fit:cover;box-shadow:0 calc(var(--space-1) / 2) var(--space-2) var(--effect-black-10)}.discussion-avatar-placeholder{width:calc(var(--space-8) + var(--space-1));height:calc(var(--space-8) + var(--space-1));background:white;color:var(--color-pink-600);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:var(--font-size-sm);flex-shrink:0;box-shadow:0 calc(var(--space-1) / 2) var(--space-2) var(--effect-black-10)}.discussion-bubble-wrap{display:flex;flex-direction:column}.discussion-message.me .discussion-bubble-wrap{align-items:flex-end}.discussion-message.others .discussion-bubble-wrap{align-items:flex-start}.discussion-author{font-size:var(--font-size-xs);font-weight:600;color:var(--color-slate-500);margin-bottom:var(--space-1);margin-left:var(--space-1)}.discussion-bubble{padding:var(--space-3) var(--space-4);border-radius:var(--radius-lg);font-size:var(--font-size-base);line-height:1.5;box-shadow:0 calc(var(--space-1) / 2) var(--space-2) var(--effect-black-5);word-wrap:break-word}.discussion-bubble.me{background:linear-gradient(135deg,var(--color-pink-600) 0%,var(--color-pink-700) 100%);color:white;border-bottom-right-radius:var(--space-1)}.discussion-bubble.others{background:white;color:var(--color-slate-700);border-bottom-left-radius:var(--space-1)}.discussion-time{font-size:0.65rem;margin-top:var(--space-1);text-align:right;opacity:0.7}.discussion-bubble.me .discussion-time{color:var(--effect-white-85)}.discussion-bubble.others .discussion-time{color:var(--color-slate-400)}.discussion-reply-dock{padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);background:var(--effect-white-90);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px);border-top:1px solid var(--effect-black-5);flex-shrink:0}.discussion-reply-form{display:flex;gap:calc(var(--space-2) + var(--space-1) / 2);align-items:flex-end}.discussion-reply-input{flex-grow:1;width:100%;padding:var(--space-3) calc(var(--space-4) + var(--space-1) / 2);border-radius:var(--radius-2xl);border:calc(var(--space-1) / 2) solid transparent;background:white;box-shadow:0 calc(var(--space-1) / 2) calc(var(--space-2) + var(--space-1) / 2) var(--effect-black-5);resize:none;min-height:var(--space-12);max-height:calc(var(--space-20) * 1.5);font-size:var(--font-size-base);font-family:inherit;outline:none;box-sizing:border-box;transition:all 0.2s ease}.discussion-reply-input:focus{border-color:var(--color-pink-200);box-shadow:0 0 0 var(--space-1) var(--color-pink-600-alpha-10)}.discussion-reply-btn{flex-shrink:0;width:var(--space-12);height:var(--space-12);background:linear-gradient(135deg,var(--color-pink-600),var(--color-pink-500));border:none;color:white;border-radius:var(--radius-full);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 var(--space-1) var(--space-3) var(--color-pink-600-alpha-35);-webkit-tap-highlight-color:transparent;transition:transform 0.2s ease}.discussion-reply-btn:active{transform:scale(0.95)}.discussion-locked-msg{text-align:center;color:var(--color-slate-500);padding:var(--space-3);font-size:var(--font-size-sm)}.discussion-locked-msg a{color:var(--color-pink-600);font-weight:700;text-decoration:none}@media (max-width:768px){.discussion-page-wrapper{padding:calc(var(--space-20) + var(--space-5)) var(--space-3) calc(var(--space-6) + var(--space-3) / 2) var(--space-3)}.discussion-chat-card{height:calc(100vh - 160px);min-height:350px;max-height:none;border-radius:var(--radius-lg)}.discussion-header{padding:var(--space-3) calc(var(--space-3) + var(--space-1) / 2)}.discussion-title{font-size:var(--font-size-base)}.discussion-meta{font-size:var(--font-size-xs)}.discussion-header-actions{gap:calc(var(--space-1) * 1.5)}.discussion-action-btn{width:calc(var(--space-8) + var(--space-1) / 2);height:calc(var(--space-8) + var(--space-1) / 2)}.discussion-stream{padding:calc(var(--space-3) + var(--space-1) / 2);gap:calc(var(--space-2) + var(--space-1) / 2)}.discussion-message{max-width:90%;gap:var(--space-2)}.discussion-avatar,.discussion-avatar-placeholder{width:var(--space-8);height:var(--space-8);font-size:var(--font-size-sm)}.discussion-bubble{padding:calc(var(--space-2) + var(--space-1) / 2) calc(var(--space-3) + var(--space-1) / 2);font-size:var(--font-size-sm)}.discussion-reply-dock{padding:var(--space-3);padding-bottom:max(var(--space-3),env(safe-area-inset-bottom))}.discussion-reply-input{padding:calc(var(--space-2) + var(--space-1) / 2) var(--space-4);min-height:calc(var(--space-10) + var(--space-1))}.discussion-reply-btn{width:calc(var(--space-10) + var(--space-1));height:calc(var(--space-10) + var(--space-1))}.discussion-back-btn{padding:var(--space-2) calc(var(--space-3) + var(--space-1) / 2);font-size:var(--font-size-sm)}}@media (max-width:480px){.discussion-page-wrapper{padding:95px var(--space-2) var(--space-5) var(--space-2)}.discussion-avatar,.discussion-avatar-placeholder{width:calc(var(--space-6) + var(--space-1));height:calc(var(--space-6) + var(--space-1));border-radius:var(--radius-base);font-size:var(--font-size-xs)}.discussion-message{gap:calc(var(--space-1) * 1.5)}}[data-theme="dark"] .discussion-chat-card{border-color:var(--effect-white-10)}[data-theme="dark"] .discussion-header{background:var(--effect-slate-95)}[data-theme="dark"] .discussion-stream{background:var(--color-slate-900-alpha-60)}[data-theme="dark"] .discussion-bubble.others{background:var(--color-slate-600-alpha-90);color:var(--color-slate-200)}[data-theme="dark"] .discussion-reply-dock{background:var(--effect-slate-95)}[data-theme="dark"] .discussion-reply-input{background:var(--color-slate-700-alpha-80);color:var(--color-slate-200)}*{margin:0;padding:0;box-sizing:border-box}:root{--safe-top:env(safe-area-inset-top,0px);--safe-bottom:env(safe-area-inset-bottom,0px);--safe-left:env(safe-area-inset-left,0px);--safe-right:env(safe-area-inset-right,0px);--ed-bg:var(--color-slate-900);--ed-surface:var(--effect-slate-95);--ed-border:var(--effect-white-10);--ed-text:var(--color-slate-100);--ed-text-secondary:var(--color-slate-300);--ed-text-muted:var(--color-slate-400);--ed-primary:var(--color-primary-500);--ed-primary-light:var(--effect-primary-15);--ed-success:var(--color-success);--ed-success-light:var(--effect-emerald-15);--ed-danger:var(--color-danger);--ed-danger-light:var(--effect-red-15);--ed-pink:var(--color-pink-500);--ed-pink-light:var(--effect-pink-15)}.edit-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;background:var(--ed-bg);z-index:9999;display:flex;flex-direction:column}.edit-overlay{width:100%;height:100%;display:flex;flex-direction:column;background:var(--ed-bg)}.edit-header{position:sticky;top:0;z-index:100;background:var(--ed-surface);border-bottom:1px solid var(--ed-border);padding:var(--space-3) var(--space-4);padding-top:calc(var(--space-3) + var(--safe-top));display:flex;align-items:center;justify-content:space-between;backdrop-filter:blur(var(--space-5));-webkit-backdrop-filter:blur(var(--space-5))}.edit-header-left{display:flex;align-items:center;gap:var(--space-3)}.edit-close-btn{width:calc(var(--space-8) + var(--space-1));height:calc(var(--space-8) + var(--space-1));border-radius:var(--radius-full);border:none;background:var(--ed-danger-light);color:var(--ed-danger);font-size:calc(var(--space-4) + var(--space-1) / 2);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s;-webkit-tap-highlight-color:transparent}.edit-close-btn:active{transform:scale(0.9)}.edit-title{font-size:calc(var(--space-4) + var(--space-1) / 2);font-weight:700;color:var(--ed-text)}.edit-tabs{padding:var(--space-3) var(--space-4);background:var(--ed-surface);border-bottom:1px solid var(--ed-border);overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;scrollbar-width:none}.edit-tabs::-webkit-scrollbar{display:none}.edit-tabs-inner{display:flex;gap:var(--space-2);min-width:min-content}.edit-pill{flex-shrink:0;padding:calc(var(--space-2) + var(--space-1) / 2) var(--space-5);border-radius:var(--radius-2xl);border:calc(var(--space-1) / 2) solid var(--ed-border);background:transparent;color:var(--ed-text-secondary);font-size:calc(var(--space-3) + var(--space-1) / 2);font-weight:600;cursor:pointer;transition:all 0.2s cubic-bezier(0.4,0,0.2,1);display:inline-flex;align-items:center;gap:var(--space-2);white-space:nowrap;-webkit-tap-highlight-color:transparent}.edit-pill i{font-size:var(--space-4);transition:transform 0.2s}.edit-pill:hover{border-color:var(--ed-primary);color:var(--ed-primary);background:var(--ed-primary-light)}.edit-pill:active{transform:scale(0.96)}.edit-pill.active{background:linear-gradient(135deg,var(--color-primary-500) 0%,var(--color-purple-500) 100%);border-color:transparent;color:white;box-shadow:0 var(--space-1) 15px var(--effect-primary-35)}.edit-pill.active i{transform:scale(1.1)}.edit-content{flex:1;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;padding-bottom:calc(var(--space-5) + var(--safe-bottom))}.edit-panel{display:none;padding:var(--space-5) var(--space-4);animation:panelFadeIn 0.3s ease}.edit-panel.active{display:block}@keyframes panelFadeIn{from{opacity:0;transform:translateY(var(--space-3))}to{opacity:1;transform:translateY(0)}}.ed-field{margin-bottom:var(--space-6)}.ed-label{display:block;font-size:var(--font-size-sm);font-weight:600;color:var(--ed-text-secondary);text-transform:uppercase;letter-spacing:0.05em;margin-bottom:var(--space-2)}.ed-input,.ed-textarea,.ed-select{width:100%;padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);border:calc(var(--space-1) / 2) solid var(--ed-border);border-radius:var(--radius-md);background:var(--effect-slate-60);color:var(--ed-text);font-size:var(--space-4);font-family:inherit;transition:all 0.2s;-webkit-appearance:none}.ed-textarea{min-height:calc(var(--space-20) * 1.5);resize:vertical}.ed-input:focus,.ed-textarea:focus,.ed-select:focus{outline:none;border-color:var(--ed-primary);box-shadow:0 0 0 var(--space-1) var(--ed-primary-light)}.ed-hint{font-size:var(--space-3);color:var(--ed-text-muted);margin-top:calc(var(--space-1) * 1.5)}.ed-checkbox-field{display:flex;align-items:flex-start;gap:var(--space-3);margin-bottom:var(--space-6);cursor:pointer}.ed-checkbox-field input[type="checkbox"]{width:var(--space-5);height:var(--space-5);margin-top:calc(var(--space-1) / 2);accent-color:var(--ed-primary);cursor:pointer}.ed-checkbox-label{flex:1}.ed-checkbox-title{font-weight:600;color:var(--ed-text);margin-bottom:var(--space-1)}.ed-checkbox-desc{font-size:var(--space-3);color:var(--ed-text-muted)}.ed-image-upload{margin-bottom:var(--space-6);display:flex;flex-direction:column;align-items:flex-start}.ed-image-preview{width:100%;max-width:300px;height:calc(var(--space-20) * 2.5);border-radius:var(--radius-md);object-fit:cover;margin-bottom:var(--space-3);border:calc(var(--space-1) / 2) solid var(--ed-border);display:block}.ed-upload-btn{display:inline-flex;align-items:center;gap:var(--space-2);padding:calc(var(--space-2) + var(--space-1) / 2) var(--space-4);background:var(--ed-primary-light);color:var(--ed-primary);border:calc(var(--space-1) / 2) solid var(--ed-primary);border-radius:var(--radius-md);font-weight:600;font-size:calc(var(--space-3) + var(--space-1) / 2);cursor:pointer;transition:all 0.2s;align-self:flex-start}.ed-upload-btn:hover{background:var(--ed-primary);color:white}.ed-upload-btn input[type="file"]{display:none}.ed-image-actions{display:flex;gap:var(--space-2);align-items:center}.ed-clear-btn{display:inline-flex;align-items:center;gap:calc(var(--space-1) * 1.5);padding:calc(var(--space-2) + var(--space-1) / 2) calc(var(--space-3) + var(--space-1) / 2);background:transparent;color:var(--color-gray-400);border:calc(var(--space-1) / 2) solid var(--color-gray-200);border-radius:var(--radius-md);font-weight:600;font-size:calc(var(--space-3) + var(--space-1) / 2);cursor:pointer;transition:all 0.2s}.ed-clear-btn:hover{background:var(--color-red-50);color:var(--color-red-600);border-color:var(--color-red-300)}.ed-clear-btn:has(input:checked){background:var(--color-red-600);color:white;border-color:var(--color-red-600)}.ed-image-upload:has(.ed-clear-btn input:checked) .ed-image-preview{opacity:0.4;border-color:var(--color-red-300)}.ed-submit{width:100%;padding:var(--space-4);border-radius:var(--radius-md);background:linear-gradient(135deg,var(--color-primary-500),var(--color-purple-500));border:none;color:white;font-size:var(--space-4);font-weight:700;cursor:pointer;box-shadow:0 var(--space-1) calc(var(--space-3) + var(--space-1) / 2) var(--effect-primary-40);transition:all 0.2s;-webkit-tap-highlight-color:transparent;margin-top:var(--space-3)}.ed-submit:active{transform:scale(0.98)}.ed-submit:disabled{background:var(--color-gray-600);box-shadow:none;cursor:not-allowed}.invite-search{width:100%;padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);border:calc(var(--space-1) / 2) solid var(--ed-border);border-radius:var(--radius-md);font-size:var(--space-4);font-family:inherit;background:var(--effect-slate-60);color:var(--ed-text);transition:all 0.2s;margin-bottom:var(--space-4)}.invite-search:focus{outline:none;border-color:var(--ed-primary);box-shadow:0 0 0 var(--space-1) var(--ed-primary-light)}.user-list{max-height:400px;overflow-y:auto;margin-bottom:var(--space-5);border:1px solid var(--ed-border);border-radius:var(--radius-md)}.user-item{display:flex;align-items:center;padding:var(--space-3) var(--space-4);border-bottom:1px solid var(--ed-border);cursor:pointer;transition:background 0.15s ease;min-height:calc(var(--space-10) + var(--space-1))}.user-item:last-child{border-bottom:none}.user-item:hover{background:var(--ed-primary-light)}.user-item.selected{background:var(--ed-pink-light)}.user-item input[type="checkbox"]{margin-right:var(--space-3);width:var(--space-5);height:var(--space-5);accent-color:var(--ed-pink)}.user-avatar{width:var(--space-10);height:var(--space-10);border-radius:var(--radius-full);object-fit:cover;margin-right:var(--space-3);background:var(--color-gray-700)}.user-info{flex:1}.user-name{font-weight:600;color:var(--ed-text)}.user-email{font-size:var(--font-size-sm);color:var(--ed-text-muted)}.selected-count{text-align:center;margin-bottom:var(--space-4);font-weight:600;color:var(--ed-pink)}.no-users{text-align:center;padding:var(--space-10) var(--space-5);color:var(--ed-text-muted)}.add-directly-box{margin:var(--space-5) 0;padding:var(--space-4);background:linear-gradient(135deg,var(--effect-emerald-10),var(--color-emerald-alpha-5));border:calc(var(--space-1) / 2) solid var(--ed-success);border-radius:var(--radius-md)}.add-directly-box label{display:flex;align-items:flex-start;gap:var(--space-3);cursor:pointer}.add-directly-box input[type="checkbox"]{width:var(--space-5);height:var(--space-5);margin-top:calc(var(--space-1) / 2);accent-color:var(--ed-success)}.add-directly-title{font-weight:600;color:var(--ed-success);margin-bottom:var(--space-1)}.add-directly-desc{font-size:var(--font-size-sm);color:var(--ed-text-secondary)}@media (min-width:768px){body{overflow:hidden}.edit-backdrop{background:var(--effect-black-60);backdrop-filter:blur(var(--space-3));-webkit-backdrop-filter:blur(var(--space-3));display:flex;align-items:center;justify-content:center;padding:var(--space-10)}.edit-backdrop:not(:has(.edit-overlay:hover)){cursor:pointer}.edit-overlay{position:relative;width:100%;max-width:720px;max-height:90vh;background:var(--ed-surface);border-radius:var(--radius-2xl);box-shadow:0 25px 60px var(--effect-black-50),0 0 0 1px var(--effect-white-10);overflow:hidden}.edit-header{border-radius:var(--radius-2xl) var(--space-6) 0 0;padding-top:var(--space-3)}.edit-close-btn:hover{background:var(--ed-danger);color:white;transform:scale(1.05)}.edit-content{padding:var(--space-6)}.edit-panel{padding:0}.ed-input,.ed-textarea,.ed-select{font-size:var(--font-size-base)}}.text-center{text-align:center}.mt-2{margin-top:var(--space-4)}.mb-2{margin-bottom:var(--space-4)}.offline-banner{position:fixed;top:0;left:0;right:0;z-index:10001;padding:var(--space-3) var(--space-5);background:linear-gradient(135deg,var(--color-danger),var(--color-red-600));color:white;font-size:var(--font-size-sm);font-weight:600;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1)}.offline-banner.visible{transform:translateY(0)}@keyframes fadeInUp{from{opacity:0;transform:translateY(var(--space-5))}to{opacity:1;transform:translateY(0)}}.htb-card{animation:fadeInUp 0.4s ease-out}.edit-submit:active,button:active{transform:scale(0.96) !important;transition:transform 0.1s ease !important}.edit-submit,.edit-input,.edit-textarea,.edit-select,button{min-height:calc(var(--space-10) + var(--space-1))}.edit-input,.edit-textarea{font-size:var(--space-4) !important}.edit-submit:focus-visible,.edit-input:focus-visible,.edit-textarea:focus-visible,.edit-select:focus-visible,button:focus-visible,a:focus-visible{outline:calc(var(--space-1) * 0.75) solid var(--color-pink-600-alpha-50);outline-offset:calc(var(--space-1) / 2)}html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}@media (max-width:768px){.edit-submit,button{min-height:var(--space-12)}}.edit-wrapper{padding-top:calc(var(--space-20) * 1.5);padding-bottom:calc(var(--space-20) + var(--space-5))}.edit-wrapper .htb-header-box{margin-bottom:var(--space-5)}.edit-wrapper .htb-card{padding:var(--space-6);background:var(--htb-card-bg,white);border-radius:var(--radius-lg);box-shadow:0 var(--space-1) var(--space-5) var(--effect-black-8)}[data-theme="dark"] .edit-wrapper .htb-card{background:var(--effect-slate-80);border:1px solid var(--effect-white-10)}.edit-form-group{margin-bottom:var(--space-5)}.edit-label{display:block;font-weight:600;color:var(--htb-text-main);margin-bottom:var(--space-2);font-size:var(--font-size-base)}.edit-label-hint{font-weight:400;color:var(--htb-text-muted);font-size:var(--font-size-sm);margin-left:var(--space-1)}.edit-input,.edit-textarea,.edit-select{width:100%;padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);border:calc(var(--space-1) / 2) solid var(--color-gray-200);border-radius:var(--radius-md);font-size:var(--font-size-base);font-family:inherit;box-sizing:border-box;transition:border-color 0.2s ease,box-shadow 0.2s ease;background:white;color:var(--htb-text-main);-webkit-appearance:none}.edit-textarea{resize:vertical;min-height:calc(var(--space-20) * 1.5)}.edit-input:focus,.edit-textarea:focus,.edit-select:focus{outline:none;border-color:var(--color-pink-600);box-shadow:0 0 0 var(--space-1) var(--color-pink-600-alpha-10)}[data-theme="dark"] .edit-input,[data-theme="dark"] .edit-textarea,[data-theme="dark"] .edit-select{background:var(--effect-slate-80);border-color:var(--effect-white-15);color:var(--color-slate-100)}.edit-hint{font-size:var(--font-size-sm);color:var(--htb-text-muted);margin-top:calc(var(--space-1) * 1.5)}.edit-current-file{font-size:var(--font-size-sm);color:var(--color-success);margin-top:calc(var(--space-1) * 1.5);display:flex;align-items:center;gap:calc(var(--space-1) * 1.5)}.edit-submit{width:100%;padding:var(--space-4);font-size:var(--font-size-lg);border-radius:var(--radius-md);background:linear-gradient(135deg,var(--color-pink-600),var(--color-pink-500));border:none;color:white;font-weight:700;cursor:pointer;box-shadow:0 var(--space-1) calc(var(--space-3) + var(--space-1) / 2) var(--color-pink-600-alpha-30);transition:all 0.2s ease;-webkit-tap-highlight-color:transparent;margin-top:calc(var(--space-2) + var(--space-1) / 2)}.edit-submit:hover{transform:translateY(-2px);box-shadow:0 calc(var(--space-1) * 1.5) var(--space-5) var(--color-pink-600-alpha-40)}.edit-submit:active{transform:scale(0.98)}.back-link{display:inline-flex;align-items:center;gap:calc(var(--space-1) * 1.5);color:var(--color-pink-600);text-decoration:none;font-weight:600;margin-bottom:var(--space-5)}.back-link:hover{text-decoration:underline}.visibility-options{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-3)}.visibility-option{position:relative;cursor:pointer}.visibility-option input{position:absolute;opacity:0;pointer-events:none}.visibility-option-card{padding:var(--space-4);border:calc(var(--space-1) / 2) solid var(--color-gray-200);border-radius:var(--radius-md);transition:all 0.2s ease;background:white}[data-theme="dark"] .visibility-option-card{background:var(--effect-slate-60);border-color:var(--effect-white-15)}.visibility-option input:checked + .visibility-option-card{border-color:var(--color-pink-600);background:linear-gradient(135deg,var(--color-pink-600-alpha-5),var(--color-pink-500-alpha-5))}[data-theme="dark"] .visibility-option input:checked + .visibility-option-card{background:var(--color-pink-600-alpha-15)}.visibility-option-icon{font-size:var(--font-size-2xl);margin-bottom:var(--space-2)}.visibility-option-title{font-weight:600;color:var(--htb-text-main);margin-bottom:var(--space-1)}.visibility-option-desc{font-size:var(--font-size-sm);color:var(--htb-text-muted)}.file-input-wrapper{position:relative}.file-input-wrapper input[type="file"]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer}.file-input-label{display:flex;align-items:center;justify-content:center;gap:calc(var(--space-2) + var(--space-1) / 2);padding:var(--space-4);border:calc(var(--space-1) / 2) dashed var(--color-gray-300);border-radius:var(--radius-md);background:var(--color-gray-50);color:var(--htb-text-muted);font-weight:500;transition:all 0.2s ease;cursor:pointer}[data-theme="dark"] .file-input-label{background:var(--effect-slate-40);border-color:var(--effect-white-20)}.file-input-wrapper:hover .file-input-label{border-color:var(--color-pink-600);background:var(--color-pink-600-alpha-5);color:var(--color-pink-600)}.current-image-preview{margin-top:var(--space-3);display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3);background:#f0fdf4;border-radius:var(--radius-md);border:1px solid var(--color-green-300)}[data-theme="dark"] .current-image-preview{background:var(--effect-emerald-10);border-color:var(--effect-emerald-30)}.current-image-preview img{width:calc(var(--space-12) + var(--space-3));height:calc(var(--space-12) + var(--space-3));object-fit:cover;border-radius:var(--radius-base)}.current-image-preview .cover-img{width:calc(var(--space-20) * 1.5);height:calc(var(--space-12) + var(--space-3))}.clear-image-btn{margin-left:auto;width:var(--space-8);height:var(--space-8);display:flex;align-items:center;justify-content:center;border-radius:var(--radius-base);cursor:pointer;color:var(--color-gray-400);background:transparent;transition:all 0.2s ease;flex-shrink:0}.clear-image-btn .clear-icon{font-size:var(--space-5);font-weight:300;line-height:1}.clear-image-btn:hover{background:var(--color-red-50);color:var(--color-red-600)}[data-theme="dark"] .clear-image-btn:hover{background:var(--color-red-600-alpha-15);color:var(--color-red-400)}.clear-image-btn:has(input:checked){background:var(--color-red-600);color:white}[data-theme="dark"] .clear-image-btn:has(input:checked){background:var(--color-red-700)}.current-image-preview:has(.clear-image-btn input:checked){background:var(--color-red-50);border-color:var(--color-red-300)}.current-image-preview:has(.clear-image-btn input:checked) img{opacity:0.4}[data-theme="dark"] .current-image-preview:has(.clear-image-btn input:checked){background:var(--color-red-600-alpha-10);border-color:var(--color-red-600-alpha-30)}.federation-section{margin-bottom:var(--space-5);padding:var(--space-6);border-radius:var(--radius-lg);background:linear-gradient(135deg,var(--effect-purple-5) 0%,var(--color-indigo-alpha-3) 100%);border:1px solid var(--effect-purple-15)}[data-theme="dark"] .federation-section{background:linear-gradient(135deg,var(--effect-purple-10) 0%,var(--effect-primary-5) 100%);border-color:var(--effect-purple-20)}.federation-options{display:flex;flex-direction:column;gap:var(--space-3)}.radio-card{display:flex;align-items:flex-start;padding:var(--space-4);border-radius:var(--radius-md);background:var(--effect-white-60);border:calc(var(--space-1) / 2) solid transparent;cursor:pointer;transition:all 0.2s ease}[data-theme="dark"] .radio-card{background:var(--effect-slate-60)}.radio-card:hover{background:var(--effect-white-90);border-color:var(--effect-purple-30)}[data-theme="dark"] .radio-card:hover{background:var(--effect-slate-90)}.radio-card:has(input:checked){background:var(--effect-purple-10);border-color:var(--color-purple-500)}[data-theme="dark"] .radio-card:has(input:checked){background:var(--effect-purple-20)}.radio-card input[type="radio"]{margin-right:var(--space-3);margin-top:var(--space-1);accent-color:var(--color-purple-500);width:calc(var(--space-4) + var(--space-1) / 2);height:calc(var(--space-4) + var(--space-1) / 2)}.radio-content{display:flex;flex-direction:column;gap:var(--space-1);flex:1}.radio-label{font-weight:600;font-size:var(--font-size-base);color:var(--htb-text-main,var(--color-gray-800))}[data-theme="dark"] .radio-label{color:var(--color-slate-100)}.radio-desc{font-size:var(--font-size-sm);color:var(--htb-text-muted,var(--color-gray-500));line-height:1.4}[data-theme="dark"] .radio-desc{color:var(--color-slate-400)}.federation-optin-notice{display:flex;align-items:flex-start;gap:var(--space-3);padding:var(--space-4);border-radius:var(--radius-md);background:var(--effect-amber-10);border:1px solid var(--effect-amber-20)}.federation-optin-notice i{color:var(--color-warning);font-size:var(--font-size-xl);margin-top:calc(var(--space-1) / 2)}.federation-optin-notice strong{display:block;color:var(--htb-text-main,var(--color-gray-800));margin-bottom:var(--space-1)}[data-theme="dark"] .federation-optin-notice strong{color:var(--color-slate-100)}.federation-optin-notice p{font-size:var(--font-size-sm);color:var(--htb-text-muted,var(--color-gray-500));margin:0}[data-theme="dark"] .federation-optin-notice p{color:var(--color-slate-400)}.federation-optin-notice a{color:var(--color-purple-500);text-decoration:underline}@media (max-width:768px){.edit-wrapper{padding-top:calc(var(--space-20) + var(--space-5));padding-bottom:calc(var(--space-20) * 1.5)}.edit-wrapper .htb-card{padding:var(--space-5) var(--space-4);border-radius:var(--radius-md)}.visibility-options{grid-template-columns:1fr}}.offline-banner{position:fixed;top:0;left:0;right:0;z-index:10001;padding:var(--space-3) var(--space-5);background:linear-gradient(135deg,var(--color-danger),var(--color-red-600));color:white;font-size:var(--font-size-sm);font-weight:600;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1)}.offline-banner.visible{transform:translateY(0)}@keyframes fadeInUp{from{opacity:0;transform:translateY(var(--space-5))}to{opacity:1;transform:translateY(0)}}.htb-card{animation:fadeInUp 0.4s ease-out}.invite-submit:active,button:active{transform:scale(0.96) !important;transition:transform 0.1s ease !important}.invite-submit,.invite-search,.user-item,button{min-height:calc(var(--space-10) + var(--space-1))}.invite-search{font-size:var(--space-4) !important}.invite-submit:focus-visible,.invite-search:focus-visible,button:focus-visible,a:focus-visible,input:focus-visible{outline:calc(var(--space-1) * 0.75) solid var(--color-pink-600-alpha-50);outline-offset:calc(var(--space-1) / 2)}html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}@media (max-width:768px){.invite-submit,.user-item,button{min-height:var(--space-12)}}.invite-wrapper{padding-top:calc(var(--space-20) * 1.5);padding-bottom:var(--space-10)}.invite-wrapper .htb-header-box{margin-bottom:var(--space-5)}.invite-wrapper .htb-card{padding:var(--space-6)}.invite-search{width:100%;padding:calc(var(--space-3) + var(--space-1) / 2) var(--space-4);border:calc(var(--space-1) / 2) solid var(--color-gray-200);border-radius:var(--radius-md);font-size:var(--font-size-base);font-family:inherit;box-sizing:border-box;transition:border-color 0.2s ease,box-shadow 0.2s ease;background:white;color:var(--htb-text-main);-webkit-appearance:none}.invite-search:focus{outline:none;border-color:var(--color-pink-600);box-shadow:0 0 0 var(--space-1) var(--color-pink-600-alpha-10)}.user-list{max-height:400px;overflow-y:auto;margin:var(--space-5) 0;border:1px solid var(--color-gray-200);border-radius:var(--radius-md)}.user-item{display:flex;align-items:center;padding:var(--space-3) var(--space-4);border-bottom:1px solid var(--color-gray-100);cursor:pointer;transition:background 0.15s ease}.user-item:last-child{border-bottom:none}.user-item:hover{background:var(--color-pink-50)}.user-item.selected{background:var(--color-pink-100)}.user-item input[type="checkbox"]{margin-right:var(--space-3);width:var(--space-5);height:var(--space-5);accent-color:var(--color-pink-600)}.user-avatar{width:var(--space-10);height:var(--space-10);border-radius:var(--radius-full);object-fit:cover;margin-right:var(--space-3);background:var(--color-gray-200)}.user-info{flex:1}.user-name{font-weight:600;color:var(--htb-text-main)}.user-email{font-size:var(--font-size-sm);color:var(--color-gray-500)}.invite-submit{width:100%;padding:var(--space-4);font-size:var(--font-size-lg);border-radius:var(--radius-md);background:linear-gradient(135deg,var(--color-pink-600),var(--color-pink-500));border:none;color:white;font-weight:700;cursor:pointer;box-shadow:0 var(--space-1) calc(var(--space-3) + var(--space-1) / 2) var(--color-pink-600-alpha-30);transition:all 0.2s ease;-webkit-tap-highlight-color:transparent}.invite-submit:disabled{background:var(--color-gray-400);box-shadow:none;cursor:not-allowed}.invite-submit:active:not(:disabled){transform:scale(0.98)}.selected-count{text-align:center;margin-bottom:var(--space-4);font-weight:600;color:var(--color-pink-600)}.no-users{text-align:center;padding:var(--space-10) var(--space-5);color:var(--color-gray-500)}.back-link{display:inline-flex;align-items:center;gap:calc(var(--space-1) * 1.5);color:var(--color-pink-600);text-decoration:none;font-weight:600;margin-bottom:var(--space-5)}.back-link:hover{text-decoration:underline}.error-message{background:var(--color-red-50);color:var(--color-red-600);padding:var(--space-3) var(--space-4);border-radius:var(--radius-base);margin-bottom:var(--space-4);font-weight:500}[data-theme="dark"] .invite-search{background:var(--effect-slate-80);border-color:var(--effect-white-15);color:var(--color-slate-100)}[data-theme="dark"] .user-list{border-color:var(--effect-white-10)}[data-theme="dark"] .user-item{border-color:var(--effect-white-5)}[data-theme="dark"] .user-item:hover{background:var(--color-pink-600-alpha-10)}[data-theme="dark"] .user-item.selected{background:var(--color-pink-600-alpha-20)}@media (max-width:768px){.invite-wrapper{padding-top:calc(var(--space-20) + var(--space-5));padding-bottom:calc(var(--space-20) + var(--space-5))}.invite-wrapper .htb-card{padding:var(--space-5) var(--space-4);border-radius:var(--radius-lg)}.invite-search{padding:var(--space-3) calc(var(--space-3) + var(--space-1) / 2);font-size:var(--space-4)}.user-list{max-height:350px}}.offline-banner{position:fixed;top:0;left:0;right:0;z-index:10001;padding:var(--space-3) var(--space-5);background:linear-gradient(135deg,var(--color-danger),var(--color-red-600));color:white;font-size:var(--font-size-sm);font-weight:600;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transform:translateY(-100%);transition:transform 0.3s cubic-bezier(0.4,0,0.2,1)}.offline-banner.visible{transform:translateY(0)}@keyframes fadeInUp{from{opacity:0;transform:translateY(var(--space-5))}to{opacity:1;transform:translateY(0)}}#my-groups-glass-wrapper .group-card{animation:fadeInUp 0.4s ease-out}.quick-action-btn:active,.visit-btn:active,.browse-btn:active,button:active{transform:scale(0.96) !important;transition:transform 0.1s ease !important}.quick-action-btn,.visit-btn,.browse-btn,button{min-height:calc(var(--space-10) + var(--space-1))}.quick-action-btn:focus-visible,.visit-btn:focus-visible,.browse-btn:focus-visible,button:focus-visible,a:focus-visible{outline:calc(var(--space-1) * 0.75) solid var(--color-pink-600-alpha-50);outline-offset:calc(var(--space-1) / 2)}html{scroll-behavior:smooth;-webkit-overflow-scrolling:touch}@media (max-width:768px){.quick-action-btn,.visit-btn,.browse-btn,button{min-height:var(--space-12)}}#my-groups-glass-wrapper{--mg-theme:var(--color-pink-600);--mg-theme-rgb:219,39,119;--mg-theme-light:var(--color-pink-500);position:relative;min-height:80vh;padding-top:calc(var(--space-20) * 1.5);padding-bottom:60px}#my-groups-glass-wrapper::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1;pointer-events:none}[data-theme="light"] #my-groups-glass-wrapper::before{background:linear-gradient(135deg,var(--color-pink-600-alpha-8) 0%,var(--color-pink-alpha-8) 25%,var(--effect-purple-8) 50%,var(--effect-primary-8) 75%,var(--color-purple-alpha-8) 100%);background-size:400% 400%;animation:mgGradientShift 15s ease infinite}[data-theme="dark"] #my-groups-glass-wrapper::before{background:radial-gradient(circle at 20% 30%,var(--color-pink-600-alpha-15) 0%,transparent 50%),radial-gradient(circle at 80% 70%,var(--effect-purple-12) 0%,transparent 50%)}@keyframes mgGradientShift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}#my-groups-glass-wrapper .page-header{text-align:center;margin-bottom:2.5rem}#my-groups-glass-wrapper .page-header h1{font-size:2.5rem;font-weight:800;color:var(--htb-text-main);margin:0 0 0.5rem 0;display:flex;align-items:center;justify-content:center;gap:0.75rem}#my-groups-glass-wrapper .page-header p{font-size:var(--font-size-lg);color:var(--htb-text-muted);margin:0}#my-groups-glass-wrapper .quick-actions{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin-bottom:2.5rem}#my-groups-glass-wrapper .quick-action-btn{display:inline-flex;align-items:center;gap:0.5rem;padding:0.75rem 1.5rem;border-radius:var(--radius-full);font-weight:600;font-size:var(--font-size-base);text-decoration:none;transition:all 0.3s ease;backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2));-webkit-backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2))}[data-theme="light"] #my-groups-glass-wrapper .quick-action-btn{background:var(--effect-white-80);border:1px solid var(--color-pink-600-alpha-20);color:var(--mg-theme)}[data-theme="dark"] #my-groups-glass-wrapper .quick-action-btn{background:var(--effect-slate-60);border:1px solid var(--color-pink-600-alpha-30);color:var(--mg-theme-light)}#my-groups-glass-wrapper .quick-action-btn:hover{transform:translateY(-2px);border-color:var(--mg-theme)}[data-theme="light"] #my-groups-glass-wrapper .quick-action-btn:hover{box-shadow:0 var(--space-2) var(--space-6) var(--color-pink-600-alpha-15)}[data-theme="dark"] #my-groups-glass-wrapper .quick-action-btn:hover{box-shadow:0 var(--space-2) var(--space-6) var(--color-pink-600-alpha-25)}#my-groups-glass-wrapper .quick-action-btn.primary{background:linear-gradient(135deg,var(--mg-theme) 0%,var(--mg-theme-light) 100%);color:white;border:none;box-shadow:0 var(--space-1) var(--space-4) var(--color-pink-600-alpha-30)}#my-groups-glass-wrapper .quick-action-btn.primary:hover{box-shadow:0 var(--space-2) var(--space-6) var(--color-pink-600-alpha-40)}#my-groups-glass-wrapper .groups-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.5rem}#my-groups-glass-wrapper .group-card{border-radius:var(--radius-xl);overflow:hidden;backdrop-filter:blur(var(--space-5)) saturate(120%);-webkit-backdrop-filter:blur(var(--space-5)) saturate(120%);transition:all 0.3s ease}[data-theme="light"] #my-groups-glass-wrapper .group-card{background:var(--effect-white-75);border:1px solid var(--color-pink-600-alpha-15);box-shadow:0 var(--space-2) var(--space-8) var(--color-pink-600-alpha-10)}[data-theme="dark"] #my-groups-glass-wrapper .group-card{background:var(--effect-slate-60);border:1px solid var(--color-pink-600-alpha-20);box-shadow:0 var(--space-2) var(--space-8) var(--effect-black-30)}#my-groups-glass-wrapper .group-card:hover{transform:translateY(-6px)}[data-theme="light"] #my-groups-glass-wrapper .group-card:hover{box-shadow:0 var(--space-4) var(--space-12) var(--color-pink-600-alpha-20);border-color:var(--color-pink-600-alpha-30)}[data-theme="dark"] #my-groups-glass-wrapper .group-card:hover{box-shadow:0 var(--space-4) var(--space-12) var(--effect-black-40);border-color:var(--color-pink-600-alpha-40)}#my-groups-glass-wrapper .card-cover{height:calc(var(--space-20) * 2);position:relative;overflow:hidden}#my-groups-glass-wrapper .card-cover img{width:100%;height:100%;object-fit:cover}#my-groups-glass-wrapper .card-cover-gradient{height:calc(var(--space-20) * 2);background:linear-gradient(135deg,var(--color-pink-600) 0%,var(--color-pink-500) 50%,var(--color-pink-400) 100%);display:flex;align-items:center;justify-content:center}#my-groups-glass-wrapper .card-cover-gradient i{font-size:3rem;color:var(--effect-white-80)}#my-groups-glass-wrapper .card-badge{position:absolute;top:var(--space-3);right:var(--space-3);background:var(--effect-white-95);color:var(--mg-theme);padding:var(--space-1) var(--space-3);border-radius:var(--radius-xl);font-size:var(--font-size-xs);font-weight:700}#my-groups-glass-wrapper .card-body{padding:1.5rem}#my-groups-glass-wrapper .card-body h3{font-size:var(--font-size-xl);font-weight:700;color:var(--htb-text-main);margin:0 0 0.5rem 0}#my-groups-glass-wrapper .card-body h3 a{text-decoration:none;color:inherit;transition:color 0.2s ease}#my-groups-glass-wrapper .card-body h3 a:hover{color:var(--mg-theme)}#my-groups-glass-wrapper .card-body p{font-size:var(--font-size-sm);color:var(--htb-text-muted);margin:0 0 1rem 0;line-height:1.5}#my-groups-glass-wrapper .card-meta{display:flex;align-items:center;justify-content:space-between;padding-top:1rem;border-top:1px solid var(--color-pink-600-alpha-10)}#my-groups-glass-wrapper .member-count{display:flex;align-items:center;gap:0.5rem;font-size:var(--font-size-sm);font-weight:600;color:var(--htb-text-main)}#my-groups-glass-wrapper .member-count i{color:var(--mg-theme)}#my-groups-glass-wrapper .visit-btn{display:inline-flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;border-radius:var(--radius-base);font-size:var(--font-size-sm);font-weight:600;text-decoration:none;transition:all 0.2s ease;background:linear-gradient(135deg,var(--mg-theme) 0%,var(--mg-theme-light) 100%);color:white}#my-groups-glass-wrapper .visit-btn:hover{transform:translateX(calc(var(--space-1) * 0.75));box-shadow:0 var(--space-1) var(--space-3) var(--color-pink-600-alpha-30)}#my-groups-glass-wrapper a.group-card{display:block;text-decoration:none;color:inherit;cursor:pointer}#my-groups-glass-wrapper a.group-card:hover{text-decoration:none}#my-groups-glass-wrapper .empty-state{grid-column:1 / -1;text-align:center;padding:4rem 2rem;border-radius:var(--radius-xl);backdrop-filter:blur(var(--space-5)) saturate(120%);-webkit-backdrop-filter:blur(var(--space-5)) saturate(120%)}[data-theme="light"] #my-groups-glass-wrapper .empty-state{background:var(--effect-white-70);border:1px solid var(--color-pink-600-alpha-15)}[data-theme="dark"] #my-groups-glass-wrapper .empty-state{background:var(--effect-slate-60);border:1px solid var(--color-pink-600-alpha-20)}#my-groups-glass-wrapper .empty-state .empty-icon{font-size:4rem;margin-bottom:1rem;display:block}#my-groups-glass-wrapper .empty-state h3{font-size:var(--font-size-2xl);font-weight:700;color:var(--htb-text-main);margin:0 0 0.5rem 0}#my-groups-glass-wrapper .empty-state p{color:var(--htb-text-muted);margin:0 0 1.5rem 0}#my-groups-glass-wrapper .empty-state .browse-btn{display:inline-flex;align-items:center;gap:0.5rem;padding:0.875rem 2rem;border-radius:var(--radius-full);font-weight:600;font-size:var(--font-size-base);text-decoration:none;background:linear-gradient(135deg,var(--mg-theme) 0%,var(--mg-theme-light) 100%);color:white;box-shadow:0 var(--space-1) var(--space-4) var(--color-pink-600-alpha-30);transition:all 0.3s ease}#my-groups-glass-wrapper .empty-state .browse-btn:hover{transform:translateY(-2px);box-shadow:0 var(--space-2) var(--space-6) var(--color-pink-600-alpha-40)}@media (max-width:768px){#my-groups-glass-wrapper{padding-top:calc(var(--space-20) + var(--space-5))}#my-groups-glass-wrapper .page-header h1{font-size:1.85rem;flex-direction:column;gap:0.25rem}#my-groups-glass-wrapper .groups-grid{grid-template-columns:1fr}#my-groups-glass-wrapper .quick-actions{flex-direction:column;align-items:stretch}#my-groups-glass-wrapper .quick-action-btn{justify-content:center}@keyframes mgGradientShift{0%,100%{background-position:50% 50%}}}@supports not (backdrop-filter:blur(calc(var(--space-2) + var(--space-1) / 2))){[data-theme="light"] #my-groups-glass-wrapper .group-card,[data-theme="light"] #my-groups-glass-wrapper .empty-state{background:var(--effect-white-95)}[data-theme="dark"] #my-groups-glass-wrapper .group-card,[data-theme="dark"] #my-groups-glass-wrapper .empty-state{background:var(--effect-slate-95)}}