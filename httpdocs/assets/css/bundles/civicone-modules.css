/**
 * civicone-modules Bundle
 * Generated: 2026-01-27T10:42:36.291Z
 * Files: 8
 */

/* ========================================
 * civicone-blog.css
 * ======================================== */

/* ============================================
   CIVICONE BLOG MODULE
   News & Blog - WCAG 2.1 AA Compliant
   Updated 2026-01-20: GOV.UK design tokens
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-blog-text-primary: var(--color-gray-900);      /* 12.6:1 */
    --civic-blog-text-secondary: var(--color-gray-700);    /* 8.5:1 */
    --civic-blog-text-muted: var(--color-gray-600);        /* 7.0:1 */

    /* Focus Ring - GOV.UK Style */
    --civic-blog-focus-ring: var(--color-brand-yellow);
    --civic-blog-focus-text: var(--color-govuk-black);
    --civic-blog-focus-offset: 3px;

    /* Touch Target */
    --civic-blog-touch-min: 44px;

    /* Theme Colors (Holographic Purple/Cyan) */
    --news-primary: var(--color-purple-500);
    --news-primary-rgb: 139, 92, 246;
    --news-secondary: var(--color-cyan-500);
    --news-secondary-rgb: 6, 182, 212;
    --news-accent: var(--color-pink-400);
    --news-accent-rgb: 244, 114, 182;
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-blog-text-primary: var(--color-gray-50);
    --civic-blog-text-secondary: var(--color-gray-200);
    --civic-blog-text-muted: var(--color-gray-300);
}


/* --------------------------------------------
   Offline Banner
   -------------------------------------------- */
.offline-banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 10001;
    padding: var(--space-3) var(--space-5);
    background: linear-gradient(135deg, var(--color-danger), var(--color-red-600));
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    transform: translateY(-100%);
    transition: transform var(--transition-base);
}

.offline-banner.visible {
    transform: translateY(0);
}


/* --------------------------------------------
   Content Reveal Animations
   -------------------------------------------- */

#news-holo-wrapper .news-hero-section {
    /* animation removed for GOV.UK compliance */

#news-holo-wrapper .news-card {
    /* animation removed for GOV.UK compliance */
}

#news-holo-wrapper .news-card:nth-child(1) { animation-delay: 0.1s; }
#news-holo-wrapper .news-card:nth-child(2) { animation-delay: 0.15s; }
#news-holo-wrapper .news-card:nth-child(3) { animation-delay: 0.2s; }
#news-holo-wrapper .news-card:nth-child(4) { animation-delay: 0.25s; }
#news-holo-wrapper .news-card:nth-child(5) { animation-delay: 0.3s; }
#news-holo-wrapper .news-card:nth-child(6) { animation-delay: 0.35s; }


/* --------------------------------------------
   Button Press States & Touch Targets
   -------------------------------------------- */
#news-holo-wrapper .news-btn:active,
#news-holo-wrapper .news-card:active {
    transform: scale(0.98) !important;
    transition: transform var(--transition-fast) !important;
}

/* Touch Targets - WCAG 2.1 AA (44px minimum) */
#news-holo-wrapper .news-btn,
#news-holo-wrapper .news-card-link {
    min-height: var(--civic-blog-touch-min);
}


/* --------------------------------------------
   Focus States - WCAG Compliant
   -------------------------------------------- */
#news-holo-wrapper .news-btn:focus-visible,
#news-holo-wrapper .news-card:focus-visible,
#news-holo-wrapper a:focus-visible {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Holographic Wrapper
   -------------------------------------------- */
#news-holo-wrapper {
    position: relative;
    min-height: 100vh;
    padding: 140px var(--space-5) 100px;
    overflow: hidden;
}

/* Animated Holographic Background */
#news-holo-wrapper::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -2;
    background: linear-gradient(135deg,
            #0f0c29 0%,
            #302b63 50%,
            #24243e 100%);
}

/* Holographic Gradient Overlay */
#news-holo-wrapper::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    background:
        radial-gradient(ellipse at 20% 0%, var(--color-violet-alpha-30) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 0%, var(--color-cyan-alpha-25) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, var(--color-pink-400-alpha-20) 0%, transparent 50%),
        radial-gradient(ellipse at 0% 50%, var(--color-violet-alpha-15) 0%, transparent 40%),
        radial-gradient(ellipse at 100% 50%, var(--color-cyan-alpha-15) 0%, transparent 40%);
    /* animation removed for GOV.UK compliance */
}



/* --------------------------------------------
   Holographic Orbs
   -------------------------------------------- */
.holo-orb {
    position: fixed;
    border-radius: var(--radius-full);
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
    z-index: -1;
    /* animation removed for GOV.UK compliance */
}

.holo-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, var(--color-violet-alpha-60) 0%, transparent 70%);
    top: -200px;
    left: -200px;
    animation-delay: 0s;
}

.holo-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, var(--color-cyan-alpha-50) 0%, transparent 70%);
    top: 30%;
    right: -150px;
    animation-delay: -5s;
}

.holo-orb-3 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, var(--color-pink-400-alpha-40) 0%, transparent 70%);
    bottom: -100px;
    left: 30%;
    animation-delay: -10s;
}

/* Animation removed for GOV.UK compliance */
    25% {
        transform: translate(30px, -30px) scale(1.05);
    }
    50% {
        transform: translate(-20px, 20px) scale(0.95);
    }
    75% {
        transform: translate(20px, 30px) scale(1.02);
    }
}


/* --------------------------------------------
   Inner Container
   -------------------------------------------- */
#news-holo-wrapper .news-inner {
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
    z-index: 10;
}


/* --------------------------------------------
   Hero Section
   -------------------------------------------- */
.news-hero-section {
    text-align: center;
    margin-bottom: var(--space-16);
    position: relative;
}

.news-hero-section::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, var(--color-violet-alpha-15) 0%, transparent 60%);
    pointer-events: none;
}

.news-hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-5);
    background: var(--color-violet-alpha-20);
    border: 1px solid var(--color-violet-alpha-40);
    border-radius: var(--radius-full);
    color: var(--color-purple-300);
    font-size: var(--font-size-sm);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: var(--space-5);
    /* backdrop-filter removed for GOV.UK compliance */
}

.news-hero-title {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 900;
    line-height: 1.1;
    margin: 0 0 var(--space-5);
    background: linear-gradient(135deg, var(--color-white) 0%, var(--color-purple-300) 50%, var(--color-cyan-300) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 80px var(--color-violet-alpha-50);
}

.news-hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--color-white-alpha-70);
    max-width: 600px;
    margin: 0 auto var(--space-8);
    line-height: 1.6;
}

.news-hero-divider {
    width: 120px;
    height: 4px;
    background: linear-gradient(90deg, var(--news-primary), var(--news-secondary));
    border-radius: var(--radius-sm);
    margin: 0 auto;
    box-shadow: 0 0 20px var(--color-violet-alpha-50);
}


/* --------------------------------------------
   News List (WCAG 2.1 AA - List Layout)
   Following Template A: Directory/List Pattern
   -------------------------------------------- */
.news-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
}

.news-list-item {
    display: block;
}


/* --------------------------------------------
   News Card
   -------------------------------------------- */
.news-card {
    position: relative;
    background: var(--color-white-alpha-3);
    border: 1px solid var(--color-white-alpha-8);
    border-radius: var(--radius-2xl);
    overflow: hidden;
    transition: all var(--transition-slow);
    /* backdrop-filter removed for GOV.UK compliance */
}

/* Holographic Border Glow */
.news-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: var(--radius-2xl);
    padding: var(--space-1);
    background: linear-gradient(135deg,
            var(--color-violet-alpha-40) 0%,
            var(--color-cyan-alpha-30) 50%,
            var(--color-pink-400-alpha-40) 100%);
    -webkit-mask: linear-gradient(var(--color-white) 0 0) content-box, linear-gradient(var(--color-white) 0 0);
    mask: linear-gradient(var(--color-white) 0 0) content-box, linear-gradient(var(--color-white) 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity var(--transition-slow);
}

.news-card:hover {
    transform: translateY(-8px) scale(1.02);
    background: var(--color-white-alpha-6);
    box-shadow:
        0 25px 50px -12px var(--color-black-alpha-50),
        0 0 40px var(--color-violet-alpha-15),
        inset 0 1px 0 var(--color-white-alpha-10);
}

.news-card:hover::before {
    opacity: 1;
}


/* --------------------------------------------
   Card Image
   -------------------------------------------- */
.news-card-image {
    position: relative;
    height: 220px;
    overflow: hidden;
}

.news-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-slow);
}

.news-card:hover .news-card-image img {
    transform: scale(1.08);
}

.news-card-image-placeholder {
    height: 220px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg,
            var(--color-violet-alpha-20) 0%,
            var(--color-cyan-alpha-15) 100%);
    font-size: var(--font-size-4xl);
    color: var(--color-white-alpha-30);
}

/* Image Overlay Gradient */
.news-card-image::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: var(--space-20);
    background: linear-gradient(to top, var(--color-dark-purple-bg), transparent);
    pointer-events: none;
}


/* --------------------------------------------
   Card Body
   -------------------------------------------- */
.news-card-body {
    padding: var(--space-6);
}

.news-card-meta {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
}

.news-card-date {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--news-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.news-card-category {
    padding: var(--space-1) var(--space-3);
    background: var(--color-violet-alpha-20);
    border-radius: var(--radius-xl);
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--color-purple-300);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.news-card-title {
    font-size: var(--font-size-xl);
    font-weight: 700;
    line-height: 1.3;
    margin: 0 0 var(--space-3);
}

.news-card-title a {
    color: var(--color-white);
    text-decoration: none;
    transition: color var(--transition-base);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.news-card-title a:hover {
    color: var(--color-purple-300);
}

.news-card-excerpt {
    font-size: var(--font-size-base);
    color: var(--color-white-alpha-60);
    line-height: 1.6;
    margin-bottom: var(--space-5);
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}


/* --------------------------------------------
   Card Action
   -------------------------------------------- */
.news-card-action {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: var(--space-4);
    border-top: 1px solid var(--color-white-alpha-8);
}

.news-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    background: linear-gradient(135deg, var(--color-violet-alpha-30), var(--color-cyan-alpha-20));
    border: 1px solid var(--color-violet-alpha-30);
    border-radius: var(--radius-md);
    color: var(--color-white);
    font-size: var(--font-size-sm);
    font-weight: 600;
    text-decoration: none;
    transition: all var(--transition-base);
    min-height: var(--civic-blog-touch-min);
}

.news-btn:hover {
    background: linear-gradient(135deg, var(--color-violet-alpha-50), var(--color-cyan-alpha-40));
    border-color: var(--color-violet-alpha-50);
    box-shadow: 0 8px 20px var(--color-violet-alpha-30);
    transform: translateX(4px);
}

.news-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.news-btn i {
    font-size: var(--font-size-xs);
    transition: transform var(--transition-base);
}

.news-btn:hover i {
    transform: translateX(4px);
}

.news-card-reading-time {
    font-size: var(--font-size-xs);
    color: var(--color-white-alpha-40);
    display: flex;
    align-items: center;
    gap: var(--space-1);
}


/* --------------------------------------------
   Empty State
   -------------------------------------------- */
.news-empty-state {
    text-align: center;
    padding: var(--space-20) var(--space-10);
    background: var(--color-white-alpha-3);
    border: 1px solid var(--color-white-alpha-8);
    border-radius: var(--radius-2xl);
    /* backdrop-filter removed for GOV.UK compliance */
    max-width: 600px;
    margin: 0 auto;
}

.news-empty-icon {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--color-violet-alpha-20), var(--color-cyan-alpha-15));
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-6);
    font-size: var(--font-size-3xl);
    color: var(--color-white-alpha-50);
}

.news-empty-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-white);
    margin: 0 0 var(--space-3);
}

.news-empty-text {
    font-size: var(--font-size-base);
    color: var(--color-white-alpha-60);
    margin: 0;
}


/* --------------------------------------------
   Light Mode Adjustments
   -------------------------------------------- */
[data-theme="light"] #news-holo-wrapper::before {
    background: linear-gradient(135deg,
            var(--color-primary-100) 0%,
            var(--color-purple-200) 50%,
            #cffafe 100%);
}

[data-theme="light"] #news-holo-wrapper::after {
    background:
        radial-gradient(ellipse at 20% 0%, var(--color-violet-alpha-15) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 0%, var(--color-cyan-alpha-12) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, var(--color-pink-400-alpha-10) 0%, transparent 50%);
}

[data-theme="light"] .news-hero-title {
    background: linear-gradient(135deg, #4c1d95 0%, var(--color-purple-600) 50%, var(--color-cyan-600) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

[data-theme="light"] .news-hero-subtitle {
    color: var(--color-black-alpha-60);
}

[data-theme="light"] .news-hero-badge {
    color: var(--color-purple-700);
    background: var(--color-violet-alpha-15);
}

[data-theme="light"] .news-card {
    background: var(--color-white-alpha-70);
    border-color: var(--color-violet-alpha-15);
}

[data-theme="light"] .news-card:hover {
    background: var(--color-white-alpha-90);
    box-shadow:
        0 25px 50px -12px var(--color-violet-alpha-15),
        0 0 40px var(--color-violet-alpha-10);
}

[data-theme="light"] .news-card-title a {
    color: var(--color-indigo-950);
}

[data-theme="light"] .news-card-title a:hover {
    color: var(--color-purple-700);
}

[data-theme="light"] .news-card-excerpt {
    color: var(--color-black-alpha-60);
}

[data-theme="light"] .news-card-image::after {
    background: linear-gradient(to top, var(--color-white-alpha-90), transparent);
}

[data-theme="light"] .holo-orb {
    opacity: 0.3;
}


/* --------------------------------------------
   Simple News Index (CivicOne Grid Layout)
   -------------------------------------------- */
.news-simple-empty {
    text-align: center;
    padding: var(--space-10);
}

.news-simple-card {
    border-top: 4px solid var(--civic-brand-primary, var(--color-govuk-black));
}

.news-simple-img-container {
    margin-bottom: var(--space-5);
    border-radius: var(--radius-base);
    overflow: hidden;
}

.news-simple-img {
    width: 100%;
    height: auto;
    display: block;
}

.news-simple-date {
    color: var(--color-text-secondary, var(--civic-blog-text-secondary));
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-1);
}

.news-simple-title {
    margin-top: 0;
    margin-bottom: var(--space-2-5);
}

.news-simple-title a {
    text-decoration: none;
    color: inherit;
}

.news-simple-title a:hover {
    text-decoration: underline;
}

.news-simple-title a:focus {
    outline: 3px solid var(--color-govuk-yellow);
    outline-offset: 0;
    background-color: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

.news-simple-excerpt {
    margin-bottom: var(--space-5);
    line-height: 1.5;
}

.news-simple-read-link {
    font-weight: var(--font-weight-bold);
    text-decoration: underline;
    color: var(--civic-brand-primary, var(--color-govuk-black));
}

.news-simple-read-link:hover {
    color: var(--color-govuk-blue);
}

.news-simple-read-link:focus {
    outline: 3px solid var(--color-govuk-yellow);
    outline-offset: 0;
    background-color: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}


/* --------------------------------------------
   Blog Show Page
   -------------------------------------------- */
.civic-article-wrapper {
    background: white;
    padding: var(--space-10);
    border: 1px solid var(--color-gray-200);
    max-width: 800px;
    margin: 0 auto;
}

[data-theme="dark"] .civic-article-wrapper {
    background: var(--color-gray-800);
    border-color: var(--color-gray-700);
}

.civic-article-meta {
    margin-bottom: var(--space-5);
    color: var(--civic-blog-text-secondary);
    font-size: var(--font-size-base);
    border-bottom: 1px solid #eee;
    padding-bottom: var(--space-4);
}

[data-theme="dark"] .civic-article-meta {
    border-bottom-color: var(--color-gray-700);
}

.civic-article-image {
    width: 100%;
    height: auto;
    margin-bottom: var(--space-8);
    border: 1px solid #eee;
}

[data-theme="dark"] .civic-article-image {
    border-color: var(--color-gray-700);
}

.civic-article-body {
    font-family: 'Inter', sans-serif;
    line-height: 1.7;
    color: var(--civic-blog-text-primary);
    font-size: var(--font-size-lg);
}

.civic-article-footer {
    margin-top: var(--space-10);
    padding-top: var(--space-5);
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-4);
}

[data-theme="dark"] .civic-article-footer {
    border-top-color: var(--color-gray-700);
}

.civic-article-back,
.civic-article-share {
    text-decoration: none;
    font-weight: 600;
    color: var(--civic-blog-text-muted);
    min-height: var(--civic-blog-touch-min);
    display: inline-flex;
    align-items: center;
    padding: var(--space-2) var(--space-4);
}

.civic-article-back:hover,
.civic-article-share:hover {
    color: var(--civic-blog-text-primary);
}

.civic-article-back:focus,
.civic-article-share:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Infinite Scroll Sentinel
   -------------------------------------------- */
.news-scroll-sentinel {
    height: var(--space-20);
    margin-top: var(--space-10);
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--color-violet-alpha-60);
}

.news-scroll-sentinel i {
    display: none;
}


/* --------------------------------------------
   Responsive
   -------------------------------------------- */
@media (max-width: 768px) {
    #news-holo-wrapper {
        padding: 120px var(--space-4) 60px;
    }

    .news-hero-section {
        margin-bottom: var(--space-10);
    }

    .news-hero-subtitle {
        font-size: var(--font-size-base);
    }

    .news-card-body {
        padding: var(--space-5);
    }

    .news-card-title {
        font-size: var(--font-size-xl);
    }

    .holo-orb-1,
    .holo-orb-2,
    .holo-orb-3 {
        opacity: 0.25;
    }

    #news-holo-wrapper .news-btn {
        min-height: var(--civic-blog-touch-min);
    }

    .civic-article-wrapper {
        padding: var(--space-6);
    }

    .civic-article-footer {
        flex-direction: column;
        align-items: stretch;
    }

    .civic-article-back,
    .civic-article-share {
        justify-content: center;
    }
}


/* --------------------------------------------
   Browser Fallback
   -------------------------------------------- */
@supports not (/* backdrop-filter removed for GOV.UK compliance */) {
    .news-card {
        background: var(--color-dark-purple-alt-bg);
    }

    [data-theme="light"] .news-card {
        background: var(--color-white-alpha-95);
    }
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .news-card {
        border-width: var(--space-1);
    }

    .news-btn {
        border-width: var(--space-0-5);
    }

    .civic-article-wrapper {
        border-width: var(--space-1);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    #news-holo-wrapper .news-hero-section,
    #news-holo-wrapper .news-card,
    .news-card,
    .news-btn,
    .holo-orb,
    #news-holo-wrapper::after {
        /* animation removed for GOV.UK compliance */
        transition: none;
    }
}


/* ========================================
 * civicone-groups.css
 * ======================================== */

/* ============================================
   CIVICONE GROUPS MODULE
   WCAG 2.1 AA Compliant Design System
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-group-text-primary: var(--color-gray-900);     /* 12.6:1 */
    --civic-group-text-secondary: var(--color-gray-700);   /* 8.5:1 */
    --civic-group-text-muted: var(--color-gray-600);       /* 7.0:1 */

    /* Brand/Action Colors (WCAG AA) */
    --civic-group-brand: var(--color-govuk-green-darker);            /* Teal 700 - 5.0:1 */
    --civic-group-brand-hover: var(--color-teal-700-govuk);      /* Teal 700 - 6.1:1 */
    --civic-group-danger: var(--color-red-600);           /* Red 600 - 5.1:1 */

    /* Focus Ring */
    --civic-group-focus-ring: var(--color-brand-yellow);       /* GOV.UK focus */
    --civic-group-focus-text: var(--color-govuk-black);
    --civic-group-focus-offset: 3px;

    /* Touch Target */
    --civic-group-touch-min: 44px;

    /* Borders */
    --civic-group-border: var(--color-gray-200);
    --civic-group-border-dark: var(--color-gray-300);
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-group-text-primary: var(--color-gray-50);
    --civic-group-text-secondary: var(--color-gray-200);
    --civic-group-text-muted: var(--color-gray-300);
    --civic-group-brand: var(--color-teal-300);
    --civic-group-brand-hover: var(--color-teal-200);
    --civic-group-border: var(--color-gray-700);
    --civic-group-border-dark: var(--color-gray-600);
}


/* --------------------------------------------
   Groups Page Container
   -------------------------------------------- */
.civic-group-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-5);
}

/* Inline form container */
.civic-inline-form {
    display: inline;
}


/* --------------------------------------------
   Groups Index Page
   -------------------------------------------- */

/* Groups Header */
.civic-groups-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-8);
    flex-wrap: wrap;
    gap: var(--space-3);
}

.civic-groups-header h1 {
    margin: 0;
    color: var(--civic-group-text-primary);
}

@media (max-width: 600px) {
    .civic-groups-header {
        flex-direction: column;
        align-items: stretch;
    }

    .civic-groups-header .civic-btn {
        text-align: center;
    }
}

/* Groups Grid (Legacy - kept for backward compatibility) */
.civic-groups-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 50px;
}

/* GOV.UK Groups Card Grid (Responsive, max 3 per row) */
.civicone--govuk .civicone-groups-card-grid {
    display: grid;
    grid-template-columns: 1fr; /* Mobile: 1 column */
    gap: var(--space-8);
    margin-bottom: var(--space-10);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-groups-card-grid {
        grid-template-columns: repeat(2, 1fr); /* Tablet: 2 columns */
    }
}

@media (min-width: 1024px) {
    .civicone--govuk .civicone-groups-card-grid {
        grid-template-columns: repeat(3, 1fr); /* Desktop: 3 columns max */
    }
}

/* Group Card */
.civic-group-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 0;
    background: var(--civic-bg-card, var(--color-gray-75));
    border: none;
    border-radius: var(--radius-base);
    overflow: hidden;
    margin-bottom: 0;
    box-shadow: none;
}

[data-theme="dark"] .civic-group-card {
    background: var(--color-gray-800);
}

/* Group Card Image Section */
.civic-group-card-image {
    padding: var(--space-8) var(--space-5) var(--space-2-5) var(--space-5);
    width: 100%;
    display: flex;
    justify-content: center;
}

.civic-group-card-avatar {
    width: 130px;
    height: 130px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--civic-bg-page, var(--color-white));
    box-shadow: 0 4px 6px -1px var(--color-black-alpha-10);
    background: white;
}

.civic-group-card-placeholder {
    width: 130px;
    height: 130px;
    border-radius: 50%;
    border: 4px solid var(--civic-bg-page, var(--color-white));
    box-shadow: 0 4px 6px -1px var(--color-black-alpha-10);
    background: var(--color-gray-200);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-gray-400);
}

[data-theme="dark"] .civic-group-card-placeholder {
    background: var(--color-gray-700);
    color: var(--color-gray-500);
}

/* Group Card Content Section */
.civic-group-card-content {
    padding: var(--space-2-5) var(--space-5) 30px var(--space-5);
    width: 100%;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.civic-group-card-title {
    margin: 0 0 var(--space-1) 0;
    font-size: 1.1rem;
    font-weight: 600;
}

.civic-group-card-title a {
    text-decoration: none;
    color: var(--civic-group-brand);
}

.civic-group-card-title a:hover {
    text-decoration: underline;
}

.civic-group-card-title a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-group-card-description {
    margin: 0 0 var(--space-5) 0;
    font-size: 0.9rem;
    color: var(--civic-group-text-muted);
    flex-grow: 1;
}

/* Visit Hub Button */
.civic-group-card-btn {
    display: inline-block;
    width: auto;
    padding: var(--space-2-5) var(--space-6);
    min-height: var(--civic-group-touch-min);
    background: transparent;
    color: var(--civic-group-brand);
    border: 2px solid var(--civic-group-brand);
    border-radius: 30px;
    font-weight: 600;
    font-size: 0.9rem;
    text-decoration: none;
    transition: all 0.2s;
    align-self: center;
}

.civic-group-card-btn:hover {
    background: var(--civic-group-brand);
    color: white;
}

.civic-group-card-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

/* --------------------------------------------
   GOV.UK Group Card Components (BEM naming)
   -------------------------------------------- */
.civicone--govuk .civicone-group-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 0;
    background: var(--civic-bg-card, var(--color-gray-75));
    border: none;
    border-radius: var(--radius-base);
    overflow: hidden;
    box-shadow: none;
    transition: box-shadow 0.2s ease;
}

.civicone--govuk .civicone-group-card:hover {
    box-shadow: 0 4px 8px var(--color-black-alpha-10);
}

[data-theme="dark"] .civicone--govuk .civicone-group-card {
    background: var(--color-gray-800);
}

.civicone--govuk .civicone-group-card__image {
    padding: var(--space-8) var(--space-5) var(--space-2-5) var(--space-5);
    width: 100%;
    display: flex;
    justify-content: center;
}

.civicone--govuk .civicone-group-card__avatar {
    width: 130px;
    height: 130px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--civic-bg-page, var(--color-white));
    box-shadow: 0 4px 6px -1px var(--color-black-alpha-10);
    background: white;
}

.civicone--govuk .civicone-group-card__placeholder {
    width: 130px;
    height: 130px;
    border-radius: 50%;
    border: 4px solid var(--civic-bg-page, var(--color-white));
    box-shadow: 0 4px 6px -1px var(--color-black-alpha-10);
    background: var(--color-gray-200);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-gray-400);
}

[data-theme="dark"] .civicone--govuk .civicone-group-card__placeholder {
    background: var(--color-gray-700);
    color: var(--color-gray-500);
}

.civicone--govuk .civicone-group-card__content {
    padding: var(--space-2-5) var(--space-5) 30px var(--space-5);
    width: 100%;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.civicone--govuk .civicone-group-card__title {
    margin: 0 0 var(--space-2-5) 0;
    font-size: 1.1rem;
    font-weight: 700;
    line-height: 1.25;
}

.civicone--govuk .civicone-group-card__description {
    margin: 0 0 var(--space-4) 0;
    font-size: 0.9rem;
    color: var(--civic-group-text-muted, var(--color-govuk-grey-dark));
    flex-grow: 1;
    line-height: 1.5;
}

.civicone--govuk .civicone-group-card__meta {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    font-size: 0.85rem;
    color: var(--civic-group-text-muted, var(--color-govuk-grey-dark));
    margin: 0 0 var(--space-4) 0;
}

.civicone--govuk .civicone-group-card__action {
    align-self: center;
    margin-top: auto;
}

/* Checkbox and Form Elements for Filters */
.civicone--govuk .civicone-fieldset {
    border: none;
    padding: 0;
    margin: 0;
}

.civicone--govuk .civicone-checkboxes {
    display: flex;
    flex-direction: column;
    gap: var(--space-2-5);
}

.civicone--govuk .civicone-checkbox-item {
    display: flex;
    align-items: center;
    gap: var(--space-2-5);
}

.civicone--govuk .civicone-checkbox {
    width: var(--space-5);
    height: var(--space-5);
    border: 2px solid var(--color-govuk-black);
    cursor: pointer;
}

.civicone--govuk .civicone-checkbox:focus {
    outline: 3px solid var(--color-brand-yellow);
    outline-offset: 0;
    box-shadow: 0 0 0 2px var(--color-govuk-black);
}

.civicone--govuk .civicone-checkbox-label {
    font-size: 16px;
    line-height: 1.5;
    cursor: pointer;
    margin: 0;
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-checkbox-label {
        font-size: 19px;
    }
}

/* Primary Button Variant */
.civicone--govuk .civicone-button--primary {
    background: var(--color-govuk-green);
    color: var(--color-white);
    border-color: var(--color-govuk-green);
}

.civicone--govuk .civicone-button--primary:hover {
    background: var(--color-govuk-green-dark);
    border-color: var(--color-govuk-green-dark);
}

.civicone--govuk .civicone-button--primary:focus {
    outline: 3px solid var(--color-brand-yellow);
    outline-offset: 0;
    background: var(--color-brand-yellow);
    color: var(--color-govuk-black);
    border-color: var(--color-govuk-black);
}

/* --------------------------------------------
   Groups List Layout (WCAG 2.1 AA Compliant)
   Following Template A: Directory/List Pattern
   -------------------------------------------- */

/* Groups List Container (replaces card grid for main results) */
.civicone--govuk .civicone-results-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

/* Individual Group List Item */
.civicone--govuk .civicone-group-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-4);
    padding: var(--space-5) 0;
    border-bottom: 1px solid var(--color-govuk-grey);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-group-item {
        gap: var(--space-5);
    }
}

.civicone--govuk .civicone-group-item:last-child {
    border-bottom: none;
}

/* Group Avatar/Image Section */
.civicone--govuk .civicone-group-item__avatar {
    position: relative;
    flex-shrink: 0;
}

.civicone--govuk .civicone-avatar--large {
    width: var(--space-16);
    height: var(--space-16);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-avatar--large {
        width: var(--space-20);
        height: var(--space-20);
    }
}

/* Group Content Section */
.civicone--govuk .civicone-group-item__content {
    flex-grow: 1;
    min-width: 0;
}

.civicone--govuk .civicone-group-item__name {
    font-size: 18px;
    font-weight: 700;
    line-height: 1.25;
    margin: 0 0 8px 0;
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-group-item__name {
        font-size: var(--space-5-5);
    }
}

.civicone--govuk .civicone-group-item__description {
    margin: 0 0 8px 0;
    font-size: 16px;
    line-height: 1.5;
    color: var(--color-govuk-grey-dark);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-group-item__description {
        font-size: 19px;
    }
}

.civicone--govuk .civicone-group-item__meta {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    font-size: 14px;
    line-height: 1.5;
    margin: 0;
    color: var(--color-govuk-grey-dark);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-group-item__meta {
        font-size: 16px;
    }
}

/* Group Actions Section */
.civicone--govuk .civicone-group-item__actions {
    flex-shrink: 0;
    margin-top: var(--space-1);
}

@media (max-width: 640px) {
    .civicone--govuk .civicone-group-item {
        flex-wrap: wrap;
    }

    .civicone--govuk .civicone-group-item__actions {
        width: 100%;
        margin-top: var(--space-4);
    }

    .civicone--govuk .civicone-group-item__actions .civicone-button {
        width: 100%;
    }
}

/* Dark Mode Support for List Items */
[data-theme="dark"] .civicone--govuk .civicone-group-item {
    border-bottom-color: var(--color-gray-700);
}

[data-theme="dark"] .civicone--govuk .civicone-group-item__description,
[data-theme="dark"] .civicone--govuk .civicone-group-item__meta {
    color: var(--color-gray-300);
}


/* --------------------------------------------
   Groups Show Page - Tab System
   -------------------------------------------- */
.civic-tab-nav {
    display: flex;
    border-bottom: var(--space-0-5) solid var(--civic-group-border);
    margin-bottom: var(--space-8);
    gap: var(--space-5);
}

.civic-tab-link {
    padding: var(--space-3) 16px;
    min-height: var(--civic-group-touch-min);
    font-weight: 600;
    color: var(--civic-group-text-muted);
    text-decoration: none;
    border-bottom: var(--space-1) solid transparent;
    transition: all 0.2s;
    cursor: pointer;
    font-size: 1rem;
    background: none;
    border-top: none;
    border-left: none;
    border-right: none;
}

.civic-tab-link:hover {
    color: var(--civic-group-text-primary);
}

.civic-tab-link:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-tab-link.active {
    color: var(--civic-group-brand);
    border-bottom-color: var(--civic-group-brand);
}

.civic-tab-pane {
    display: none;
    /* animation removed for GOV.UK compliance */
}

.civic-tab-pane.active {
    display: block;
}


@media (prefers-reduced-motion: reduce) {
    .civic-tab-pane {
        /* animation removed for GOV.UK compliance */
    }
}


/* --------------------------------------------
   Groups Show Page - Header
   -------------------------------------------- */
.civic-group-header {
    background: var(--color-white);
    border-radius: var(--radius-md);
    overflow: hidden;
    box-shadow: 0 1px 3px var(--color-black-alpha-10);
    margin-bottom: var(--space-8);
    border: 1px solid var(--civic-group-border);
}

[data-theme="dark"] .civic-group-header {
    background: var(--color-gray-800);
    border-color: var(--color-gray-700);
}

.civic-group-cover {
    height: 200px;
    background: linear-gradient(135deg, var(--civic-group-brand) 0%, var(--color-teal-900) 100%);
    position: relative;
}

.civic-group-cover img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.8;
}

.civic-group-cover-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.civic-group-cover-badge {
    position: absolute;
    top: var(--space-5);
    left: var(--space-5);
    background: var(--color-black-alpha-60);
    color: white;
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-2xl);
    font-size: 0.8rem;
    font-weight: 700;
}

.civic-group-info {
    padding: var(--space-5) 30px;
}

.civic-group-header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-5);
}

.civic-group-info h1 {
    margin: 0;
    font-size: 2rem;
    color: var(--civic-group-text-primary);
}

.civic-group-info-meta {
    margin: var(--space-1) 0 0 0;
    color: var(--civic-group-text-muted);
}


/* --------------------------------------------
   Groups Show Page - Content Grid
   -------------------------------------------- */
.civic-group-content-grid {
    display: grid;
    grid-template-columns: 1fr 300px;
    gap: var(--space-8);
    align-items: start;
}

@media (max-width: 900px) {
    .civic-group-content-grid {
        grid-template-columns: 1fr;
    }

    .civic-group-content-grid aside {
        order: -1;
    }
}


/* --------------------------------------------
   Groups Show Page - Action Buttons
   -------------------------------------------- */
.civic-group-action-btn {
    min-height: var(--civic-group-touch-min);
    border-radius: 30px;
    padding: var(--space-2-5) 30px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.civic-group-action-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-group-leave-btn {
    background: transparent;
    border: 2px solid var(--civic-group-danger);
    color: var(--civic-group-danger);
}

.civic-group-leave-btn:hover {
    background: var(--civic-group-danger);
    color: white;
}

.civic-group-join-btn {
    background: var(--civic-group-brand);
    border: 2px solid var(--civic-group-brand);
    color: white;
}

.civic-group-join-btn:hover {
    background: var(--civic-group-brand-hover);
    border-color: var(--civic-group-brand-hover);
}


/* --------------------------------------------
   Groups Show Page - Sub-Hubs Grid
   -------------------------------------------- */
.civic-subhubs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: var(--space-5);
}

.civic-subhub-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 0;
    background: var(--civic-bg-card, var(--color-gray-75));
    border: none;
    border-radius: var(--radius-base);
    overflow: hidden;
    margin-bottom: 0;
    box-shadow: none;
}

[data-theme="dark"] .civic-subhub-card {
    background: var(--color-gray-800);
}

.civic-subhub-image {
    padding: var(--space-5) var(--space-5) var(--space-2-5) 20px;
    width: 100%;
    display: flex;
    justify-content: center;
}

.civic-subhub-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--civic-bg-page, var(--color-white));
    box-shadow: 0 4px 6px -1px var(--color-black-alpha-10);
}

.civic-subhub-placeholder {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 4px solid var(--civic-bg-page, var(--color-white));
    box-shadow: 0 4px 6px -1px var(--color-black-alpha-10);
    background: var(--color-gray-200);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-gray-400);
}

.civic-subhub-content {
    padding: 0 var(--space-5) 25px var(--space-5);
    width: 100%;
}

.civic-subhub-title {
    margin: 0 0 var(--space-1) 0;
    font-size: 1rem;
    font-weight: 600;
}

.civic-subhub-title a {
    text-decoration: none;
    color: var(--civic-group-brand);
}

.civic-subhub-title a:hover {
    text-decoration: underline;
}

.civic-subhub-title a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-subhub-btn {
    display: inline-block;
    margin-top: var(--space-2-5);
    padding: var(--space-2) 16px;
    min-height: var(--space-9);
    background: transparent;
    color: var(--civic-group-brand);
    border: 2px solid var(--civic-group-brand);
    border-radius: 30px;
    font-weight: 600;
    font-size: 0.8rem;
    text-decoration: none;
    transition: all 0.2s;
}

.civic-subhub-btn:hover {
    background: var(--civic-group-brand);
    color: white;
}

.civic-subhub-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Groups Show Page - Members Grid
   -------------------------------------------- */
.civic-members-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: var(--space-5);
}

.civic-member-card {
    text-align: center;
    padding: var(--space-5);
    background: var(--color-gray-75);
    border: none;
    border-radius: var(--radius-base);
    box-shadow: none;
    margin-bottom: 0;
}

[data-theme="dark"] .civic-member-card {
    background: var(--color-gray-800);
}

.civic-member-avatar {
    width: var(--space-20);
    height: var(--space-20);
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: 0 2px 4px var(--color-black-alpha-10);
}

.civic-member-placeholder {
    width: var(--space-20);
    height: var(--space-20);
    margin: 0 auto;
    border-radius: 50%;
    background: var(--color-gray-200);
    display: flex;
    align-items: center;
    justify-content: center;
    border: 3px solid white;
    box-shadow: 0 2px 4px var(--color-black-alpha-10);
}

[data-theme="dark"] .civic-member-placeholder {
    background: var(--color-gray-700);
}

.civic-member-name {
    margin: var(--space-2-5) 0 var(--space-1) 0;
    font-size: 0.95rem;
}

.civic-member-name a {
    text-decoration: none;
    color: var(--civic-group-text-primary);
}

.civic-member-name a:hover {
    text-decoration: underline;
}

.civic-member-name a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-member-location {
    font-size: 0.8rem;
    color: var(--civic-group-text-muted);
}


/* --------------------------------------------
   Groups Show Page - Sidebar
   -------------------------------------------- */
.civic-group-sidebar-card {
    background: white;
    border: 1px solid var(--civic-group-border);
    padding: var(--space-5);
    border-radius: var(--radius-md);
    margin-bottom: 0;
}

[data-theme="dark"] .civic-group-sidebar-card {
    background: var(--color-gray-800);
    border-color: var(--color-gray-700);
}

.civic-group-sidebar-card h4 {
    margin-top: 0;
    color: var(--civic-group-text-primary);
}

.civic-group-manager {
    display: flex;
    align-items: center;
    gap: var(--space-2-5);
    margin-bottom: var(--space-5);
}

.civic-group-manager-name {
    display: block;
    font-weight: 600;
    color: var(--civic-group-text-primary);
}

.civic-group-manager-role {
    font-size: 0.85rem;
    color: var(--civic-group-text-muted);
}

.civic-group-contact-btn {
    width: 100%;
    min-height: var(--civic-group-touch-min);
    background: white;
    color: var(--civic-group-brand);
    border: 2px solid var(--civic-group-brand);
    padding: var(--space-2-5);
    border-radius: var(--radius-sm);
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

[data-theme="dark"] .civic-group-contact-btn {
    background: var(--color-gray-800);
}

.civic-group-contact-btn:hover {
    background: var(--civic-group-brand);
    color: white;
}

.civic-group-contact-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Groups Show Page - Activity Tab
   -------------------------------------------- */
.civic-group-empty-state {
    padding: var(--space-10);
    text-align: center;
    background: var(--color-gray-50);
    border: 1px dashed var(--color-gray-300);
    margin-bottom: 0;
    border-radius: var(--radius-md);
}

[data-theme="dark"] .civic-group-empty-state {
    background: var(--color-gray-900);
    border-color: var(--color-gray-700);
}

.civic-group-empty-state h3 {
    color: var(--civic-group-text-muted);
}


/* --------------------------------------------
   Groups Show Page - About Tab
   -------------------------------------------- */
.civic-group-about-card {
    background: var(--civic-bg-card, var(--color-gray-75));
    border: none;
    padding: 30px;
    border-radius: var(--radius-md);
    margin-bottom: 0;
}

[data-theme="dark"] .civic-group-about-card {
    background: var(--color-gray-800);
}

.civic-group-about-card h3 {
    margin-top: 0;
    color: var(--civic-group-text-primary);
}

.civic-group-about-card p {
    line-height: 1.6;
    color: var(--civic-group-text-primary);
}


/* --------------------------------------------
   Mobile Responsive
   -------------------------------------------- */
@media (max-width: 600px) {
    .civic-tab-nav {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: none;
        -ms-overflow-style: none;
        gap: 0;
    }

    .civic-tab-nav::-webkit-scrollbar {
        display: none;
    }

    .civic-tab-link {
        white-space: nowrap;
        padding: var(--space-3) var(--space-3-5);
        flex-shrink: 0;
    }

    .civic-group-info {
        padding: var(--space-4);
    }

    .civic-group-info h1 {
        font-size: 1.5rem;
    }

    .civic-group-header-content {
        flex-direction: column;
        align-items: stretch;
        gap: var(--space-4);
    }

    .civic-group-header-content > div:last-child {
        width: 100%;
    }

    .civic-group-header-content .civic-btn {
        width: 100%;
        text-align: center;
        justify-content: center;
    }
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .civic-group-card,
    .civic-subhub-card,
    .civic-member-card,
    .civic-group-sidebar-card {
        border: 2px solid currentColor;
    }

    .civic-tab-link {
        border-bottom-width: 4px;
    }

    .civic-group-card-btn,
    .civic-subhub-btn,
    .civic-group-action-btn {
        border-width: var(--space-1);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    .civic-tab-pane,
    .civic-group-card-btn,
    .civic-subhub-btn,
    .civic-group-action-btn,
    .civic-group-contact-btn {
        transition: none;
    }
}


/* ========================================
 * civicone-events.css
 * ======================================== */

/* ============================================
   CIVICONE EVENTS MODULE
   WCAG 2.1 AA Compliant Design System
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-event-text-primary: var(--color-gray-900);     /* 12.6:1 */
    --civic-event-text-secondary: var(--color-gray-700);   /* 8.5:1 */
    --civic-event-text-muted: var(--color-gray-600);       /* 7.0:1 */

    /* Brand/Action Colors (WCAG AA) */
    --civic-event-brand: var(--color-teal-700);            /* 5.8:1 - Teal 700 */
    --civic-event-brand-hover: var(--color-teal-800);      /* 7.2:1 - Teal 800 */
    --civic-event-link: var(--color-sky-700);             /* 5.3:1 - Sky 700 */
    --civic-event-link-hover: var(--color-sky-800);       /* 6.8:1 - Sky 800 */

    /* Status Colors (WCAG AA) */
    --civic-event-success: var(--color-emerald-700);          /* 5.3:1 - Emerald 700 */
    --civic-event-success-bg: var(--color-emerald-50);
    --civic-event-danger: var(--color-red-700);           /* 5.9:1 - Red 700 */
    --civic-event-danger-bg: var(--color-red-50);

    /* Focus Ring */
    --civic-event-focus-ring: var(--color-teal-700);
    --civic-event-focus-offset: 2px;

    /* Touch Target */
    --civic-event-touch-min: 44px;
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-event-text-primary: var(--color-gray-50);
    --civic-event-text-secondary: var(--color-gray-200);
    --civic-event-text-muted: var(--color-gray-300);
    --civic-event-brand: var(--color-teal-300);
    --civic-event-brand-hover: #99F6E4;
    --civic-event-link: #7DD3FC;
    --civic-event-link-hover: #BAE6FD;
    --civic-event-success: var(--color-emerald-400);
    --civic-event-success-bg: var(--color-emerald-alpha-15);
    --civic-event-danger: var(--color-red-400);
    --civic-event-danger-bg: var(--color-red-alpha-15);
    --civic-event-focus-ring: var(--color-teal-300);
}


/* --------------------------------------------
   Events Index Page Styles
   -------------------------------------------- */

/* Events Header */
.civic-events-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 4px solid var(--color-govuk-black);
    padding-bottom: var(--space-2-5);
    margin-bottom: var(--space-8);
    flex-wrap: wrap;
    gap: var(--space-3);
}

.civic-events-header h2 {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--civic-event-text-primary);
}

[data-theme="dark"] .civic-events-header {
    border-bottom-color: var(--color-gray-200);
}

[data-theme="dark"] .civic-events-header h2 {
    color: var(--civic-event-text-primary);
}

@media (max-width: 600px) {
    .civic-events-header {
        flex-direction: column;
        align-items: stretch;
    }

    .civic-events-header .civic-btn {
        text-align: center;
    }
}

/* Events Grid */
.civic-events-grid {
    display: grid;
    gap: var(--space-5);
}

/* Event Card */
.civic-event-card-layout {
    display: flex;
    gap: var(--space-5);
    align-items: flex-start;
    flex-wrap: wrap;
}

/* Date Box (High Contrast) */
.civic-event-date-box {
    background: var(--color-govuk-black);
    color: var(--color-white);
    padding: var(--space-4);
    text-align: center;
    min-width: var(--space-20);
    border-radius: var(--radius-sm);
}

[data-theme="dark"] .civic-event-date-box {
    background: var(--color-gray-800);
    border: 1px solid var(--color-gray-700);
}

.civic-event-date-month {
    font-size: 1rem;
    text-transform: uppercase;
    font-weight: bold;
}

.civic-event-date-day {
    font-size: 2rem;
    font-weight: 900;
    line-height: 1;
}

/* Event Content */
.civic-event-content {
    flex: 1;
    min-width: 250px;
}

.civic-event-content h3 {
    margin: 0 0 var(--space-1) 0;
    font-size: 1.5rem;
}

.civic-event-content h3 a {
    color: var(--civic-event-text-primary);
    text-decoration: underline;
    text-underline-offset: 3px;
    transition: color 0.2s ease;
}

.civic-event-content h3 a:hover {
    color: var(--civic-event-brand);
}

.civic-event-content h3 a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-event-meta {
    font-weight: bold;
    margin-bottom: var(--space-2-5);
    font-size: 1.1rem;
    color: var(--civic-event-text-primary);
}

.civic-event-description {
    font-size: 1.1rem;
    line-height: 1.5;
    margin-bottom: var(--space-2-5);
    color: var(--civic-event-text-secondary);
}

.civic-event-host {
    font-size: 0.95rem;
    font-style: italic;
    color: var(--civic-event-text-muted);
}

.civic-event-attendees {
    font-style: normal;
    font-weight: bold;
    background: #eee;
    padding: var(--space-0-5) var(--space-1-5);
    margin-left: var(--space-2-5);
    border: 1px solid #999;
    border-radius: 3px;
    color: var(--civic-event-text-primary);
}

[data-theme="dark"] .civic-event-attendees {
    background: var(--color-gray-700);
    border-color: var(--color-gray-600);
}

/* Event Action */
.civic-event-action {
    align-self: center;
}

.civic-event-action .civic-btn {
    white-space: nowrap;
    min-height: var(--civic-event-touch-min);
}


/* --------------------------------------------
   Events Show Page Styles
   -------------------------------------------- */

/* Alert Messages */
.civic-alert {
    padding: var(--space-4) var(--space-5);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-6);
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-weight: 600;
}

.civic-alert--success {
    background: var(--civic-event-success-bg);
    color: var(--civic-event-success);
    border: 1px solid var(--color-emerald-200);
}

[data-theme="dark"] .civic-alert--success {
    border-color: var(--color-emerald-300-alpha-30);
}

/* Event Detail Grid */
.civic-event-grid {
    display: grid;
    grid-template-columns: 1fr 350px;
    gap: var(--space-6);
}

@media (max-width: 900px) {
    .civic-event-grid {
        grid-template-columns: 1fr;
    }

    .civic-event-sidebar {
        order: -1;
    }
}

/* Event Body */
.civic-event-body {
    font-size: 1.1rem;
    line-height: 1.7;
    color: var(--civic-event-text-primary);
    margin-bottom: var(--space-6);
}

/* Event Info Box */
.civic-event-info-box {
    background: var(--civic-bg-page, var(--color-gray-50));
    padding: var(--space-6);
    border-radius: var(--radius-md);
    border-left: 4px solid var(--civic-event-brand);
}

[data-theme="dark"] .civic-event-info-box {
    background: var(--color-gray-800-alpha-50);
}

/* Section Subtitle */
.civic-section-subtitle {
    font-size: 1rem;
    font-weight: 700;
    color: var(--civic-event-text-primary);
    margin: 0 0 16px 0;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.civic-section-subtitle .dashicons {
    color: var(--civic-event-brand);
}

/* Event Details List */
.civic-event-details {
    margin: 0;
}

.civic-detail-item {
    display: flex;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
    align-items: flex-start;
}

.civic-detail-item:last-child {
    margin-bottom: 0;
}

.civic-detail-item dt {
    display: flex;
    align-items: center;
    gap: var(--space-1-5);
    font-weight: 600;
    color: var(--civic-event-text-secondary);
    min-width: 140px;
}

.civic-detail-item dd {
    margin: 0;
    color: var(--civic-event-text-primary);
}

@media (max-width: 900px) {
    .civic-detail-item {
        flex-direction: column;
        gap: var(--space-1);
    }

    .civic-detail-item dt {
        min-width: auto;
    }
}

/* Attendees Grid */
.civic-attendees-grid {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.civic-attendee {
    display: block;
    transition: transform 0.2s ease;
}

.civic-attendee:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    border-radius: 50%;
}

.civic-attendee img {
    width: var(--space-11);
    height: var(--space-11);
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--civic-bg-card, var(--color-white));
    box-shadow: 0 1px 3px var(--color-black-alpha-10);
    transition: transform 0.2s ease;
}

.civic-attendee:hover img {
    transform: scale(1.1);
}

/* Event Show Page Utilities */
.civic-action-bar--spaced {
    margin-bottom: var(--space-6);
}

.civic-card--section {
    margin-top: var(--space-6);
}

.civic-rsvp-invite {
    margin-top: var(--space-5);
    padding-top: var(--space-5);
    border-top: 1px solid var(--civic-border, var(--color-gray-200));
}

.civic-btn--full-width {
    width: 100%;
}

.civic-card--host {
    margin-top: var(--space-4);
}

/* RSVP Card */
.civic-rsvp-card {
    text-align: center;
}

.civic-rsvp-buttons {
    display: flex;
    gap: var(--space-3);
}

.civic-rsvp-buttons .civic-btn {
    flex: 1;
    justify-content: center;
    min-height: var(--civic-event-touch-min);
}

/* Button Success State */
.civic-btn--success {
    background: var(--civic-event-success) !important;
    color: white !important;
    border-color: var(--civic-event-success) !important;
}

.civic-btn--success:hover {
    background: var(--color-emerald-800) !important;
}

.civic-btn--success:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

/* Button Danger State */
.civic-btn--danger {
    background: var(--civic-event-danger) !important;
    color: white !important;
    border-color: var(--civic-event-danger) !important;
}

.civic-btn--danger:hover {
    background: #991B1B !important;
}

.civic-btn--danger:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

/* Login Prompt */
.civic-login-prompt {
    color: var(--civic-event-text-muted);
    text-align: center;
}

.civic-login-prompt a {
    color: var(--civic-event-brand);
    font-weight: 600;
    text-decoration: underline;
    text-underline-offset: 2px;
}

.civic-login-prompt a:hover {
    color: var(--civic-event-brand-hover);
}

.civic-login-prompt a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

/* Host Link */
.civic-host-link {
    display: block;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--civic-event-brand);
    text-decoration: none;
    min-height: var(--civic-event-touch-min);
    line-height: var(--civic-event-touch-min);
}

.civic-host-link:hover {
    text-decoration: underline;
    color: var(--civic-event-brand-hover);
}

.civic-host-link:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Focus States - WCAG 2.1 AA Compliant
   -------------------------------------------- */

/* All interactive elements */
.civic-event-card-layout a:focus,
.civic-events-header .civic-btn:focus,
.civic-event-action .civic-btn:focus,
.civic-rsvp-form button:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

/* Skip to main content link (accessibility) */
.civic-skip-link {
    position: absolute;
    top: calc(-1 * var(--space-10));
    left: 0;
    background: var(--civic-event-brand);
    color: white;
    padding: var(--space-2) 16px;
    z-index: 100;
    text-decoration: none;
    font-weight: 600;
}

.civic-skip-link:focus {
    top: 0;
}


/* --------------------------------------------
   Touch Targets - WCAG 2.1 AA (44px minimum)
   -------------------------------------------- */

.civic-btn,
.civic-event-action .civic-btn,
.civic-rsvp-buttons .civic-btn,
.civic-host-link,
.civic-attendee {
    min-height: var(--civic-event-touch-min);
}

/* Ensure buttons have adequate touch area */
.civic-event-card-layout .civic-btn {
    padding: var(--space-3) var(--space-5);
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */

@media (prefers-contrast: high) {
    .civic-event-date-box {
        border: 2px solid var(--color-govuk-black);
    }

    .civic-event-content h3 a {
        text-decoration-thickness: 2px;
    }

    .civic-btn--success,
    .civic-btn--danger {
        border-width: var(--space-0-5);
    }

    .civic-detail-item dt,
    .civic-detail-item dd {
        color: var(--color-govuk-black);
    }

    [data-theme="dark"] .civic-detail-item dt,
    [data-theme="dark"] .civic-detail-item dd {
        color: var(--color-white);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */

@media (prefers-reduced-motion: reduce) {
    .civic-attendee img,
    .civic-btn,
    .civic-event-content h3 a {
        transition: none;
    }

    .civic-attendee:hover img {
        transform: none;
    }
}


/* --------------------------------------------
   WCAG AA Button Contrast Override
   Ensures .civic-btn has proper contrast
   -------------------------------------------- */

/* Override ALL .civic-btn instances to ensure WCAG AA contrast */
.civic-container .civic-btn,
.civic-events-header .civic-btn,
.civic-event-action .civic-btn,
.civic-empty-state .civic-btn,
a.civic-btn {
    background-color: var(--color-govuk-green) !important; /* GOV.UK Green - 7.5:1 contrast */
    color: var(--color-white) !important;
    border-color: var(--color-govuk-green) !important;
}

.civic-container .civic-btn:hover,
.civic-events-header .civic-btn:hover,
.civic-event-action .civic-btn:hover,
.civic-empty-state .civic-btn:hover,
a.civic-btn:hover {
    background-color: var(--color-govuk-green-dark) !important; /* Darker green - 9.1:1 contrast */
    color: var(--color-white) !important;
}

.civic-container .civic-btn:focus,
.civic-events-header .civic-btn:focus,
.civic-event-action .civic-btn:focus,
.civic-empty-state .civic-btn:focus,
a.civic-btn:focus {
    outline: 3px solid var(--color-brand-yellow) !important;
    outline-offset: 0 !important;
    background-color: var(--color-brand-yellow) !important;
    color: var(--color-govuk-black) !important;
    border-color: var(--color-govuk-black) !important;
    box-shadow: 0 -2px var(--color-brand-yellow), 0 4px var(--color-govuk-black) !important;
}


/* ========================================
 * civicone-profile.css
 * ======================================== */

/* ============================================
   CIVICONE PROFILE MODULE
   WCAG 2.1 AA Compliant Design System
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-profile-text-primary: var(--color-govuk-black);       /* GOV.UK black - 18.9:1 */
    --civic-profile-text-secondary: var(--color-govuk-grey-dark);     /* GOV.UK secondary - 6.8:1 */
    --civic-profile-text-muted: #626A6E;         /* 5.5:1 */

    /* Brand/Action Colors (WCAG AA) */
    --civic-profile-brand: var(--color-govuk-black);              /* GOV.UK primary */
    --civic-profile-brand-hover: var(--color-govuk-blue-light);        /* GOV.UK link blue */
    --civic-profile-link: var(--color-govuk-blue-light);               /* 6.8:1 */
    --civic-profile-link-hover: var(--color-govuk-blue);         /* 12.5:1 */

    /* Status Colors (WCAG AA) */
    --civic-profile-success: var(--color-govuk-green);            /* GOV.UK green - 5.7:1 */
    --civic-profile-danger: var(--color-govuk-red);             /* GOV.UK red - 5.6:1 */
    --civic-profile-online: var(--color-success);             /* Online indicator */

    /* Focus Ring */
    --civic-profile-focus-ring: var(--color-brand-yellow);         /* GOV.UK focus - high visibility */
    --civic-profile-focus-text: var(--color-govuk-black);
    --civic-profile-focus-offset: 3px;

    /* Touch Target */
    --civic-profile-touch-min: 44px;

    /* Borders */
    --civic-profile-border: var(--color-govuk-black);
    --civic-profile-border-light: var(--color-gray-200);
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-profile-text-primary: var(--color-gray-50);
    --civic-profile-text-secondary: var(--color-gray-300);
    --civic-profile-text-muted: var(--color-gray-400);
    --civic-profile-brand: var(--color-gray-50);
    --civic-profile-brand-hover: var(--color-blue-400);
    --civic-profile-link: var(--color-blue-300);
    --civic-profile-link-hover: #BFDBFE;
    --civic-profile-border: var(--color-gray-200);
    --civic-profile-border-light: var(--color-gray-700);
}


/* --------------------------------------------
   Profile Grid Layout
   -------------------------------------------- */
.civic-profile-grid {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: var(--space-8);
}

@media (max-width: 768px) {
    .civic-profile-grid {
        grid-template-columns: 1fr;
    }
}


/* --------------------------------------------
   Profile Card Sidebar
   -------------------------------------------- */
.civic-profile-card {
    background: var(--color-white);
    border: 2px solid var(--civic-profile-border);
    padding: var(--space-6);
    text-align: center;
}

[data-theme="dark"] .civic-profile-card {
    background: var(--color-gray-800);
}

.civic-profile-avatar-wrapper {
    position: relative;
    display: inline-block;
    margin-bottom: var(--space-4);
}

.civic-profile-avatar {
    width: 120px;
    height: 120px;
    border-radius: var(--radius-full);
    object-fit: cover;
    border: 3px solid var(--civic-profile-border);
}

/* Online Indicator */
.civic-online-indicator {
    position: absolute;
    bottom: var(--space-1);
    right: var(--space-1);
    width: var(--space-5);
    height: var(--space-5);
    background: var(--civic-profile-online);
    border: 3px solid var(--color-white);
    border-radius: var(--radius-full);
    box-shadow: 0 2px 4px var(--color-emerald-alpha-40);
    /* animation removed for GOV.UK compliance */
}

[data-theme="dark"] .civic-online-indicator {
    border-color: var(--color-gray-800);
}


@media (prefers-reduced-motion: reduce) {
    .civic-online-indicator {
        /* animation removed for GOV.UK compliance */
    }
}

.civic-profile-name {
    font-size: var(--font-size-xl);
    font-weight: var(--font-weight-bold);
    margin-bottom: var(--space-1);
    color: var(--civic-profile-text-primary);
}

.civic-profile-location {
    color: var(--civic-profile-text-secondary);
    font-size: var(--font-size-sm);
    margin-bottom: var(--space-5);
}

.civic-profile-stats {
    background: var(--color-gray-100);
    padding: var(--space-4);
    margin-bottom: var(--space-5);
}

[data-theme="dark"] .civic-profile-stats {
    background: var(--color-gray-700);
}

.civic-profile-balance {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--civic-profile-brand);
}


/* --------------------------------------------
   Post Cards
   -------------------------------------------- */
.civic-post-card {
    background: var(--color-white);
    border: 2px solid var(--civic-profile-border);
    margin-bottom: var(--space-5);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

[data-theme="dark"] .civic-post-card {
    background: var(--color-gray-800);
}

.civic-post-card:hover {
    transform: translateY(-2px);
    box-shadow: 4px 4px 0 var(--civic-profile-border);
}

@media (prefers-reduced-motion: reduce) {
    .civic-post-card:hover {
        transform: none;
    }
}

.civic-post-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-4);
    border-bottom: 1px solid var(--civic-profile-border-light);
}

.civic-avatar-sm {
    width: var(--space-11);
    height: var(--space-11);
    border-radius: var(--radius-full);
    object-fit: cover;
    border: 2px solid var(--civic-profile-border);
}

.civic-post-content {
    padding: var(--space-4);
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    color: var(--civic-profile-text-primary);
}

.civic-post-image {
    width: 100%;
    max-height: 400px;
    object-fit: cover;
    border-top: 1px solid var(--civic-profile-border-light);
    border-bottom: 1px solid var(--civic-profile-border-light);
}


/* --------------------------------------------
   Post Actions - WCAG Touch Targets
   -------------------------------------------- */
.civic-post-actions {
    display: flex;
    gap: 0;
    border-top: 1px solid var(--civic-profile-border-light);
}

.civic-action-btn {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: var(--space-3);
    min-height: var(--civic-profile-touch-min);
    background: transparent;
    border: none;
    border-right: 1px solid var(--civic-profile-border-light);
    cursor: pointer;
    font-weight: var(--font-weight-semibold);
    font-size: var(--font-size-sm);
    color: var(--civic-profile-text-secondary);
    transition: all var(--transition-fast) ease;
}

.civic-action-btn:last-child {
    border-right: none;
}

.civic-action-btn:hover {
    background: var(--color-gray-100);
}

[data-theme="dark"] .civic-action-btn:hover {
    background: var(--color-gray-700);
}

.civic-action-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    background: var(--civic-profile-focus-ring);
    color: var(--civic-profile-focus-text);
}

.civic-action-btn.liked {
    color: var(--civic-profile-danger);
    background: var(--color-govuk-red-alpha-10);
}


/* --------------------------------------------
   Comments Section
   -------------------------------------------- */
.civic-comments-section {
    display: none;
    border-top: var(--space-0-5) solid var(--civic-profile-border);
    background: #F8F8F8;
    padding: var(--space-4);
}

[data-theme="dark"] .civic-comments-section {
    background: var(--color-gray-900);
}

.civic-comment {
    display: flex;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
    padding: var(--space-3);
    background: var(--color-white);
    border: 1px solid var(--civic-profile-border-light);
}

[data-theme="dark"] .civic-comment {
    background: var(--color-gray-800);
}

.civic-comment-avatar {
    width: var(--space-8);
    height: var(--space-8);
    border-radius: var(--radius-full);
    object-fit: cover;
    flex-shrink: 0;
}

.civic-comment-bubble {
    flex: 1;
}

.civic-comment-author {
    font-weight: var(--font-weight-bold);
    font-size: var(--font-size-xs);
    color: var(--civic-profile-text-primary);
    margin-bottom: var(--space-1);
}

.civic-comment-text {
    font-size: var(--font-size-sm);
    color: var(--civic-profile-text-primary);
    line-height: var(--line-height-normal);
}

.civic-comment-meta {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-top: var(--space-2);
    font-size: var(--font-size-xs);
    color: var(--civic-profile-text-secondary);
}

.civic-comment-meta span {
    cursor: pointer;
    min-height: var(--space-6);
    display: inline-flex;
    align-items: center;
}

.civic-comment-meta span:hover {
    text-decoration: underline;
}

.civic-comment-meta span:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Reactions
   -------------------------------------------- */
.civic-reactions {
    display: flex;
    align-items: center;
    gap: var(--space-1);
    margin-top: var(--space-2);
    flex-wrap: wrap;
}

.civic-reaction {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: var(--space-1) var(--space-3);
    min-height: var(--space-8);
    font-size: var(--font-size-xs);
    border: 1px solid var(--civic-profile-border-light);
    background: var(--color-white);
    cursor: pointer;
    transition: all var(--transition-fast);
}

[data-theme="dark"] .civic-reaction {
    background: var(--color-gray-700);
    border-color: var(--color-gray-600);
}

.civic-reaction:hover {
    background: var(--color-gray-100);
}

[data-theme="dark"] .civic-reaction:hover {
    background: var(--color-gray-600);
}

.civic-reaction:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-reaction.active {
    background: var(--color-govuk-red-alpha-10);
    border-color: var(--civic-profile-danger);
}

.civic-reaction-picker {
    position: relative;
    display: inline-block;
}

.civic-reaction-picker-menu {
    display: none;
    position: absolute;
    bottom: 100%;
    left: 0;
    background: var(--color-white);
    border: 2px solid var(--civic-profile-border);
    padding: var(--space-2);
    white-space: nowrap;
    z-index: 100;
    box-shadow: 4px 4px 0 var(--color-black-alpha-10);
}

[data-theme="dark"] .civic-reaction-picker-menu {
    background: var(--color-gray-800);
}

.civic-reaction-picker-menu span {
    font-size: var(--font-size-xl);
    cursor: pointer;
    padding: var(--space-2);
    min-width: var(--space-9);
    min-height: var(--space-9);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: transform var(--transition-fast);
}

.civic-reaction-picker-menu span:hover {
    transform: scale(1.3);
}

.civic-reaction-picker-menu span:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Reply Form
   -------------------------------------------- */
.civic-reply-form {
    display: none;
    margin-top: var(--space-3);
    padding-top: var(--space-3);
    border-top: 1px dashed var(--civic-profile-border-light);
}

.civic-reply-input {
    flex: 1;
    padding: var(--space-3);
    min-height: var(--civic-profile-touch-min);
    border: 1px solid var(--civic-profile-border);
    font-size: 16px; /* Prevents iOS zoom */
    color: var(--civic-profile-text-primary);
    background: var(--color-white);
}

[data-theme="dark"] .civic-reply-input {
    background: var(--color-gray-700);
    border-color: var(--color-gray-600);
    color: var(--color-gray-50);
}

.civic-reply-input:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    border-color: var(--civic-profile-brand);
}


/* --------------------------------------------
   Comment Form
   -------------------------------------------- */
.civic-comment-form {
    display: flex;
    gap: var(--space-3);
    margin-top: var(--space-3);
}

.civic-comment-input {
    flex: 1;
    padding: var(--space-3) var(--space-3-5);
    min-height: var(--civic-profile-touch-min);
    border: 2px solid var(--civic-profile-border);
    font-size: 16px; /* Prevents iOS zoom */
    color: var(--civic-profile-text-primary);
    background: var(--color-white);
}

[data-theme="dark"] .civic-comment-input {
    background: var(--color-gray-700);
    border-color: var(--color-gray-600);
    color: var(--color-gray-50);
}

.civic-comment-input:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    border-color: var(--civic-profile-brand);
}

.civic-comment-submit {
    padding: var(--space-3) var(--space-5);
    min-height: var(--civic-profile-touch-min);
    background: var(--civic-profile-brand);
    color: var(--color-white);
    border: none;
    font-weight: var(--font-weight-bold);
    cursor: pointer;
    transition: all var(--transition-fast);
}

.civic-comment-submit:hover {
    background: var(--civic-profile-danger);
}

.civic-comment-submit:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Toast Notification
   -------------------------------------------- */
.civic-toast {
    position: fixed;
    bottom: calc(90px + env(safe-area-inset-bottom, 0px));
    left: 50%;
    transform: translateX(-50%);
    background: var(--civic-profile-brand);
    color: var(--color-white);
    padding: var(--space-3) var(--space-6);
    font-weight: var(--font-weight-semibold);
    z-index: 10000;
    opacity: 0;
    transition: opacity var(--transition-base);
    max-width: calc(100% - 32px);
    text-align: center;
    border-radius: var(--radius-base);
}

.civic-toast.show {
    opacity: 1;
}


/* --------------------------------------------
   Composer
   -------------------------------------------- */
.civic-composer {
    background: var(--color-white);
    border: 2px solid var(--civic-profile-border);
    margin-bottom: var(--space-5);
    padding: var(--space-5);
}

[data-theme="dark"] .civic-composer {
    background: var(--color-gray-800);
}

.civic-composer textarea {
    width: 100%;
    min-height: var(--space-20);
    padding: var(--space-3);
    border: 1px solid var(--civic-profile-border-light);
    font-size: 16px; /* Prevents iOS zoom */
    resize: vertical;
    margin-bottom: var(--space-3);
    color: var(--civic-profile-text-primary);
    background: var(--color-white);
}

[data-theme="dark"] .civic-composer textarea {
    background: var(--color-gray-700);
    border-color: var(--color-gray-600);
    color: var(--color-gray-50);
}

.civic-composer textarea:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    border-color: var(--civic-profile-brand);
}

.civic-composer-actions {
    display: flex;
    justify-content: flex-end;
    gap: var(--space-3);
}


/* --------------------------------------------
   Mention Highlight
   -------------------------------------------- */
.civic-mention {
    color: var(--civic-profile-danger);
    font-weight: var(--font-weight-semibold);
}


/* --------------------------------------------
   Focus States - WCAG GOV.UK Style
   -------------------------------------------- */
.civic-profile-card a:focus,
.civic-profile-card button:focus,
.civic-post-card a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    background: var(--civic-profile-focus-ring);
    color: var(--civic-profile-focus-text);
    text-decoration: none;
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .civic-profile-card,
    .civic-post-card,
    .civic-composer,
    .civic-comment {
        border-width: var(--space-1);
    }

    .civic-action-btn {
        border-width: var(--space-0-5);
    }

    .civic-comment-input,
    .civic-reply-input,
    .civic-composer textarea {
        border-width: var(--space-1);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    .civic-post-card,
    .civic-action-btn,
    .civic-reaction,
    .civic-comment-submit,
    .civic-toast {
        transition: none;
    }

    .civic-reaction-picker-menu span:hover {
        transform: none;
    }
}


/* ========================================
 * civicone-volunteering.css
 * ======================================== */

/* ============================================
   CIVICONE VOLUNTEERING MODULE
   WCAG 2.1 AA Compliant Design System
   Updated 2026-01-20: GOV.UK design tokens
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-vol-text-primary: var(--color-gray-900);       /* 12.6:1 */
    --civic-vol-text-secondary: var(--color-gray-700);     /* 8.5:1 */
    --civic-vol-text-muted: var(--color-gray-600);         /* 7.0:1 */

    /* Brand/Action Colors (WCAG AA) */
    --civic-vol-brand: var(--color-teal-700);              /* Teal 700 - 5.8:1 */
    --civic-vol-brand-hover: var(--color-teal-800);        /* Teal 800 - 7.2:1 */
    --civic-vol-brand-light: var(--color-teal-700-alpha-10);

    /* Status Colors (WCAG AA) */
    --civic-vol-success: var(--color-success-700);            /* 5.3:1 */
    --civic-vol-success-bg: var(--color-emerald-50);
    --civic-vol-info: var(--color-blue-700);               /* 6.3:1 */
    --civic-vol-info-bg: var(--color-blue-100);

    /* Focus Ring */
    --civic-vol-focus-ring: var(--color-brand-yellow);         /* GOV.UK focus */
    --civic-vol-focus-text: var(--color-govuk-black);
    --civic-vol-focus-offset: 3px;

    /* Touch Target */
    --civic-vol-touch-min: 44px;

    /* Borders */
    --civic-vol-border: var(--color-gray-200);
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-vol-text-primary: var(--color-gray-50);
    --civic-vol-text-secondary: var(--color-gray-200);
    --civic-vol-text-muted: var(--color-gray-300);
    --civic-vol-brand: var(--color-teal-300);
    --civic-vol-brand-hover: #99F6E4;
    --civic-vol-brand-light: var(--color-teal-300-alpha-15);
    --civic-vol-success: var(--color-success-400);
    --civic-vol-success-bg: var(--color-emerald-alpha-15);
    --civic-vol-info: var(--color-blue-400);
    --civic-vol-info-bg: var(--color-blue-alpha-15);
    --civic-vol-border: var(--color-gray-700);
}


/* --------------------------------------------
   Volunteering Index Page
   -------------------------------------------- */

/* Action Bar */
.civic-action-bar {
    display: flex;
    gap: var(--space-3);
    justify-content: flex-end;
    flex-wrap: wrap;
    margin-bottom: var(--space-6);
}

.civic-action-bar .civic-btn {
    min-height: var(--civic-vol-touch-min);
}

@media (max-width: 600px) {
    .civic-action-bar {
        justify-content: stretch;
    }

    .civic-action-bar .civic-btn {
        flex: 1;
        text-align: center;
    }
}

/* Opportunities Grid */
.civic-opportunities-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: var(--space-6);
    margin-bottom: var(--space-10);
}

@media (max-width: 600px) {
    .civic-opportunities-grid {
        grid-template-columns: 1fr;
    }
}

/* Tags with Icons */
.civic-tags .civic-tag {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    min-height: var(--space-7);
}

.civic-tags .dashicons {
    font-size: var(--font-size-sm);
    width: var(--space-3-5);
    height: var(--space-3-5);
}


/* --------------------------------------------
   Volunteering Show Page
   -------------------------------------------- */

/* Breadcrumb */
.civic-breadcrumb {
    margin-bottom: var(--space-6);
}

.civic-breadcrumb a {
    color: var(--civic-vol-text-muted);
    text-decoration: none;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    min-height: var(--civic-vol-touch-min);
    padding: var(--space-2) 0;
}

.civic-breadcrumb a:hover {
    color: var(--civic-vol-brand);
}

.civic-breadcrumb a:focus {
    outline: 3px solid var(--civic-vol-focus-ring);
    outline-offset: 2px; /* No token for 2px */
    background: var(--civic-vol-focus-ring);
    color: var(--civic-vol-focus-text);
}

/* Detail Layout */
.civic-detail-layout {
    display: grid;
    grid-template-columns: 1fr 360px;
    gap: var(--space-8);
    align-items: start;
}

@media (max-width: 900px) {
    .civic-detail-layout {
        grid-template-columns: 1fr;
    }
}

/* Detail Cards */
.civic-detail-card {
    background: var(--civic-bg-card, var(--color-white));
    border: 1px solid var(--civic-vol-border);
    border-radius: var(--radius-md);
    padding: var(--space-6);
    margin-bottom: var(--space-6);
}

[data-theme="dark"] .civic-detail-card {
    background: var(--color-gray-800);
}

.civic-detail-header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-wrap: wrap;
    margin-bottom: var(--space-4);
}

.civic-detail-location {
    color: var(--civic-vol-text-muted);
    font-size: var(--font-size-sm);
    display: flex;
    align-items: center;
    gap: var(--space-1);
}

.civic-detail-title {
    font-size: 1.75rem; /* Between 2xl (1.5rem) and 3xl (1.875rem) */
    font-weight: 700;
    color: var(--civic-vol-text-primary);
    margin: 0 0 var(--space-3) 0;
    line-height: 1.3;
}

.civic-detail-meta {
    margin: 0;
}

/* Links */
.civic-link {
    color: var(--civic-vol-brand);
    text-decoration: underline;
    text-underline-offset: 2px; /* No token for 2px */
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    min-height: var(--civic-vol-touch-min);
}

.civic-link:hover {
    color: var(--civic-vol-brand-hover);
}

.civic-link:focus {
    outline: 3px solid var(--civic-vol-focus-ring);
    outline-offset: 2px; /* No token for 2px */
    background: var(--civic-vol-focus-ring);
    color: var(--civic-vol-focus-text);
}

/* Section Titles */
.civic-detail-section-title {
    font-size: var(--font-size-lg);
    font-weight: 700;
    color: var(--civic-vol-text-primary);
    margin: 0 0 var(--space-4) 0;
    display: flex;
    align-items: center;
    gap: var(--space-2);
}

.civic-detail-section-title .dashicons {
    color: var(--civic-vol-brand);
}

.civic-detail-description {
    font-size: var(--font-size-base);
    line-height: 1.7;
    color: var(--civic-vol-text-secondary);
    white-space: pre-wrap;
}


/* --------------------------------------------
   Info Grid
   -------------------------------------------- */
.civic-info-grid {
    display: grid;
    gap: var(--space-4);
}

.civic-info-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4);
    background: var(--civic-bg-page, var(--color-gray-50));
    border-radius: var(--radius-base);
    border: 1px solid var(--civic-vol-border);
}

[data-theme="dark"] .civic-info-item {
    background: var(--color-gray-900);
}

.civic-info-icon {
    color: var(--civic-vol-brand);
    font-size: var(--font-size-xl);
    width: var(--space-5);
    height: var(--space-5);
    flex-shrink: 0;
    margin-top: var(--space-0-5); /* No token for 2px */
}

.civic-info-content {
    display: flex;
    flex-direction: column;
    gap: var(--space-0-5); /* No token for 2px */
}

.civic-info-label {
    font-size: var(--font-size-xs);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--civic-vol-text-muted);
}

.civic-info-value {
    font-weight: 600;
    color: var(--civic-vol-text-primary);
}


/* --------------------------------------------
   Sidebar
   -------------------------------------------- */
.civic-sidebar-card {
    background: var(--civic-bg-card, var(--color-white));
    border: 1px solid var(--civic-vol-border);
    border-radius: var(--radius-md);
    padding: var(--space-6);
    position: sticky;
    top: var(--space-5);
}

[data-theme="dark"] .civic-sidebar-card {
    background: var(--color-gray-800);
}

.civic-sidebar-org {
    text-align: center;
    padding-bottom: var(--space-5);
    border-bottom: 1px solid var(--civic-vol-border);
    margin-bottom: var(--space-5);
}

.civic-sidebar-org-icon {
    width: var(--space-16);
    height: var(--space-16);
    background: var(--civic-vol-brand);
    border-radius: var(--radius-lg);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-3);
    color: white;
}

.civic-sidebar-org-icon .dashicons {
    font-size: 28px; /* No exact token */
    width: var(--space-7);
    height: var(--space-7);
}

.civic-sidebar-org-name {
    margin: 0 0 var(--space-1) 0;
    font-size: var(--font-size-lg);
    color: var(--civic-vol-text-primary);
}

.civic-sidebar-org-type {
    margin: 0;
    color: var(--civic-vol-text-muted);
    font-size: var(--font-size-sm);
}


/* --------------------------------------------
   Alerts
   -------------------------------------------- */
.civic-alert {
    display: flex;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-base);
}

.civic-alert--success {
    background: var(--civic-vol-success-bg);
    color: var(--civic-vol-success);
    border: 1px solid var(--color-emerald-200);
}

[data-theme="dark"] .civic-alert--success {
    border-color: var(--color-emerald-300-alpha-30);
}

.civic-alert--info {
    background: var(--civic-vol-info-bg);
    color: var(--civic-vol-info);
    border: 1px solid var(--color-blue-300);
}

[data-theme="dark"] .civic-alert--info {
    border-color: var(--color-blue-400-alpha-30);
}

.civic-alert .dashicons {
    font-size: var(--font-size-2xl);
    width: var(--space-6);
    height: var(--space-6);
    flex-shrink: 0;
}

.civic-alert strong {
    display: block;
    margin-bottom: var(--space-1);
}

.civic-alert p {
    margin: 0;
    font-size: var(--font-size-sm);
    opacity: 0.9;
}


/* --------------------------------------------
   Apply Form
   -------------------------------------------- */
.civic-apply-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-5);
}

.civic-form-group {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.civic-label {
    font-weight: 600;
    color: var(--civic-vol-text-primary);
    display: flex;
    align-items: center;
    gap: var(--space-1-5); /* No exact token, closest would be space-2 (8px) */
}

.civic-label .dashicons {
    color: var(--civic-vol-brand);
    font-size: var(--font-size-base);
    width: 16px;
    height: 16px;
}

.civic-textarea {
    width: 100%;
    padding: var(--space-3);
    min-height: var(--space-20);
    border: 2px solid var(--civic-vol-border);
    border-radius: var(--radius-base);
    font-size: var(--font-size-base); /* Prevents iOS zoom */
    font-family: inherit;
    resize: vertical;
    background: var(--civic-bg-page, var(--color-gray-50));
    color: var(--civic-vol-text-primary);
}

[data-theme="dark"] .civic-textarea {
    background: var(--color-gray-900);
}

.civic-textarea:focus {
    outline: 3px solid var(--civic-vol-focus-ring);
    outline-offset: 0;
    border-color: var(--civic-vol-brand);
}


/* --------------------------------------------
   Shift Selection - Accessible
   -------------------------------------------- */
.civic-shift-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
}

.civic-shift-option {
    display: block;
    cursor: pointer;
}

.civic-shift-option input[type="radio"] {
    position: absolute;
    opacity: 0;
    width: 1px;
    height: 1px;
}

.civic-shift-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--space-3);
    min-height: var(--civic-vol-touch-min);
    border: 2px solid var(--civic-vol-border);
    border-radius: var(--radius-base);
    background: var(--civic-bg-page, var(--color-gray-50));
    transition: all 0.2s ease;
}

[data-theme="dark"] .civic-shift-content {
    background: var(--color-gray-900);
}

.civic-shift-option input:checked + .civic-shift-content {
    border-color: var(--civic-vol-brand);
    background: var(--civic-vol-brand-light);
}

.civic-shift-option input:focus + .civic-shift-content {
    outline: 3px solid var(--civic-vol-focus-ring);
    outline-offset: 2px; /* No token for 2px */
}

.civic-shift-option:hover .civic-shift-content {
    border-color: var(--civic-vol-brand);
}

.civic-shift-date {
    font-weight: 600;
    color: var(--civic-vol-text-primary);
}

.civic-shift-time {
    font-size: 13px; /* No exact token, closest is font-size-sm (14px) */
    color: var(--civic-vol-text-muted);
}

.civic-shift-capacity {
    font-size: var(--font-size-xs);
    color: var(--civic-vol-text-muted);
    background: var(--civic-bg-card, var(--color-white));
    padding: var(--space-0-5) var(--space-2); /* 2px has no token */
    border-radius: var(--radius-sm);
}


/* --------------------------------------------
   Full-width Button
   -------------------------------------------- */
.civic-btn--full {
    width: 100%;
    justify-content: center;
    min-height: var(--civic-vol-touch-min);
}


/* --------------------------------------------
   Login Prompt
   -------------------------------------------- */
.civic-login-prompt {
    text-align: center;
    padding: var(--space-5);
    background: var(--civic-bg-page, var(--color-gray-50));
    border-radius: var(--radius-base);
}

[data-theme="dark"] .civic-login-prompt {
    background: var(--color-gray-900);
}

.civic-login-prompt .dashicons {
    font-size: var(--space-8);
    width: var(--space-8);
    height: var(--space-8);
    color: var(--civic-vol-text-muted);
    margin-bottom: var(--space-3);
}

.civic-login-prompt p {
    margin: 0 0 var(--space-4) 0;
    color: var(--civic-vol-text-muted);
}


/* --------------------------------------------
   Focus States - WCAG Compliant
   -------------------------------------------- */
.civic-detail-card a:focus,
.civic-sidebar-card a:focus,
.civic-apply-form button:focus {
    outline: 3px solid var(--civic-vol-focus-ring);
    outline-offset: 2px; /* No token for 2px */
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .civic-detail-card,
    .civic-sidebar-card,
    .civic-info-item {
        border-width: var(--space-0-5);
    }

    .civic-textarea,
    .civic-shift-content {
        border-width: var(--space-1);
    }

    .civic-link {
        text-decoration-thickness: 2px;
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    .civic-shift-content,
    .civic-link {
        transition: none;
    }
}


/* ============================================
   GOV.UK DIRECTORY/LIST TEMPLATE
   Volunteering Index - WCAG 2.1 AA
   Added 2026-01-20
   ============================================ */

/* --------------------------------------------
   Opportunities List Layout (NOT card grid)
   -------------------------------------------- */
.civicone--govuk .civicone-opportunities-list {
    list-style: none;
    padding: 0;
    margin: 0 0 var(--space-10) 0;
}

.civicone--govuk .civicone-opportunity-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-2-5); /* No exact token, closest is space-3 (12px) */
    padding: var(--space-5) 0;
    border-bottom: 1px solid var(--color-govuk-grey);
}

[data-theme="dark"] .civicone--govuk .civicone-opportunity-item {
    border-bottom-color: var(--color-gray-700);
}

.civicone--govuk .civicone-opportunity-item:last-child {
    border-bottom: none;
}

/* Meta Header (Org name + Posted date) */
.civicone--govuk .civicone-opportunity-item__meta-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-4); /* No exact token, closest is space-4 (16px) */
    flex-wrap: wrap;
}

.civicone--govuk .civicone-opportunity-item__org {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--color-govuk-grey-dark);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

[data-theme="dark"] .civicone--govuk .civicone-opportunity-item__org {
    color: var(--color-govuk-grey);
}

.civicone--govuk .civicone-opportunity-item__posted {
    font-size: var(--font-size-sm);
    color: var(--color-govuk-grey-dark);
}

[data-theme="dark"] .civicone--govuk .civicone-opportunity-item__posted {
    color: var(--color-govuk-grey);
}

/* Title */
.civicone--govuk .civicone-opportunity-item__title {
    margin: 0;
    font-size: var(--font-size-2xl);
    font-weight: 700;
    line-height: 1.25;
}

@media (max-width: 640px) {
    .civicone--govuk .civicone-opportunity-item__title {
        font-size: var(--font-size-xl);
    }
}

/* Description Excerpt */
.civicone--govuk .civicone-opportunity-item__description {
    margin: 0;
    font-size: var(--font-size-base);
    line-height: 1.5;
    color: var(--color-govuk-black);
}

[data-theme="dark"] .civicone--govuk .civicone-opportunity-item__description {
    color: var(--color-neutral-50);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-opportunity-item__description {
        font-size: 19px; /* No exact token, closest is font-size-lg (18px) */
    }
}

/* Tags Row */
.civicone--govuk .civicone-opportunity-item__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2-5); /* No exact token, closest is space-3 (12px) */
    align-items: center;
}

.civicone--govuk .civicone-tag {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1); /* No exact token, closest is space-1 (4px) or space-2 (8px) */
    padding: var(--space-1) var(--space-2-5); /* No exact tokens, closest would be space-1/space-3 */
    background: var(--color-neutral-50);
    color: var(--color-govuk-black);
    font-size: var(--font-size-sm);
    font-weight: 600;
    border-radius: var(--radius-sm);
}

[data-theme="dark"] .civicone--govuk .civicone-tag {
    background: var(--color-gray-800);
    color: var(--color-neutral-50);
}

.civicone--govuk .civicone-tag--green {
    background: var(--color-govuk-green);
    color: var(--color-white);
}

[data-theme="dark"] .civicone--govuk .civicone-tag--green {
    background: var(--color-govuk-green);
    color: var(--color-white);
}

.civicone--govuk .civicone-tag-icon {
    flex-shrink: 0;
}

/* Action Button */
.civicone--govuk .civicone-opportunity-item__action {
    align-self: flex-start;
    margin-top: var(--space-1); /* No exact token, closest is space-1 (4px) */
}

/* Responsive Stacking */
@media (max-width: 640px) {
    .civicone--govuk .civicone-opportunity-item {
        padding: var(--space-4) 0; /* No exact token, closest is space-4 (16px) */
    }

    .civicone--govuk .civicone-opportunity-item__meta-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-1); /* No exact token, closest is space-1 (4px) or space-2 (8px) */
    }
}


/* --------------------------------------------
   Secondary Filter Panel (Dashboard Link)
   -------------------------------------------- */
.civicone--govuk .civicone-body-s {
    font-size: var(--font-size-sm);
    line-height: 1.5;
    color: var(--color-govuk-black);
    margin: 0;
}

[data-theme="dark"] .civicone--govuk .civicone-body-s {
    color: var(--color-neutral-50);
}

@media (min-width: 641px) {
    .civicone--govuk .civicone-body-s {
        font-size: var(--font-size-base);
    }
}


/* ========================================
 * civicone-mini-modules.css
 * ======================================== */

/* ============================================
   CIVICONE MINI MODULES
   Polls, Goals, Resources - WCAG 2.1 AA Compliant
   Updated 2026-01-21: Design tokens migration
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-mini-text-primary: var(--color-gray-900);      /* 12.6:1 */
    --civic-mini-text-secondary: var(--color-gray-700);    /* 8.5:1 */
    --civic-mini-text-muted: var(--color-gray-600);        /* 7.0:1 */

    /* Focus Ring */
    --civic-mini-focus-ring: var(--color-brand-yellow);        /* GOV.UK focus */
    --civic-mini-focus-text: var(--color-govuk-black);
    --civic-mini-focus-offset: var(--space-1);

    /* Touch Target */
    --civic-mini-touch-min: 44px;

    /* Borders */
    --civic-mini-border: var(--color-govuk-black);
    --civic-mini-border-light: var(--color-gray-200);
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-mini-text-primary: var(--color-gray-50);
    --civic-mini-text-secondary: var(--color-gray-200);
    --civic-mini-text-muted: var(--color-gray-300);
    --civic-mini-border: var(--color-gray-200);
    --civic-mini-border-light: var(--color-gray-700);
}


/* --------------------------------------------
   Common Module Header
   -------------------------------------------- */
.civic-module-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 4px solid var(--civic-mini-border);
    padding-bottom: var(--space-3);
    margin-bottom: var(--space-8);
    flex-wrap: wrap;
    gap: var(--space-3);
}

.civic-module-header h2 {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 1px;
    color: var(--civic-mini-text-primary);
}

@media (max-width: 600px) {
    .civic-module-header {
        flex-direction: column;
        align-items: stretch;
    }

    .civic-module-header .civic-btn {
        text-align: center;
    }
}


/* --------------------------------------------
   Module Grid
   -------------------------------------------- */
.civic-module-grid {
    display: grid;
    gap: var(--space-5);
}

.civic-module-grid--cards {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}


/* --------------------------------------------
   Empty State
   -------------------------------------------- */
.civic-module-empty {
    text-align: center;
    padding: var(--space-10);
}

.civic-module-empty-icon {
    font-size: var(--font-size-4xl);
    margin-bottom: var(--space-3);
}

.civic-module-empty-title {
    font-size: var(--font-size-2xl);
    margin-bottom: var(--space-3);
    color: var(--civic-mini-text-primary);
}

.civic-module-empty-text {
    margin-bottom: var(--space-5);
    color: var(--civic-mini-text-secondary);
}


/* --------------------------------------------
   Polls Module
   -------------------------------------------- */
.civic-poll-card {
    background: var(--civic-bg-card, var(--color-white));
    border: 2px solid var(--civic-mini-border);
    padding: var(--space-6);
}

[data-theme="dark"] .civic-poll-card {
    background: var(--color-gray-800);
}

.civic-poll-card h3 {
    margin-top: 0;
    color: var(--civic-mini-text-primary);
}

.civic-poll-status {
    margin-bottom: var(--space-4);
    color: var(--civic-mini-text-secondary);
}

.civic-poll-status strong {
    color: var(--civic-mini-text-primary);
}

.civic-poll-card .civic-btn {
    min-height: var(--civic-mini-touch-min);
}

.civic-poll-card .civic-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Goals Module
   -------------------------------------------- */
.civic-goal-card {
    background: var(--civic-bg-card, var(--color-white));
    border: 2px solid var(--civic-mini-border);
    padding: var(--space-6);
}

[data-theme="dark"] .civic-goal-card {
    background: var(--color-gray-800);
}

.civic-goal-card h3 {
    margin-top: 0;
    color: var(--civic-mini-text-primary);
}

.civic-goal-progress-bar {
    background: #eee;
    height: var(--space-3);
    border-radius: var(--radius-base);
    margin: var(--space-4) 0;
    border: 1px solid #999;
    overflow: hidden;
}

[data-theme="dark"] .civic-goal-progress-bar {
    background: var(--color-gray-700);
    border-color: var(--color-gray-600);
}

.civic-goal-progress-fill {
    background: var(--civic-mini-border);
    height: 100%;
    transition: width var(--transition-base);
}

[data-theme="dark"] .civic-goal-progress-fill {
    background: var(--color-teal-300);
}

.civic-goal-percent {
    font-weight: var(--font-weight-semibold);
    color: var(--civic-mini-text-primary);
    margin-bottom: var(--space-4);
}

.civic-goal-btn-outline {
    background: white;
    color: var(--civic-mini-border);
    border: 2px solid var(--civic-mini-border);
    min-height: var(--civic-mini-touch-min);
    padding: var(--space-3) var(--space-5);
    font-weight: var(--font-weight-semibold);
    cursor: pointer;
    transition: all var(--transition-fast);
}

[data-theme="dark"] .civic-goal-btn-outline {
    background: var(--color-gray-800);
    color: var(--color-gray-50);
}

.civic-goal-btn-outline:hover {
    background: var(--civic-mini-border);
    color: white;
}

.civic-goal-btn-outline:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Resources Module
   -------------------------------------------- */
.civic-resource-card {
    background: var(--civic-bg-card, var(--color-white));
    border: 2px solid var(--civic-mini-border);
    padding: var(--space-6);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

[data-theme="dark"] .civic-resource-card {
    background: var(--color-gray-800);
}

.civic-resource-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-3);
}

.civic-resource-icon {
    font-size: var(--font-size-4xl);
}

.civic-resource-size {
    background: var(--civic-mini-border);
    color: var(--color-white);
    padding: var(--space-1) var(--space-3);
    font-weight: var(--font-weight-bold);
    border-radius: var(--radius-sm);
    font-size: var(--font-size-xs);
}

[data-theme="dark"] .civic-resource-size {
    background: var(--color-gray-600);
}

.civic-resource-card h3 {
    margin: 0 0 var(--space-3);
    font-size: var(--font-size-xl);
    color: var(--civic-mini-text-primary);
}

.civic-resource-description {
    font-size: var(--font-size-base);
    line-height: var(--line-height-normal);
    margin-bottom: var(--space-3);
    color: var(--civic-mini-text-secondary);
}

.civic-resource-meta {
    font-size: var(--font-size-sm);
    border-top: 1px solid var(--civic-mini-border-light);
    padding-top: var(--space-3);
    margin-top: auto;
    margin-bottom: var(--space-4);
    color: var(--civic-mini-text-muted);
}

.civic-resource-meta strong {
    color: var(--civic-mini-text-primary);
}

.civic-resource-download {
    width: 100%;
    display: block;
    text-align: center;
    min-height: var(--civic-mini-touch-min);
}

.civic-resource-download:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Focus States - WCAG Compliant
   -------------------------------------------- */
.civic-poll-card a:focus,
.civic-goal-card a:focus,
.civic-resource-card a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .civic-poll-card,
    .civic-goal-card,
    .civic-resource-card {
        border-width: var(--space-1);
    }

    .civic-goal-progress-bar {
        border-width: var(--space-0-5);
    }

    .civic-goal-btn-outline {
        border-width: var(--space-1);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    .civic-goal-progress-fill,
    .civic-goal-btn-outline {
        transition: none;
    }
}

/* ============================================
   RESOURCES DOWNLOAD PAGE
   ============================================ */
.civic-download-container {
    max-width: 500px;
    margin: var(--space-10) auto;
    padding: 0 var(--space-5);
}

.civic-download-card {
    background: var(--color-white);
    border: 4px solid var(--civic-mini-border);
    padding: var(--space-10);
    text-align: center;
}

.civic-download-icon {
    font-size: 4rem;
    margin-bottom: var(--space-5);
}

.civic-resource-download-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 0 var(--space-2) 0;
    text-transform: uppercase;
}

.civic-resource-download-meta {
    font-size: 0.9rem;
    color: var(--color-gray-600);
    margin-bottom: var(--space-8);
}

.civic-countdown-number {
    font-size: 4rem;
    font-weight: 900;
    margin: var(--space-5) 0;
}

.civic-countdown-text {
    font-size: 1rem;
    margin-bottom: var(--space-8);
}

.civic-download-status {
    font-size: 1rem;
    font-weight: bold;
    min-height: var(--space-6);
    margin-bottom: var(--space-5);
}

.civic-download-status.success {
    color: var(--color-success-600);
}

.civic-download-back-link {
    display: inline-block;
    background: var(--civic-mini-border);
    color: var(--color-white);
    padding: var(--space-3) var(--space-6);
    text-decoration: none;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: background 0.2s ease;
}

.civic-download-back-link:hover {
    background: var(--color-gray-700);
}

.civic-download-manual-link {
    display: block;
    margin-top: var(--space-5);
    font-size: 0.85rem;
    color: var(--color-gray-600);
}

.civic-download-manual-link a {
    color: var(--civic-mini-border);
    text-decoration: underline;
}


/* ========================================
 * civicone-messages.css
 * ======================================== */

/* ============================================
   CIVICONE MESSAGES & NOTIFICATIONS
   Messaging System - WCAG 2.1 AA Compliant
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-msg-text-primary: var(--color-gray-900);      /* 12.6:1 */
    --civic-msg-text-secondary: var(--color-gray-700);    /* 8.5:1 */
    --civic-msg-text-muted: var(--color-gray-600);        /* 7.0:1 */

    /* Focus Ring - GOV.UK Style */
    --civic-msg-focus-ring: var(--color-brand-yellow);
    --civic-msg-focus-text: var(--color-govuk-black);
    --civic-msg-focus-offset: 3px;

    /* Touch Target */
    --civic-msg-touch-min: 44px;

    /* Borders */
    --civic-msg-border: var(--color-govuk-black);
    --civic-msg-border-light: var(--color-gray-200);

    /* Message Colors */
    --civic-msg-unread-bg: #f0fdf4;
    --civic-msg-sent-bg: var(--skin-primary, var(--color-govuk-green-darker));
    --civic-msg-received-bg: var(--color-gray-200);
    --civic-msg-sent-text: var(--color-white);
    --civic-msg-received-text: var(--color-gray-800);
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-msg-text-primary: var(--color-gray-50);
    --civic-msg-text-secondary: var(--color-gray-200);
    --civic-msg-text-muted: var(--color-gray-300);
    --civic-msg-border: var(--color-gray-200);
    --civic-msg-border-light: var(--color-gray-700);
    --civic-msg-unread-bg: #064e3b;
    --civic-msg-received-bg: var(--color-gray-700);
    --civic-msg-received-text: var(--color-gray-50);
}


/* --------------------------------------------
   Messages Module Header
   -------------------------------------------- */
.civic-msg-header {
    margin-bottom: var(--space-8);
    border-bottom: 4px solid var(--skin-primary, var(--color-govuk-green-darker));
    padding-bottom: var(--space-2-5);
}

.civic-msg-header h1 {
    margin: 0;
    text-transform: uppercase;
    color: var(--civic-msg-text-primary);
}


/* --------------------------------------------
   Thread Header (Chat)
   -------------------------------------------- */
.civic-thread-header {
    margin-bottom: var(--space-5);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 4px solid var(--skin-primary, var(--color-govuk-green-darker));
    padding-bottom: var(--space-2-5);
    flex-wrap: wrap;
    gap: var(--space-3);
}

.civic-thread-header h1 {
    margin: 0;
    text-transform: uppercase;
    color: var(--civic-msg-text-primary);
}

.civic-thread-back {
    text-decoration: none;
    color: inherit;
    min-width: var(--civic-msg-touch-min);
    min-height: var(--civic-msg-touch-min);
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.civic-thread-back:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-inbox-btn {
    background: #ccc;
    color: #333;
    font-size: 0.9rem;
    padding: var(--space-2) var(--space-4);
    min-height: var(--civic-msg-touch-min);
}


/* --------------------------------------------
   Messages Empty State
   -------------------------------------------- */
.civic-msg-empty {
    text-align: center;
    padding: var(--space-10);
    color: var(--civic-msg-text-secondary);
}

.civic-msg-empty p {
    font-size: 1.2rem;
    margin-bottom: var(--space-5);
}


/* --------------------------------------------
   Thread List
   -------------------------------------------- */
.civic-thread-list {
    list-style: none;
    padding: 0;
    margin: 0;
}

.civic-thread-item {
    border-bottom: 1px solid var(--civic-msg-border-light);
}

.civic-thread-item--unread {
    background-color: var(--civic-msg-unread-bg);
}

.civic-thread-link {
    display: block;
    padding: var(--space-5);
    text-decoration: none;
    color: inherit;
    transition: background 0.2s;
    min-height: var(--civic-msg-touch-min);
}

.civic-thread-link:hover {
    background-color: var(--color-black-alpha-3);
}

[data-theme="dark"] .civic-thread-link:hover {
    background-color: var(--color-white-alpha-5);
}

.civic-thread-link:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    position: relative;
    z-index: 1;
}

.civic-thread-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-3);
}

.civic-thread-info {
    flex: 1;
    min-width: 0;
}

.civic-thread-name {
    font-size: 1.1rem;
    color: var(--skin-primary);
}

.civic-thread-name--unread {
    font-weight: bold;
}

.civic-thread-preview {
    color: var(--civic-msg-text-secondary);
    margin-top: var(--space-1);
}

.civic-thread-preview--unread {
    font-weight: bold;
}

.civic-thread-meta {
    text-align: right;
    min-width: 100px;
    display: flex;
    align-items: center;
    gap: var(--space-2-5);
}

.civic-thread-badge {
    background: var(--skin-primary);
    color: white;
    border-radius: 50%;
    padding: var(--space-1) 8px;
    font-size: 0.8rem;
    font-weight: bold;
}

.civic-thread-date {
    font-size: 0.9rem;
    color: var(--civic-msg-text-muted);
}


/* --------------------------------------------
   Chat Container
   -------------------------------------------- */
.civic-chat-container {
    display: flex;
    flex-direction: column;
    height: 70vh;
}

.civic-chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-5);
    background: #fafafa;
    border-bottom: 1px solid var(--civic-msg-border-light);
}

[data-theme="dark"] .civic-chat-messages {
    background: var(--color-gray-800);
}

.civic-chat-bubble-wrapper {
    display: flex;
    margin-bottom: var(--space-4);
}

.civic-chat-bubble-wrapper--sent {
    justify-content: flex-end;
}

.civic-chat-bubble-wrapper--received {
    justify-content: flex-start;
}

.civic-chat-bubble {
    max-width: 70%;
    padding: var(--space-2-5) var(--space-4);
    border-radius: var(--radius-lg);
    position: relative;
}

.civic-chat-bubble--sent {
    background: var(--civic-msg-sent-bg);
    color: var(--civic-msg-sent-text);
}

.civic-chat-bubble--received {
    background: var(--civic-msg-received-bg);
    color: var(--civic-msg-received-text);
}

.civic-chat-sender {
    font-weight: bold;
    font-size: 0.8rem;
    margin-bottom: var(--space-1);
    opacity: 0.8;
}

.civic-chat-time {
    font-weight: normal;
    margin-left: var(--space-1);
    opacity: 0.7;
}

.civic-chat-text {
    word-wrap: break-word;
    line-height: 1.4;
}


/* --------------------------------------------
   Chat Reply Form
   -------------------------------------------- */
.civic-chat-reply {
    padding: var(--space-5);
    background: var(--color-white);
}

[data-theme="dark"] .civic-chat-reply {
    background: var(--color-gray-800);
}

.civic-chat-reply-form {
    display: flex;
    gap: var(--space-2-5);
}

.civic-chat-textarea {
    flex: 1;
    resize: none;
    border: 2px solid #ddd;
    min-height: var(--civic-msg-touch-min);
    padding: var(--space-2-5);
    border-radius: var(--radius-md);
    font-family: inherit;
    font-size: 1rem;
}

.civic-chat-textarea:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
    border-color: var(--skin-primary);
}

.civic-chat-send {
    padding: 0 30px;
    min-height: var(--civic-msg-touch-min);
}


/* --------------------------------------------
   Notifications Module
   -------------------------------------------- */
.civic-notifications-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
}

.civic-notification-card {
    display: flex;
    align-items: flex-start;
    gap: var(--space-4);
    padding: var(--space-5);
    background: var(--civic-bg-card, var(--color-white));
    border: 1px solid var(--civic-border, var(--color-gray-200));
    border-radius: var(--radius-lg);
    transition: box-shadow 0.2s ease;
}

.civic-notification-card:hover {
    box-shadow: var(--civic-shadow, 0 4px 12px var(--color-black-alpha-10));
}

.civic-notification--unread {
    background: #F0F9FF;
    border-left: 4px solid var(--civic-brand, var(--color-govuk-blue-light));
}

[data-theme="dark"] .civic-notification--unread {
    background: #1E3A5F;
}

.civic-notification-icon {
    flex-shrink: 0;
    width: var(--civic-msg-touch-min);
    height: var(--civic-msg-touch-min);
    background: var(--civic-bg-page, var(--color-gray-50));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--civic-brand, var(--color-govuk-blue-light));
}

.civic-notification-icon .dashicons {
    font-size: 20px;
    width: var(--space-5);
    height: var(--space-5);
}

.civic-notification-content {
    flex: 1;
    min-width: 0;
}

.civic-notification-message {
    margin: 0 0 4px 0;
    font-size: 15px;
    color: var(--civic-msg-text-primary);
    line-height: 1.5;
}

.civic-notification--unread .civic-notification-message {
    font-weight: 600;
}

.civic-notification-time {
    font-size: 13px;
    color: var(--civic-msg-text-muted);
}

.civic-notification-actions {
    display: flex;
    gap: var(--space-2);
    flex-shrink: 0;
}

.civic-notification-actions .civic-btn {
    min-height: var(--civic-msg-touch-min);
}

.civic-notification-actions .civic-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Notification Action Bar
   -------------------------------------------- */
.civic-action-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-3);
}

.civic-action-bar .civic-btn {
    min-height: var(--civic-msg-touch-min);
}

.civic-action-bar .civic-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Pagination
   -------------------------------------------- */
.civic-pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--space-2);
    margin-top: var(--space-6);
    flex-wrap: wrap;
}

.civic-pagination-btn {
    min-width: var(--civic-msg-touch-min);
    min-height: var(--civic-msg-touch-min);
    padding: var(--space-2) 16px;
    background: var(--civic-bg-card, var(--color-white));
    border: 2px solid var(--civic-msg-border-light);
    border-radius: var(--radius-md);
    color: var(--civic-msg-text-primary);
    text-decoration: none;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1-5);
    transition: all 0.2s;
}

.civic-pagination-btn:hover {
    background: var(--civic-msg-border-light);
}

.civic-pagination-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.civic-pagination-current {
    background: var(--skin-primary, var(--color-govuk-green-darker));
    border-color: var(--skin-primary, var(--color-govuk-green-darker));
    color: var(--color-white);
}

[data-theme="dark"] .civic-pagination-btn {
    background: var(--color-gray-800);
    border-color: var(--color-gray-700);
}


/* --------------------------------------------
   Empty State
   -------------------------------------------- */
.civic-empty-state {
    text-align: center;
    padding: var(--space-16) var(--space-5);
    background: var(--civic-bg-card, var(--color-white));
    border-radius: var(--radius-lg);
    border: 2px dashed var(--civic-msg-border-light);
}

.civic-empty-state-icon {
    color: var(--civic-msg-text-muted);
    margin-bottom: var(--space-4);
}

.civic-empty-state-icon .dashicons {
    font-size: 48px;
    width: var(--space-12);
    height: var(--space-12);
}

.civic-empty-state-title {
    font-size: 1.25rem;
    color: var(--civic-msg-text-primary);
    margin: 0 0 8px 0;
}

.civic-empty-state-text {
    color: var(--civic-msg-text-secondary);
    margin-bottom: var(--space-5);
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.civic-empty-state .civic-btn {
    min-height: var(--civic-msg-touch-min);
}

.civic-empty-state .civic-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Mobile Responsive
   -------------------------------------------- */
@media (max-width: 600px) {
    .civic-chat-container {
        height: calc(100vh - 200px) !important;
        max-height: calc(100vh - 200px) !important;
        margin-bottom: calc(70px + env(safe-area-inset-bottom, 0px));
    }

    .civic-chat-textarea {
        min-height: var(--civic-msg-touch-min);
    }

    .civic-thread-header {
        flex-direction: column;
        align-items: stretch;
    }

    .civic-notification-card {
        flex-wrap: wrap;
    }

    .civic-notification-actions {
        width: 100%;
        margin-top: var(--space-3);
    }

    .civic-notification-actions .civic-btn {
        flex: 1;
        justify-content: center;
    }

    .civic-thread-content {
        flex-direction: column;
        align-items: flex-start;
    }

    .civic-thread-meta {
        text-align: left;
        width: 100%;
        justify-content: flex-start;
    }
}


/* --------------------------------------------
   Focus States - WCAG Compliant
   -------------------------------------------- */
.civic-msg-header a:focus,
.civic-thread-list a:focus,
.civic-notification-card a:focus,
.civic-pagination a:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .civic-notification-card,
    .civic-thread-item {
        border-width: var(--space-1);
    }

    .civic-chat-bubble {
        border: 2px solid currentColor;
    }

    .civic-pagination-btn {
        border-width: var(--space-1);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    .civic-thread-link,
    .civic-notification-card,
    .civic-pagination-btn {
        transition: none;
    }
}


/* ========================================
 * civicone-achievements.css
 * ======================================== */

/**
 * CivicOne Achievements Module Styles
 * GOV.UK Design System Compliant
 * WCAG 2.1 AA Compliant
 */

/* ============================================
   SHARED NAVIGATION & WRAPPERS
   ============================================ */

.achievements-nav,
.challenges-nav,
.collections-nav {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

.nav-pill {
    padding: 0.5rem 1rem;
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-black);
    text-decoration: none;
    font-weight: 600;
    border: 1px solid var(--color-govuk-grey);
}

.nav-pill:hover {
    background: var(--color-blue-50);
}

.nav-pill.active {
    background: var(--color-govuk-blue-light);
    color: var(--color-white);
    border-color: var(--color-govuk-blue-light);
}

.back-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--color-govuk-blue-light);
    text-decoration: underline;
    font-weight: 600;
    margin-bottom: 1rem;
}

.back-link:hover {
    color: var(--color-govuk-blue);
}

.empty-state {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--color-govuk-grey-dark);
}

.empty-state-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.empty-state h3 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: var(--color-govuk-black);
}

/* ============================================
   INDEX PAGE - ACHIEVEMENTS DASHBOARD
   ============================================ */

.achievements-wrapper {
    margin-top: 2rem;
    padding: 0 1rem 3rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
}

.achievement-card {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
}

.achievement-card.two-thirds {
    grid-column: span 2;
}

.achievement-card.full-width {
    grid-column: 1 / -1;
}

.achievement-card .card-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--color-govuk-grey);
}

.achievement-card .card-header .icon {
    font-size: 1.5rem;
}

.achievement-card .card-header h3 {
    margin: 0;
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-black);
}

/* Level Display */
.level-display {
    display: flex;
    align-items: center;
    gap: 1.5rem;
}

.level-circle {
    width: 80px;
    height: 80px;
    background: var(--color-govuk-blue-light);
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--color-white);
    flex-shrink: 0;
}

.level-circle .level-num {
    font-size: 2rem;
    font-weight: 700;
    line-height: 1;
}

.level-circle .level-label {
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
}

.level-info {
    flex: 1;
}

.level-info h4 {
    margin: 0 0 0.5rem 0;
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 500;
}

.xp-display {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    line-height: 1.2;
}

.xp-display span {
    font-size: 1rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 600;
}

/* Progress Bar */
.progress-bar-container {
    height: 0.75rem;
    background: var(--color-govuk-light-grey);
    overflow: hidden;
    margin: 0.75rem 0 0.5rem;
    border: 1px solid var(--color-govuk-grey);
}

.progress-bar-fill {
    height: 100%;
    background: var(--color-govuk-blue-light);
}

.progress-text {
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
}

/* Streaks Grid */
.streaks-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
}

.streak-item {
    text-align: center;
    padding: 1rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
}

.streak-item .streak-icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.streak-item .streak-count {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    line-height: 1;
}

.streak-item .streak-label {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 600;
    margin-top: 0.25rem;
}

.streak-item .streak-best {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
    margin-top: 0.5rem;
}

/* Rankings Grid */
.rankings-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.rank-item {
    text-align: center;
    padding: 0.75rem;
    background: var(--color-white)7e6;
    border: 1px solid var(--color-govuk-yellow);
}

.rank-item .rank-position {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-govuk-black);
}

.rank-item .rank-label {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 600;
}

.view-all-link {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    color: var(--color-govuk-blue-light);
    font-weight: 600;
    font-size: 0.875rem;
    text-decoration: underline;
}

.view-all-link:hover {
    color: var(--color-govuk-blue);
}

/* Badge Progress List */
.badge-progress-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1rem;
}

.badge-progress-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.badge-progress-item .badge-icon {
    font-size: 2rem;
    flex-shrink: 0;
}

.badge-progress-item .badge-info {
    flex: 1;
}

.badge-progress-item .badge-name {
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 0.25rem;
}

.badge-progress-item .badge-desc {
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
    margin-bottom: 0.5rem;
}

.progress-mini {
    height: 0.5rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    overflow: hidden;
    margin-bottom: 0.25rem;
}

.progress-mini-fill {
    height: 100%;
    background: var(--color-govuk-blue-light);
}

.badge-progress-item .progress-label {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
}

/* Badges Earned Grid */
.badges-earned-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.75rem;
}

.badge-earned {
    text-align: center;
    padding: 0.75rem 0.5rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    cursor: pointer;
}

.badge-earned:hover {
    background: var(--color-blue-50);
    border-color: var(--color-govuk-blue-light);
}

.badge-earned:focus {
    outline: 3px solid var(--color-govuk-yellow);
    outline-offset: 0;
    background-color: var(--color-govuk-yellow);
}

.badge-earned .badge-icon {
    font-size: 1.5rem;
    display: block;
    margin-bottom: 0.25rem;
}

.badge-earned .badge-name {
    font-size: 0.7rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 500;
    line-height: 1.2;
}

/* XP Log */
.xp-log {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.xp-log-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
}

.xp-log-item .xp-action {
    font-weight: 600;
    color: var(--color-govuk-black);
    font-size: 0.875rem;
}

.xp-log-item .xp-date {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
}

.xp-log-item .xp-amount {
    font-weight: 700;
    color: var(--color-govuk-green);
    font-size: 0.875rem;
}

/* Stats Summary */
.stats-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 1rem;
}

.stat-item {
    text-align: center;
    padding: 1rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
}

.stat-item .stat-value {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    line-height: 1;
}

.stat-item .stat-label {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 600;
    margin-top: 0.25rem;
}

/* ============================================
   BADGE MODAL
   ============================================ */

.badge-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--color-black-alpha-50);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
}

.badge-modal-overlay.visible {
    opacity: 1;
    visibility: visible;
}

.badge-modal-content {
    background: var(--color-white);
    max-width: 400px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    border: 1px solid var(--color-govuk-black);
}

.badge-modal-handle {
    display: none;
}

.badge-modal-header {
    position: relative;
    padding: 1.5rem;
    text-align: center;
    background: var(--color-govuk-blue-light);
    color: var(--color-white);
}

.badge-modal-close {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    width: 2rem;
    height: 2rem;
    background: var(--color-white-alpha-20);
    border: none;
    color: var(--color-white);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
}

.badge-modal-close:hover {
    background: var(--color-white-alpha-30);
}

.badge-modal-close:focus {
    outline: 3px solid var(--color-govuk-yellow);
    outline-offset: 0;
    background-color: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

.badge-modal-icon {
    font-size: 3rem;
    margin-bottom: 0.75rem;
}

.badge-modal-name {
    font-size: 1.25rem;
    font-weight: 700;
    margin: 0 0 0.75rem 0;
}

.badge-rarity-tag {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    background: var(--color-white-alpha-20);
}

.badge-rarity-tag.legendary {
    background: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

.badge-rarity-tag.epic {
    background: var(--color-rarity-epic);
    color: var(--color-white);
}

.badge-rarity-tag.rare {
    background: var(--color-govuk-blue-light);
    color: var(--color-white);
}

.badge-rarity-tag.uncommon {
    background: var(--color-govuk-green);
    color: var(--color-white);
}

.badge-rarity-tag.common {
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-black);
}

.badge-modal-body {
    padding: 1.5rem;
}

.badge-modal-section {
    margin-bottom: 1.25rem;
}

.badge-modal-section:last-child {
    margin-bottom: 0;
}

.badge-modal-label {
    font-size: 0.75rem;
    font-weight: 700;
    color: var(--color-govuk-grey-dark);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.25rem;
}

.badge-modal-text {
    font-size: 1rem;
    color: var(--color-govuk-black);
    line-height: 1.5;
}

.badge-rarity-bar {
    height: 0.5rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    overflow: hidden;
    margin-top: 0.5rem;
}

.badge-rarity-fill {
    height: 100%;
}

.badge-rarity-fill.legendary {
    background: var(--color-govuk-yellow);
}

.badge-rarity-fill.epic {
    background: var(--color-rarity-epic);
}

.badge-rarity-fill.rare {
    background: var(--color-govuk-blue-light);
}

.badge-rarity-fill.uncommon {
    background: var(--color-govuk-green);
}

.badge-rarity-fill.common {
    background: var(--color-govuk-grey);
}

/* Mobile drawer style for badge modal */
@media (max-width: 640px) {
    .badge-modal-overlay {
        align-items: flex-end;
    }

    .badge-modal-content {
        width: 100%;
        max-width: 100%;
        max-height: 85vh;
    }

    .badge-modal-handle {
        display: block;
        width: 2.5rem;
        height: 4px;
        background: var(--color-white-alpha-30);
        margin: 0.75rem auto 0;
    }

    .badge-modal-header {
        padding-top: 1rem;
    }
}

/* ============================================
   BADGES PAGE
   ============================================ */

.badges-wrapper {
    margin-top: 2rem;
    padding: 0 1rem 3rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.badges-progress-bar {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.badges-progress-bar h2 {
    margin: 0 0 0.75rem 0;
    font-size: 1.25rem;
    color: var(--color-govuk-black);
}

.progress-outer {
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    height: 1.5rem;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.progress-inner {
    height: 100%;
    background: var(--color-govuk-blue-light);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--color-white);
    font-weight: 600;
    font-size: 0.875rem;
}

/* Showcase Section */
.showcase-section {
    background: var(--color-white)7e6;
    border: 2px solid var(--color-govuk-yellow);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.showcase-section h2 {
    margin: 0 0 0.5rem 0;
    font-size: 1.125rem;
    color: var(--color-govuk-black);
}

.showcase-section p {
    margin: 0 0 1rem 0;
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
}

.showcase-badges {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
}

.showcase-badge-slot {
    width: 80px;
    height: 80px;
    border: 2px dashed var(--color-govuk-grey);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--color-white);
}

.showcase-badge-slot.filled {
    border-style: solid;
    border-color: var(--color-govuk-yellow);
}

.showcase-badge-slot .badge-icon {
    font-size: 2rem;
}

.showcase-badge-slot .badge-name {
    font-size: 0.625rem;
    color: var(--color-govuk-grey-dark);
    text-align: center;
    margin-top: 0.25rem;
}

.showcase-badge-slot.empty {
    color: var(--color-govuk-grey-dark);
    font-size: 0.75rem;
}

/* Badge Category */
.badge-category {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.badge-category h3 {
    margin: 0 0 1rem 0;
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--color-govuk-grey);
}

.badge-category h3 .count {
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-grey-dark);
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    font-weight: 600;
    margin-left: 0.5rem;
}

.badges-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1rem;
}

.badge-item {
    padding: 1rem;
    text-align: center;
    position: relative;
    border: 1px solid var(--color-govuk-grey);
    background: var(--color-white);
}

.badge-item.earned {
    background: var(--color-govuk-light-grey);
    border-color: var(--color-govuk-blue-light);
    border-width: 2px;
    cursor: pointer;
}

.badge-item.locked {
    background: var(--color-govuk-light-grey);
    border-style: dashed;
    opacity: 0.6;
}

.badge-item:hover {
    background: var(--color-blue-50);
}

.badge-item .badge-icon {
    font-size: 2.5rem;
    margin-bottom: 0.75rem;
    display: block;
}

.badge-item.locked .badge-icon {
    filter: grayscale(100%);
    opacity: 0.4;
}

.badge-item .badge-name {
    font-weight: 700;
    color: var(--color-govuk-black);
    font-size: 0.875rem;
    margin-bottom: 0.25rem;
}

.badge-item.locked .badge-name {
    color: var(--color-govuk-grey-dark);
}

.badge-item .badge-desc {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
}

/* Badge Rarity */
.badge-rarity {
    display: inline-block;
    font-size: 0.625rem;
    padding: 0.125rem 0.5rem;
    font-weight: 600;
    margin-top: 0.5rem;
}

.rarity-legendary {
    background: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

.rarity-epic {
    background: var(--color-rarity-epic);
    color: var(--color-white);
}

.rarity-rare {
    background: var(--color-govuk-blue-light);
    color: var(--color-white);
}

.rarity-uncommon {
    background: var(--color-govuk-green);
    color: var(--color-white);
}

.rarity-common {
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-grey-dark);
}

.badge-item .badge-threshold {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
    margin-top: 0.5rem;
}

.badge-item .earned-check {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: var(--color-govuk-green);
    color: var(--color-white);
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
}

.badge-item .showcase-star {
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    color: var(--color-govuk-yellow);
    font-size: 1rem;
}

.badge-item .pin-btn {
    margin-top: 0.5rem;
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border: 1px solid var(--color-govuk-black);
    background: var(--color-white);
    color: var(--color-govuk-black);
    cursor: pointer;
}

.badge-item .pin-btn:hover {
    background: var(--color-govuk-blue-light);
    color: var(--color-white);
    border-color: var(--color-govuk-blue-light);
}

.badge-item .pin-btn.pinned {
    background: var(--color-govuk-yellow);
    border-color: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

/* Success Toast */
.success-toast {
    background: var(--color-emerald-100);
    color: var(--color-govuk-black);
    padding: 0.75rem 1rem;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    border-left: 4px solid var(--color-govuk-green);
}

/* Confetti Animation - simplified for accessibility */
.confetti-container {
    display: none; /* Disable confetti for GOV.UK compliance */
}

/* ============================================
   CHALLENGES PAGE
   ============================================ */

.challenges-wrapper {
    margin-top: 2rem;
    padding: 0 1rem 3rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.challenges-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
}

.challenge-card {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
}

.challenge-card.completed {
    border-color: var(--color-govuk-green);
    border-width: 2px;
    border-left-width: 4px;
}

.challenge-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.challenge-type {
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
}

.challenge-type.daily {
    background: var(--color-white)7e6;
    color: var(--color-govuk-black);
    border: 1px solid var(--color-govuk-yellow);
}

.challenge-type.weekly {
    background: var(--color-blue-50);
    color: var(--color-govuk-black);
    border: 1px solid var(--color-govuk-blue-light);
}

.challenge-type.monthly {
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-black);
    border: 1px solid var(--color-rarity-epic);
}

.challenge-type.special {
    background: var(--color-pink-100);
    color: var(--color-govuk-black);
    border: 1px solid var(--color-pink-600);
}

.challenge-time {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
}

.challenge-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 0.5rem;
}

.challenge-desc {
    color: var(--color-govuk-grey-dark);
    font-size: 0.875rem;
    margin-bottom: 1rem;
}

.challenge-progress {
    margin-bottom: 1rem;
}

.challenge-progress .progress-bar {
    height: 0.5rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.challenge-progress .progress-fill {
    height: 100%;
    background: var(--color-govuk-blue-light);
}

.challenge-card.completed .progress-fill {
    background: var(--color-govuk-green);
}

.challenge-progress .progress-text {
    display: flex;
    justify-content: space-between;
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
}

.challenge-reward {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: 1rem;
    border-top: 1px solid var(--color-govuk-grey);
}

.reward-xp {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 700;
    color: var(--color-govuk-green);
    font-size: 1.125rem;
}

.completed-badge {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    color: var(--color-govuk-green);
    font-weight: 600;
}

/* ============================================
   COLLECTIONS PAGE
   ============================================ */

.collections-wrapper {
    margin-top: 2rem;
    padding: 0 1rem 3rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.collections-grid {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.collection-card {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
}

.collection-card.completed {
    border-color: var(--color-govuk-green);
    border-width: 2px;
}

.collection-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.collection-info {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.collection-icon {
    width: 3.5rem;
    height: 3.5rem;
    background: var(--color-govuk-blue-light);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: var(--color-white);
}

.collection-card.completed .collection-icon {
    background: var(--color-govuk-green);
}

.collection-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 0.25rem;
}

.collection-desc {
    color: var(--color-govuk-grey-dark);
    font-size: 0.875rem;
}

.collection-stats {
    text-align: right;
}

.collection-progress-text {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-govuk-blue-light);
}

.collection-card.completed .collection-progress-text {
    color: var(--color-govuk-green);
}

.collection-reward {
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
    margin-top: 0.25rem;
}

.collection-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid var(--color-govuk-grey);
}

.collection-badges .badge-item {
    width: 60px;
    text-align: center;
    padding: 0;
    border: none;
    background: transparent;
}

.collection-badges .badge-icon {
    width: 3rem;
    height: 3rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    margin: 0 auto 0.25rem;
    opacity: 0.4;
    filter: grayscale(1);
}

.collection-badges .badge-item.earned .badge-icon {
    opacity: 1;
    filter: none;
    background: var(--color-white)7e6;
    border-color: var(--color-govuk-yellow);
}

.collection-badges .badge-name {
    font-size: 0.625rem;
    color: var(--color-govuk-grey-dark);
    line-height: 1.2;
}

.collection-badges .badge-item.earned .badge-name {
    color: var(--color-govuk-black);
    font-weight: 500;
}

.collection-card .progress-bar {
    height: 0.5rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
    overflow: hidden;
    margin-top: 1rem;
}

.collection-card .progress-fill {
    height: 100%;
    background: var(--color-govuk-blue-light);
}

.collection-card.completed .progress-fill {
    background: var(--color-govuk-green);
}

/* ============================================
   SEASONS PAGE
   ============================================ */

.seasons-wrapper {
    margin-top: 2rem;
    padding: 0 1rem 3rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.season-header {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
}

.season-title-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.season-name {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-govuk-black);
}

.season-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    font-size: 0.875rem;
    font-weight: 600;
}

.season-badge.active {
    background: var(--color-govuk-green);
    color: var(--color-white);
}

.season-badge.ending-soon {
    background: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

.time-remaining {
    text-align: right;
}

.time-remaining-label {
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
    margin-bottom: 0.25rem;
}

.time-remaining-value {
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-govuk-blue-light);
}

.time-remaining-unit {
    font-size: 1rem;
    color: var(--color-govuk-grey-dark);
    font-weight: 500;
}

.user-rank-card {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    background: var(--color-govuk-blue-light);
    padding: 1rem 1.5rem;
    color: var(--color-white);
}

.user-rank-position {
    font-size: 2.5rem;
    font-weight: 700;
    line-height: 1;
}

.user-rank-position sup {
    font-size: 1rem;
    font-weight: 600;
}

.user-rank-info h4 {
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
}

.user-rank-xp {
    font-size: 1.25rem;
    font-weight: 700;
}

.content-grid {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 1.5rem;
}

/* Leaderboard Card */
.leaderboard-card {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
}

.leaderboard-card h3 {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 1rem;
}

.leaderboard-list {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.leaderboard-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
}

.leaderboard-item.top-3 {
    background: var(--color-white)7e6;
    border-color: var(--color-govuk-yellow);
}

.leaderboard-item.current-user {
    background: var(--color-blue-50);
    border-color: var(--color-govuk-blue-light);
    border-width: 2px;
}

.rank-badge {
    width: 2rem;
    height: 2rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.875rem;
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-grey-dark);
}

.leaderboard-item.top-3:nth-child(1) .rank-badge {
    background: var(--color-govuk-yellow);
    color: var(--color-govuk-black);
}

.leaderboard-item.top-3:nth-child(2) .rank-badge {
    background: var(--color-govuk-grey);
    color: var(--color-govuk-black);
}

.leaderboard-item.top-3:nth-child(3) .rank-badge {
    background: var(--color-medal-bronze);
    color: var(--color-white);
}

.user-avatar {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    object-fit: cover;
    background: var(--color-govuk-light-grey);
}

.user-details {
    flex: 1;
}

.user-name {
    font-weight: 600;
    color: var(--color-govuk-black);
}

.user-level {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
}

.user-xp {
    font-weight: 700;
    color: var(--color-govuk-blue-light);
}

/* Rewards Card */
.rewards-card {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
}

.rewards-card h3 {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 1rem;
}

.reward-tier {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    margin-bottom: 0.5rem;
    background: var(--color-govuk-light-grey);
    border: 1px solid var(--color-govuk-grey);
}

.reward-tier.gold {
    background: var(--color-white)7e6;
    border-color: var(--color-govuk-yellow);
}

.reward-tier.silver {
    background: var(--color-govuk-light-grey);
    border-color: var(--color-govuk-grey);
}

.reward-tier.bronze {
    background: var(--color-medal-bronze-light);
    border-color: var(--color-medal-bronze);
}

.tier-icon {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
}

.tier-details {
    flex: 1;
}

.tier-name {
    font-weight: 700;
    color: var(--color-govuk-black);
    font-size: 0.875rem;
}

.tier-reward {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
}

/* Past Seasons */
.past-seasons {
    margin-top: 2rem;
}

.past-seasons h3 {
    color: var(--color-govuk-black);
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.past-seasons-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 1rem;
}

.past-season-card {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1rem;
}

.past-season-name {
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 0.5rem;
}

.past-season-dates {
    font-size: 0.75rem;
    color: var(--color-govuk-grey-dark);
    margin-bottom: 0.75rem;
}

.past-season-status {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
}

.past-season-status.completed {
    background: var(--color-emerald-100);
    color: var(--color-govuk-green);
}

.past-season-status.active {
    background: var(--color-blue-50);
    color: var(--color-govuk-blue-light);
}

/* ============================================
   SHOP PAGE
   ============================================ */

.shop-wrapper {
    margin-top: 2rem;
    padding: 0 1rem 3rem;
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
}

.xp-balance-card {
    background: var(--color-govuk-blue-light);
    padding: 1.5rem;
    color: var(--color-white);
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.xp-balance-info h3 {
    font-size: 0.875rem;
    font-weight: 500;
    margin-bottom: 0.25rem;
}

.xp-balance-amount {
    font-size: 2rem;
    font-weight: 700;
}

.xp-balance-icon {
    font-size: 2.5rem;
    opacity: 0.8;
}

.shop-categories {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}

.category-btn {
    padding: 0.5rem 1rem;
    background: var(--color-white);
    color: var(--color-govuk-black);
    border: 1px solid var(--color-govuk-black);
    cursor: pointer;
    font-weight: 500;
}

.category-btn:hover {
    background: var(--color-govuk-light-grey);
}

.category-btn.active {
    background: var(--color-govuk-blue-light);
    color: var(--color-white);
    border-color: var(--color-govuk-blue-light);
}

.shop-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 1rem;
}

.shop-item {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-grey);
    padding: 1.5rem;
    position: relative;
}

.shop-item:hover {
    border-color: var(--color-govuk-blue-light);
}

.shop-item.owned {
    border-color: var(--color-govuk-green);
    border-width: 2px;
}

.shop-item.locked {
    opacity: 0.7;
}

.item-badge {
    position: absolute;
    top: 0.75rem;
    right: 0.75rem;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
}

.item-badge.owned {
    background: var(--color-emerald-100);
    color: var(--color-govuk-green);
}

.item-badge.limited {
    background: var(--color-white)7e6;
    color: var(--color-govuk-black);
}

.item-badge.new {
    background: var(--color-blue-50);
    color: var(--color-govuk-blue-light);
}

.item-icon {
    width: 4rem;
    height: 4rem;
    background: var(--color-govuk-light-grey);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    margin-bottom: 1rem;
}

.shop-item.owned .item-icon {
    background: var(--color-emerald-100);
}

.item-name {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 0.5rem;
}

.item-description {
    font-size: 0.875rem;
    color: var(--color-govuk-grey-dark);
    line-height: 1.5;
    margin-bottom: 1rem;
}

.item-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1rem;
    border-top: 1px solid var(--color-govuk-grey);
}

.item-price {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-govuk-blue-light);
}

.buy-btn {
    padding: 0.5rem 1rem;
    background: var(--color-govuk-green);
    color: var(--color-white);
    border: none;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.875rem;
}

.buy-btn:hover:not(:disabled) {
    background: var(--color-govuk-green-dark);
}

.buy-btn:disabled {
    background: var(--color-govuk-grey);
    cursor: not-allowed;
}

.buy-btn.owned {
    background: var(--color-govuk-green);
}

/* Purchase Modal */
.purchase-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--color-black-alpha-50);
    z-index: 1000;
    justify-content: center;
    align-items: center;
}

.purchase-modal.active {
    display: flex;
}

.purchase-modal .modal-content {
    background: var(--color-white);
    border: 1px solid var(--color-govuk-black);
    padding: 2rem;
    max-width: 400px;
    width: 90%;
    text-align: center;
}

.purchase-modal .modal-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.purchase-modal .modal-title {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--color-govuk-black);
    margin-bottom: 0.5rem;
}

.purchase-modal .modal-message {
    color: var(--color-govuk-grey-dark);
    margin-bottom: 1.5rem;
}

.purchase-modal .modal-buttons {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
}

.purchase-modal .modal-btn {
    padding: 0.75rem 1.5rem;
    font-weight: 600;
    cursor: pointer;
    border: none;
}

.purchase-modal .modal-btn.cancel {
    background: var(--color-govuk-light-grey);
    color: var(--color-govuk-black);
    border: 1px solid var(--color-govuk-black);
}

.purchase-modal .modal-btn.confirm {
    background: var(--color-govuk-green);
    color: var(--color-white);
}

/* ============================================
   RESPONSIVE STYLES
   ============================================ */

@media (max-width: 968px) {
    .content-grid {
        grid-template-columns: 1fr;
    }

    .season-title-row {
        flex-direction: column;
        gap: 1rem;
        text-align: center;
    }

    .time-remaining {
        text-align: center;
    }

    .user-rank-card {
        flex-direction: column;
        text-align: center;
    }
}

@media (max-width: 768px) {
    .achievements-wrapper,
    .badges-wrapper,
    .challenges-wrapper,
    .collections-wrapper,
    .seasons-wrapper,
    .shop-wrapper {
        padding: 0 1rem 3rem;
        margin-top: 1.5rem;
    }

    .achievement-card.two-thirds,
    .achievement-card.full-width {
        grid-column: span 1;
    }

    .achievements-grid {
        grid-template-columns: 1fr;
    }

    .badges-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .badge-item .badge-icon {
        font-size: 2rem;
    }

    .showcase-badges {
        justify-content: center;
    }

    .challenges-grid {
        grid-template-columns: 1fr;
    }

    .collection-header {
        flex-direction: column;
        gap: 1rem;
    }

    .collection-stats {
        text-align: left;
    }

    .xp-balance-card {
        flex-direction: column;
        text-align: center;
        gap: 1rem;
    }

    .shop-grid {
        grid-template-columns: 1fr;
    }

    .level-display {
        flex-direction: column;
        text-align: center;
    }

    .badges-earned-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .streaks-grid,
    .rankings-grid {
        grid-template-columns: repeat(2, 1fr);
    }

    .stats-summary {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* ============================================
   UTILITY CLASSES FOR ACHIEVEMENTS
   Replaces inline styles per CLAUDE.md rules
   ============================================ */

/* Color utilities - using design tokens */
.civic-text-success {
    color: var(--color-emerald-500, #10b981);
}

.civic-text-muted {
    color: var(--color-gray-500, #6b7280);
}

.civic-text-gold {
    color: var(--color-amber-400, #fbbf24);
}

.civic-text-silver {
    color: var(--color-gray-400, #9ca3af);
}

.civic-text-bronze {
    color: var(--color-amber-600, #d97706);
}

.civic-text-primary-alt {
    color: var(--color-blue-500, #3b82f6);
}

/* Icon color utilities for achievements */
.civic-icon-trophy {
    color: var(--color-amber-400, #fbbf24);
}

.civic-icon-star {
    color: var(--color-amber-400, #fbbf24);
}

.civic-icon-crown {
    color: var(--color-amber-400, #fbbf24);
}

.civic-icon-medal-silver {
    color: var(--color-gray-400, #9ca3af);
}

.civic-icon-medal-bronze {
    color: var(--color-amber-600, #d97706);
}

.civic-icon-award {
    color: var(--color-gray-500, #6b7280);
}

.civic-icon-check {
    color: var(--color-emerald-500, #10b981);
}

/* Layout utilities */
.civic-text-center {
    text-align: center;
}

.civic-p-5 {
    padding: var(--space-5, 20px);
}

.civic-mt-4 {
    margin-top: var(--space-4, 16px);
}

.civic-hidden {
    display: none;
}

.civic-flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* User rank avatar placeholder */
.civic-avatar-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primary-500, #4f46e5);
    color: var(--color-white);
    font-weight: 600;
}

/* User indicator label */
.civic-you-label {
    color: var(--color-blue-500, #3b82f6);
    font-size: 12px;
}


