:root{--ff-bg:rgba(255,255,255,0.72);--ff-bg-solid:#ffffff;--ff-border:rgba(255,255,255,0.5);--ff-border-holo:linear-gradient(135deg,rgba(99,102,241,0.3) 0%,rgba(236,72,153,0.2) 25%,rgba(59,130,246,0.3) 50%,rgba(16,185,129,0.2) 75%,rgba(99,102,241,0.3) 100%);--ff-text:#1c1e21;--ff-text-secondary:#65676b;--ff-text-muted:#8a8d91;--ff-pill-bg:rgba(0,0,0,0.05);--ff-pill-bg-hover:rgba(0,0,0,0.08);--ff-pill-bg-active:#6366f1;--ff-pill-text-active:#ffffff;--ff-shadow:0 8px 32px rgba(0,0,0,0.08),0 2px 8px rgba(0,0,0,0.04);--ff-shadow-hover:0 12px 40px rgba(0,0,0,0.12);--ff-location-active:#10b981;--ff-algo-active:#f59e0b;--ff-transition:0.2s cubic-bezier(0.4,0,0.2,1);--ff-height-primary:56px;--ff-height-secondary:44px;--safe-top:env(safe-area-inset-top,0px)}[data-theme="dark"]{--ff-bg:rgba(30,41,59,0.85);--ff-bg-solid:#1e293b;--ff-border:rgba(255,255,255,0.1);--ff-text:#f1f5f9;--ff-text-secondary:#94a3b8;--ff-text-muted:#64748b;--ff-pill-bg:rgba(255,255,255,0.08);--ff-pill-bg-hover:rgba(255,255,255,0.12);--ff-pill-bg-active:#6366f1;--ff-shadow:0 8px 32px rgba(0,0,0,0.3),0 0 60px rgba(99,102,241,0.1)}.feed-filter{position:sticky;top:70px;z-index:100;margin:0 -16px 16px -16px;padding:0 16px;transition:transform var(--ff-transition),opacity var(--ff-transition);will-change:transform}.feed-filter.hidden{transform:translateY(-100%);opacity:0;pointer-events:none}.feed-filter-primary{display:flex;align-items:center;gap:8px;height:var(--ff-height-primary);padding:8px 12px;background:var(--ff-bg);backdrop-filter:blur(16px) saturate(180%);-webkit-backdrop-filter:blur(16px) saturate(180%);border-radius:16px;border:1px solid var(--ff-border);box-shadow:var(--ff-shadow);position:relative;overflow:visible}.feed-filter-primary::before{content:'';position:absolute;inset:0;border-radius:16px;padding:1px;background:var(--ff-border-holo);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:0.6;pointer-events:none;animation:holoShift 8s linear infinite}@keyframes holoShift{0%,100%{filter:hue-rotate(0deg)}50%{filter:hue-rotate(30deg)}}.feed-filter-algo-toggle{display:flex;background:var(--ff-pill-bg);border-radius:100px;padding:3px;flex-shrink:0}.feed-filter-algo-btn{display:flex;align-items:center;gap:4px;padding:6px 12px;background:transparent;border:none;border-radius:100px;font-family:'Inter',-apple-system,sans-serif;font-size:12px;font-weight:600;color:var(--ff-text-secondary);cursor:pointer;transition:all var(--ff-transition);white-space:nowrap}.feed-filter-algo-btn i{font-size:11px}.feed-filter-algo-btn:hover{color:var(--ff-text)}.feed-filter-algo-btn.active{background:var(--ff-algo-active);color:white;box-shadow:0 2px 8px rgba(245,158,11,0.3)}.feed-filter-algo-btn.active i{animation:sparkle 1.5s ease-in-out infinite}@keyframes sparkle{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.7;transform:scale(1.1)}}.feed-filter-divider{width:1px;height:24px;background:var(--ff-border);flex-shrink:0}.feed-filter-scroll{flex:1;overflow-x:auto;overflow-y:hidden;scrollbar-width:thin;scrollbar-color:var(--ff-pill-bg) transparent;margin:-8px 0;padding:8px 4px}.feed-filter-scroll::-webkit-scrollbar{height:4px}.feed-filter-scroll::-webkit-scrollbar-track{background:transparent}.feed-filter-scroll::-webkit-scrollbar-thumb{background:var(--ff-pill-bg);border-radius:4px}.feed-filter-scroll::-webkit-scrollbar-thumb:hover{background:var(--ff-pill-bg-hover)}@media (max-width:768px){.feed-filter-scroll::-webkit-scrollbar{display:none}.feed-filter-scroll{scrollbar-width:none}}.feed-filter-pills{display:flex;gap:6px;padding-right:8px;flex-wrap:nowrap;width:max-content}.feed-filter-pill{display:inline-flex;align-items:center;gap:5px;padding:7px 14px;background:var(--ff-pill-bg);border:none;border-radius:100px;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;font-size:12px;font-weight:600;color:var(--ff-text-secondary);cursor:pointer;white-space:nowrap;flex-shrink:0;transition:all var(--ff-transition);min-height:32px;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.feed-filter-pill i{font-size:12px;transition:transform var(--ff-transition)}.feed-filter-pill:hover{background:var(--ff-pill-bg-hover);color:var(--ff-text)}.feed-filter-pill:active{transform:scale(0.96)}.feed-filter-pill.active{background:var(--ff-pill-bg-active);color:var(--ff-pill-text-active);box-shadow:0 2px 8px rgba(99,102,241,0.3)}.feed-filter-pill.active i{transform:scale(1.1)}.feed-filter-location{flex-shrink:0;padding-left:8px;border-left:1px solid var(--ff-border)}.feed-filter-location-btn{display:flex;align-items:center;gap:5px;padding:7px 12px;background:var(--ff-pill-bg);border:none;border-radius:100px;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;font-size:12px;font-weight:600;color:var(--ff-text-secondary);cursor:pointer;white-space:nowrap;transition:all var(--ff-transition);min-height:32px;-webkit-tap-highlight-color:transparent}.feed-filter-location-btn i{font-size:13px;transition:color var(--ff-transition)}.feed-filter-location-btn:hover{background:var(--ff-pill-bg-hover)}.feed-filter-location-btn:active{transform:scale(0.96)}.feed-filter-location-btn.active{background:rgba(16,185,129,0.15);color:var(--ff-location-active)}.feed-filter-location-btn.active i{color:var(--ff-location-active);animation:locationPulse 2s ease-in-out infinite}.feed-filter-location-btn.disabled{opacity:0.5;cursor:not-allowed}@keyframes locationPulse{0%,100%{opacity:1}50%{opacity:0.6}}.feed-filter-location-label{display:none}.feed-filter-secondary{overflow:hidden;max-height:0;opacity:0;transition:max-height 0.3s cubic-bezier(0.4,0,0.2,1),opacity 0.2s ease,margin 0.3s ease;margin-top:0}.feed-filter-secondary.visible{max-height:120px;opacity:1;margin-top:8px}.feed-filter-subgroup{display:flex;align-items:center;justify-content:center;gap:8px;min-height:var(--ff-height-secondary);padding:8px 12px;background:var(--ff-bg);backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);border-radius:12px;border:1px solid var(--ff-border)}.feed-filter-sub{display:inline-flex;align-items:center;gap:5px;padding:6px 14px;background:transparent;border:1px solid transparent;border-radius:100px;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;font-size:12px;font-weight:500;color:var(--ff-text-secondary);cursor:pointer;white-space:nowrap;transition:all var(--ff-transition);-webkit-tap-highlight-color:transparent}.feed-filter-sub i{font-size:11px}.feed-filter-sub:hover{background:var(--ff-pill-bg-hover);color:var(--ff-text)}.feed-filter-sub:active{transform:scale(0.96)}.feed-filter-sub.active{background:var(--ff-pill-bg-active);color:var(--ff-pill-text-active);border-color:transparent}.feed-filter-radius{flex-direction:column;gap:10px;padding:12px 16px}.feed-filter-radius-header{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:600;color:var(--ff-text)}.feed-filter-radius-header i{color:var(--ff-location-active)}.feed-filter-radius-location{color:var(--ff-text-secondary);font-weight:500}.feed-filter-radius-control{width:100%;display:flex;flex-direction:column;gap:6px}.feed-filter-radius-slider{width:100%;height:6px;border-radius:3px;background:var(--ff-pill-bg);appearance:none;-webkit-appearance:none;cursor:pointer}.feed-filter-radius-slider::-webkit-slider-thumb{appearance:none;-webkit-appearance:none;width:22px;height:22px;border-radius:50%;background:var(--ff-location-active);border:3px solid white;box-shadow:0 2px 8px rgba(16,185,129,0.4);cursor:grab;transition:transform 0.15s ease}.feed-filter-radius-slider::-webkit-slider-thumb:hover{transform:scale(1.1)}.feed-filter-radius-slider::-webkit-slider-thumb:active{cursor:grabbing;transform:scale(1.15)}.feed-filter-radius-slider::-moz-range-thumb{width:22px;height:22px;border-radius:50%;background:var(--ff-location-active);border:3px solid white;box-shadow:0 2px 8px rgba(16,185,129,0.4);cursor:grab}.feed-filter-radius-labels{display:flex;justify-content:space-between;font-size:11px;color:var(--ff-text-muted)}.feed-filter-radius-value{font-weight:700;color:var(--ff-location-active);font-size:13px}.feed-filter-radius-hint{display:flex;align-items:center;gap:6px;font-size:11px;color:var(--ff-text-muted);padding-top:4px}.feed-filter-radius-hint i{font-size:10px}@media (max-width:768px){.feed-filter{top:0;margin:0 -16px 12px -16px;padding:calc(8px + var(--safe-top)) 12px 8px 12px;background:var(--ff-bg-solid);border-bottom:1px solid var(--ff-border)}.feed-filter-primary{padding:6px 8px;border-radius:12px;height:auto;min-height:48px;background:var(--ff-pill-bg);backdrop-filter:none;-webkit-backdrop-filter:none;box-shadow:none;border:none;flex-wrap:nowrap}.feed-filter-primary::before{display:none}.feed-filter-algo-toggle{padding:2px;flex-shrink:0}.feed-filter-algo-btn{padding:8px 10px;font-size:11px;min-height:36px}.feed-filter-algo-btn span{display:none}.feed-filter-algo-btn i{font-size:14px}.feed-filter-divider{height:20px}.feed-filter-scroll{flex:1;min-width:0;overflow-x:auto !important}.feed-filter-pills{gap:5px;width:max-content;flex-wrap:nowrap !important}.feed-filter-pill{padding:8px 12px;font-size:12px;min-height:36px;gap:6px}.feed-filter-pill i{font-size:14px}.feed-filter-pill span{display:inline;font-size:11px}.feed-filter-location{padding-left:6px;border-left-color:rgba(0,0,0,0.1)}[data-theme="dark"] .feed-filter-location{border-left-color:rgba(255,255,255,0.1)}.feed-filter-location-btn{padding:8px 10px;min-height:36px}.feed-filter-location-btn i{font-size:14px}.feed-filter-location-btn.active .feed-filter-location-label{display:inline;font-size:10px}.feed-filter-secondary.visible{margin-top:6px;max-height:150px}.feed-filter-subgroup{min-height:38px;padding:8px;border-radius:10px;justify-content:flex-start;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none}.feed-filter-subgroup::-webkit-scrollbar{display:none}.feed-filter-sub{padding:5px 12px;font-size:11px;flex-shrink:0}.feed-filter-radius{padding:10px 12px}.feed-filter-radius-header{font-size:12px}.feed-filter-radius-slider::-webkit-slider-thumb{width:28px;height:28px}.feed-filter-pill,.feed-filter-algo-btn{min-height:36px;padding:8px 12px}.feed-filter-location-btn{min-height:36px;padding:8px 10px}.feed-filter-sub{min-height:36px}}@media (max-width:400px){.feed-filter-algo-btn{padding:6px 8px}}@media (min-width:769px){.feed-filter{margin:0 0 20px 0;padding:0}.feed-filter-primary{padding:10px 16px}.feed-filter-location-label{display:inline}.feed-filter-pill:hover{transform:translateY(-1px)}.feed-filter-pill.active:hover{box-shadow:0 4px 12px rgba(99,102,241,0.4)}.feed-filter{animation:filterSlideIn 0.4s cubic-bezier(0.4,0,0.2,1)}@keyframes filterSlideIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}}.feed-filter.loading .feed-filter-pill.active::after{content:'';width:12px;height:12px;border:2px solid transparent;border-top-color:currentColor;border-radius:50%;animation:filterSpin 0.6s linear infinite;margin-left:6px}@keyframes filterSpin{to{transform:rotate(360deg)}}.feed-filter-pill:focus-visible,.feed-filter-sub:focus-visible,.feed-filter-location-btn:focus-visible,.feed-filter-algo-btn:focus-visible{outline:2px solid var(--ff-pill-bg-active);outline-offset:2px}@media (prefers-reduced-motion:reduce){.feed-filter,.feed-filter-primary::before,.feed-filter-pill,.feed-filter-sub,.feed-filter-secondary,.feed-filter-location-btn i,.feed-filter-algo-btn i{animation:none !important;transition-duration:0.01ms !important}}