:root{--civic-wallet-text-primary:var(--color-gray-900);--civic-wallet-text-secondary:var(--color-gray-700);--civic-wallet-text-muted:var(--color-gray-600);--civic-wallet-focus-ring:var(--color-brand-yellow);--civic-wallet-focus-text:#0B0C0C;--civic-wallet-focus-offset:3px;--civic-wallet-touch-min:44px;--civic-wallet-border:var(--color-gray-200);--civic-wallet-positive:var(--color-govuk-green-darker);--civic-wallet-negative:#D32F2F}[data-theme="dark"]{--civic-wallet-text-primary:var(--color-gray-50);--civic-wallet-text-secondary:var(--color-gray-200);--civic-wallet-text-muted:var(--color-gray-300);--civic-wallet-border:var(--color-gray-700);--civic-wallet-positive:#4fd1c5;--civic-wallet-negative:#fc8181}.civic-balance-card{border-left:var(--space-3) solid var(--civic-brand,#1D70B8)}.civic-balance-amount{font-size:4em;font-weight:bold;margin:var(--space-5) 0;color:var(--civic-brand,#1D70B8);line-height:1.1}@media (max-width:600px){.civic-balance-amount{font-size:2.5em}}.civic-user-search-wrapper{position:relative}.civic-user-results{position:absolute;top:100%;left:0;right:0;background:white;border:1px solid var(--civic-wallet-border);border-top:none;border-radius:0 0 var(--radius-base) var(--radius-base);max-height:250px;overflow-y:auto;z-index:100;display:none;box-shadow:0 4px 12px rgba(0,0,0,0.1)}[data-theme="dark"] .civic-user-results{background:var(--color-gray-800)}.civic-user-results.show{display:block}.civic-user-result{display:flex;align-items:center;padding:var(--space-3);cursor:pointer;transition:background 0.15s;gap:var(--space-3);border-bottom:1px solid var(--color-gray-100);min-height:var(--civic-wallet-touch-min)}[data-theme="dark"] .civic-user-result{border-bottom-color:var(--color-gray-700)}.civic-user-result:last-child{border-bottom:none}.civic-user-result:hover,.civic-user-result.selected{background:var(--color-gray-50)}[data-theme="dark"] .civic-user-result:hover,[data-theme="dark"] .civic-user-result.selected{background:var(--color-gray-700)}.civic-user-result:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,#0b0c0c);box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,#0b0c0c)}.civic-user-avatar{width:var(--space-10);height:var(--space-10);border-radius:50%;background:var(--civic-brand,#1D70B8);display:flex;align-items:center;justify-content:center;color:white;font-weight:600;font-size:var(--font-size-base);flex-shrink:0;overflow:hidden}.civic-user-avatar img{width:100%;height:100%;object-fit:cover}.civic-user-info{flex:1;min-width:0}.civic-user-name{font-weight:600;color:var(--civic-wallet-text-primary)}.civic-user-username{font-size:var(--font-size-sm);color:var(--civic-wallet-text-muted)}.civic-user-no-results{padding:var(--space-4);text-align:center;color:var(--civic-wallet-text-muted)}.civic-selected-user{display:none;align-items:center;gap:var(--space-3);padding:var(--space-3);background:#F0F9FF;border:2px solid var(--civic-brand,#1D70B8);border-radius:var(--radius-base);margin-bottom:var(--space-4)}[data-theme="dark"] .civic-selected-user{background:#1E3A5F}.civic-selected-user.show{display:flex}.civic-selected-clear{width:var(--civic-wallet-touch-min);height:var(--civic-wallet-touch-min);border-radius:50%;background:transparent;border:none;color:var(--civic-wallet-text-muted);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all 0.15s;margin-left:auto;font-size:var(--font-size-2xl)}.civic-selected-clear:hover{background:var(--color-red-100);color:var(--color-red-600)}.civic-selected-clear:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,#0b0c0c);box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,#0b0c0c)}.civic-wallet-history-header{margin-top:var(--space-10);border-top:2px solid var(--civic-wallet-border);padding-top:var(--space-5)}.wallet-table-wrapper{overflow-x:auto;-webkit-overflow-scrolling:touch}.wallet-table-desktop{width:100%;border-collapse:collapse;margin-top:var(--space-5);min-width:500px}.wallet-table-desktop caption{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.wallet-table-desktop thead tr{background:#DEE0E2;text-align:left}[data-theme="dark"] .wallet-table-desktop thead tr{background:var(--color-gray-700)}.wallet-table-desktop th,.wallet-table-desktop td{padding:var(--space-3);border:1px solid var(--civic-wallet-border)}.wallet-table-desktop th{font-weight:600;color:var(--civic-wallet-text-primary)}.wallet-table-desktop tbody tr{border-bottom:1px solid var(--civic-wallet-border)}.wallet-table-desktop tbody tr:hover{background:rgba(0,0,0,0.02)}[data-theme="dark"] .wallet-table-desktop tbody tr:hover{background:rgba(255,255,255,0.02)}.wallet-table-desktop .amount-positive{font-weight:bold;color:var(--civic-wallet-positive)}.wallet-table-desktop .amount-negative{font-weight:bold;color:var(--civic-wallet-negative)}.wallet-cards-mobile{display:none}.wallet-card-item{margin-bottom:var(--space-3);padding:var(--space-4)}.wallet-card-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-2)}.wallet-card-date{font-size:var(--font-size-sm);color:var(--civic-wallet-text-muted)}.wallet-card-amount{font-weight:bold;font-size:var(--font-size-xl)}.wallet-card-amount.positive{color:var(--civic-wallet-positive)}.wallet-card-amount.negative{color:var(--civic-wallet-negative)}.wallet-card-description{font-weight:600;margin:0 0 var(--space-1) 0;color:var(--civic-wallet-text-primary)}.wallet-card-participant{font-size:var(--font-size-sm);color:var(--civic-wallet-text-secondary);margin:0}@media (max-width:600px){.wallet-table-wrapper{display:none !important}.wallet-cards-mobile{display:block !important}}.insights-bg{position:fixed;top:0;left:0;right:0;bottom:0;z-index:-1;background:linear-gradient(135deg,var(--color-slate-50) 0%,#faf5ff 25%,#f3e8ff 50%,#faf5ff 75%,var(--color-slate-50) 100%)}.insights-bg::before{content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(ellipse at 20% 30%,rgba(168,85,247,0.12) 0%,transparent 50%),radial-gradient(ellipse at 80% 20%,rgba(139,92,246,0.1) 0%,transparent 45%),radial-gradient(ellipse at 50% 80%,rgba(192,132,252,0.08) 0%,transparent 50%);animation:insightsFloat 20s ease-in-out infinite}[data-theme="dark"] .insights-bg{background:linear-gradient(135deg,var(--color-slate-900) 0%,#2e1065 50%,var(--color-slate-900) 100%)}[data-theme="dark"] .insights-bg::before{background:radial-gradient(ellipse at 20% 30%,rgba(168,85,247,0.2) 0%,transparent 50%),radial-gradient(ellipse at 80% 20%,rgba(139,92,246,0.15) 0%,transparent 45%)}@keyframes insightsFloat{0%,100%{transform:translate(0,0) scale(1)}50%{transform:translate(-1%,1%) scale(1.02)}}.insights-container{max-width:1400px;margin:0 auto;padding:120px var(--space-6) var(--space-10) var(--space-6);position:relative;z-index:10}.insights-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-8);flex-wrap:wrap;gap:var(--space-4)}.insights-title{display:flex;align-items:center;gap:var(--space-4)}.insights-title-icon{width:56px;height:56px;background:linear-gradient(135deg,var(--color-purple-400) 0%,#7c3aed 100%);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;color:white;font-size:var(--font-size-2xl)}.insights-title h1{margin:0;font-size:var(--font-size-3xl);font-weight:800;color:var(--civic-wallet-text-primary)}.insights-title-sub{font-size:var(--font-size-sm);color:var(--civic-wallet-text-muted);margin-top:var(--space-1)}.insights-nav{display:flex;gap:var(--space-2)}.insights-nav-link{padding:var(--space-3) var(--space-5);background:rgba(255,255,255,0.8);backdrop-filter:blur(10px);border:1px solid rgba(168,85,247,0.2);border-radius:var(--radius-md);color:var(--civic-wallet-text-secondary);font-weight:600;font-size:var(--font-size-sm);text-decoration:none;transition:all 0.2s;display:flex;align-items:center;gap:var(--space-2);min-height:var(--civic-wallet-touch-min)}.insights-nav-link:hover{background:rgba(168,85,247,0.1)}.insights-nav-link:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,#0b0c0c);box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,#0b0c0c)}[data-theme="dark"] .insights-nav-link{background:rgba(30,41,59,0.8);border-color:rgba(168,85,247,0.3);color:var(--color-slate-200)}.insights-glass-card{background:linear-gradient(135deg,rgba(255,255,255,0.9) 0%,rgba(255,255,255,0.75) 100%);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.5);border-radius:var(--radius-xl);box-shadow:0 8px 32px rgba(31,38,135,0.1);overflow:hidden}[data-theme="dark"] .insights-glass-card{background:linear-gradient(135deg,rgba(30,41,59,0.9) 0%,rgba(30,41,59,0.75) 100%);border-color:rgba(255,255,255,0.1)}.insights-stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--space-5);margin-bottom:var(--space-6)}.insights-stat-card{padding:var(--space-6);text-align:center;position:relative;overflow:hidden}.insights-stat-card::before{content:'';position:absolute;top:0;right:0;width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,rgba(168,85,247,0.1),transparent);transform:translate(var(--space-5),calc(-1 * var(--space-5)))}.insights-stat-icon{width:var(--space-12);height:var(--space-12);margin:0 auto var(--space-3);border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:1.25rem}.insights-stat-icon.green{background:rgba(16,185,129,0.15);color:var(--color-success)}.insights-stat-icon.red{background:rgba(239,68,68,0.15);color:var(--color-danger)}.insights-stat-icon.blue{background:rgba(59,130,246,0.15);color:var(--color-info)}.insights-stat-icon.purple{background:rgba(168,85,247,0.15);color:var(--color-purple-400)}.insights-stat-icon.orange{background:rgba(251,191,36,0.15);color:var(--color-warning)}[data-theme="dark"] .insights-stat-icon.green{background:rgba(16,185,129,0.2);color:#34d399}[data-theme="dark"] .insights-stat-icon.red{background:rgba(239,68,68,0.2);color:var(--color-red-400)}[data-theme="dark"] .insights-stat-icon.blue{background:rgba(59,130,246,0.2);color:var(--color-blue-400)}[data-theme="dark"] .insights-stat-icon.purple{background:rgba(168,85,247,0.2);color:#c084fc}.insights-stat-value{font-size:var(--font-size-4xl);font-weight:800;color:var(--civic-wallet-text-primary);line-height:1.2}.insights-stat-value.positive{color:var(--color-success)}.insights-stat-value.negative{color:var(--color-danger)}[data-theme="dark"] .insights-stat-value.positive{color:#34d399}[data-theme="dark"] .insights-stat-value.negative{color:var(--color-red-400)}.insights-stat-label{font-size:var(--font-size-sm);color:var(--civic-wallet-text-muted);margin-top:var(--space-1)}.insights-grid{display:grid;grid-template-columns:2fr 1fr;gap:var(--space-6);margin-bottom:var(--space-6)}.insights-grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-6);margin-bottom:var(--space-6)}.insights-section-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-5) var(--space-6);border-bottom:1px solid rgba(168,85,247,0.1)}[data-theme="dark"] .insights-section-header{border-bottom-color:rgba(255,255,255,0.1)}.insights-section-title{margin:0;font-size:var(--font-size-lg);font-weight:700;color:var(--civic-wallet-text-primary);display:flex;align-items:center;gap:var(--space-3)}.insights-chart-container{padding:var(--space-6);height:300px}.insights-partner-list{padding:0 var(--space-6) var(--space-6)}.insights-partner-item{display:flex;align-items:center;padding:var(--space-3) 0;border-bottom:1px solid rgba(168,85,247,0.08);gap:var(--space-3);min-height:var(--civic-wallet-touch-min)}[data-theme="dark"] .insights-partner-item{border-bottom-color:rgba(255,255,255,0.05)}.insights-partner-item:last-child{border-bottom:none}.insights-partner-rank{width:var(--space-6);height:var(--space-6);border-radius:var(--radius-sm);background:rgba(168,85,247,0.1);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:var(--font-size-xs);color:var(--color-purple-400)}.insights-partner-avatar{width:var(--space-10);height:var(--space-10);border-radius:50%;background:linear-gradient(135deg,var(--color-purple-400),#7c3aed);display:flex;align-items:center;justify-content:center;color:white;font-weight:600;font-size:var(--font-size-sm);flex-shrink:0;overflow:hidden}.insights-partner-avatar img{width:100%;height:100%;object-fit:cover}.insights-partner-info{flex:1;min-width:0}.insights-partner-name{font-weight:600;color:var(--civic-wallet-text-primary);font-size:var(--font-size-sm)}.insights-partner-count{font-size:var(--font-size-xs);color:var(--civic-wallet-text-muted)}.insights-partner-amount{font-weight:700;font-size:var(--font-size-base)}.insights-partner-amount.given{color:var(--color-danger)}.insights-partner-amount.received{color:var(--color-success)}[data-theme="dark"] .insights-partner-amount.given{color:var(--color-red-400)}[data-theme="dark"] .insights-partner-amount.received{color:#34d399}.streak-display{text-align:center;padding:var(--space-8) var(--space-6)}.streak-icon{font-size:3rem;margin-bottom:var(--space-3)}.streak-value{font-size:3rem;font-weight:800;color:var(--color-warning);line-height:1}.streak-label{font-size:var(--font-size-base);color:var(--civic-wallet-text-muted);margin-top:var(--space-2)}.streak-message{font-size:var(--font-size-sm);color:var(--color-warning);margin-top:var(--space-3);padding:var(--space-2) var(--space-4);background:rgba(251,191,36,0.1);border-radius:var(--radius-xl);display:inline-block}.streak-footer{padding:0 var(--space-6) var(--space-6);text-align:center;border-top:1px solid rgba(168,85,247,0.1)}.streak-footer-content{padding-top:var(--space-4);font-size:var(--font-size-sm);color:var(--civic-wallet-text-muted)}.streak-footer-value{color:var(--color-warning);font-weight:bold}.community-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-4);padding:var(--space-6)}.community-stat{text-align:center;padding:var(--space-4);background:rgba(168,85,247,0.05);border-radius:var(--radius-md)}[data-theme="dark"] .community-stat{background:rgba(168,85,247,0.1)}.community-stat-value{font-size:var(--font-size-2xl);font-weight:800;color:var(--color-purple-400)}.community-stat-label{font-size:var(--font-size-xs);color:var(--civic-wallet-text-muted);margin-top:var(--space-1)}.insights-empty{text-align:center;padding:60px var(--space-5);color:var(--civic-wallet-text-muted)}.insights-empty-icon{font-size:3rem;opacity:0.3;margin-bottom:var(--space-4)}.civic-wallet-form .civic-input:focus,.civic-wallet-form .civic-btn:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,#0b0c0c);box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,#0b0c0c)}.civic-wallet-form .civic-btn{min-height:var(--civic-wallet-touch-min)}@media (max-width:1024px){.insights-stats-grid{grid-template-columns:repeat(2,1fr)}.insights-grid{grid-template-columns:1fr}}@media (max-width:768px){.insights-container{padding:100px var(--space-4) 100px var(--space-4)}.insights-header{flex-direction:column;align-items:flex-start}.insights-stats-grid{grid-template-columns:1fr 1fr}.insights-stat-value{font-size:var(--font-size-2xl)}.insights-grid-2{grid-template-columns:1fr}.community-stats{grid-template-columns:1fr 1fr}}@media (max-width:480px){.insights-stats-grid{grid-template-columns:1fr}}@media (prefers-contrast:high){.insights-glass-card{border-width:3px}.civic-selected-user{border-width:3px}.wallet-table-desktop th,.wallet-table-desktop td{border-width:2px}}@media (prefers-reduced-motion:reduce){.insights-bg::before{animation:none}.civic-user-result,.civic-selected-clear,.insights-nav-link{transition:none}}