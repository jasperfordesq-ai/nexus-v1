:root{--civic-msg-text-primary:var(--color-gray-900);--civic-msg-text-secondary:var(--color-gray-700);--civic-msg-text-muted:var(--color-gray-600);--civic-msg-focus-ring:var(--color-brand-yellow);--civic-msg-focus-text:var(--color-govuk-black);--civic-msg-focus-offset:3px;--civic-msg-touch-min:44px;--civic-msg-border:var(--color-govuk-black);--civic-msg-border-light:var(--color-gray-200);--civic-msg-unread-bg:#f0fdf4;--civic-msg-sent-bg:var(--skin-primary,var(--color-govuk-green-darker));--civic-msg-received-bg:var(--color-gray-200);--civic-msg-sent-text:#fff;--civic-msg-received-text:var(--color-gray-800)}[data-theme="dark"]{--civic-msg-text-primary:var(--color-gray-50);--civic-msg-text-secondary:var(--color-gray-200);--civic-msg-text-muted:var(--color-gray-300);--civic-msg-border:var(--color-gray-200);--civic-msg-border-light:var(--color-gray-700);--civic-msg-unread-bg:#064e3b;--civic-msg-received-bg:var(--color-gray-700);--civic-msg-received-text:var(--color-gray-50)}.civic-msg-header{margin-bottom:30px;border-bottom:4px solid var(--skin-primary,var(--color-govuk-green-darker));padding-bottom:var(--space-2-5)}.civic-msg-header h1{margin:0;text-transform:uppercase;color:var(--civic-msg-text-primary)}.civic-thread-header{margin-bottom:var(--space-5);display:flex;justify-content:space-between;align-items:center;border-bottom:4px solid var(--skin-primary,var(--color-govuk-green-darker));padding-bottom:var(--space-2-5);flex-wrap:wrap;gap:var(--space-3)}.civic-thread-header h1{margin:0;text-transform:uppercase;color:var(--civic-msg-text-primary)}.civic-thread-back{text-decoration:none;color:inherit;min-width:var(--civic-msg-touch-min);min-height:var(--civic-msg-touch-min);display:inline-flex;align-items:center;justify-content:center}.civic-thread-back:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black))}.civic-inbox-btn{background:#ccc;color:#333;font-size:0.9rem;padding:8px var(--space-4);min-height:var(--civic-msg-touch-min)}.civic-msg-empty{text-align:center;padding:var(--space-10);color:var(--civic-msg-text-secondary)}.civic-msg-empty p{font-size:1.2rem;margin-bottom:var(--space-5)}.civic-thread-list{list-style:none;padding:0;margin:0}.civic-thread-item{border-bottom:1px solid var(--civic-msg-border-light)}.civic-thread-item--unread{background-color:var(--civic-msg-unread-bg)}.civic-thread-link{display:block;padding:var(--space-5);text-decoration:none;color:inherit;transition:background 0.2s;min-height:var(--civic-msg-touch-min)}.civic-thread-link:hover{background-color:rgba(0,0,0,0.03)}[data-theme="dark"] .civic-thread-link:hover{background-color:rgba(255,255,255,0.05)}.civic-thread-link:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black));position:relative;z-index:1}.civic-thread-content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-3)}.civic-thread-info{flex:1;min-width:0}.civic-thread-name{font-size:1.1rem;color:var(--skin-primary)}.civic-thread-name--unread{font-weight:bold}.civic-thread-preview{color:var(--civic-msg-text-secondary);margin-top:var(--space-1)}.civic-thread-preview--unread{font-weight:bold}.civic-thread-meta{text-align:right;min-width:100px;display:flex;align-items:center;gap:var(--space-2-5)}.civic-thread-badge{background:var(--skin-primary);color:white;border-radius:50%;padding:4px 8px;font-size:0.8rem;font-weight:bold}.civic-thread-date{font-size:0.9rem;color:var(--civic-msg-text-muted)}.civic-chat-container{display:flex;flex-direction:column;height:70vh}.civic-chat-messages{flex:1;overflow-y:auto;padding:var(--space-5);background:#fafafa;border-bottom:1px solid var(--civic-msg-border-light)}[data-theme="dark"] .civic-chat-messages{background:var(--color-gray-800)}.civic-chat-bubble-wrapper{display:flex;margin-bottom:var(--space-4)}.civic-chat-bubble-wrapper--sent{justify-content:flex-end}.civic-chat-bubble-wrapper--received{justify-content:flex-start}.civic-chat-bubble{max-width:70%;padding:var(--space-2-5) var(--space-4);border-radius:var(--radius-lg);position:relative}.civic-chat-bubble--sent{background:var(--civic-msg-sent-bg);color:var(--civic-msg-sent-text)}.civic-chat-bubble--received{background:var(--civic-msg-received-bg);color:var(--civic-msg-received-text)}.civic-chat-sender{font-weight:bold;font-size:0.8rem;margin-bottom:4px;opacity:0.8}.civic-chat-time{font-weight:normal;margin-left:var(--space-1);opacity:0.7}.civic-chat-text{word-wrap:break-word;line-height:1.4}.civic-chat-reply{padding:var(--space-5);background:#fff}[data-theme="dark"] .civic-chat-reply{background:var(--color-gray-800)}.civic-chat-reply-form{display:flex;gap:var(--space-2-5)}.civic-chat-textarea{flex:1;resize:none;border:2px solid #ddd;min-height:var(--civic-msg-touch-min);padding:var(--space-2-5);border-radius:var(--radius-md);font-family:inherit;font-size:1rem}.civic-chat-textarea:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black));border-color:var(--skin-primary)}.civic-chat-send{padding:0 30px;min-height:var(--civic-msg-touch-min)}.civic-notifications-list{display:flex;flex-direction:column;gap:var(--space-3)}.civic-notification-card{display:flex;align-items:flex-start;gap:16px;padding:var(--space-5);background:var(--civic-bg-card,#fff);border:1px solid var(--civic-border,var(--color-gray-200));border-radius:var(--radius-lg);transition:box-shadow 0.2s ease}.civic-notification-card:hover{box-shadow:var(--civic-shadow,0 4px 12px rgba(0,0,0,0.1))}.civic-notification--unread{background:#F0F9FF;border-left:4px solid var(--civic-brand,var(--color-govuk-blue-light))}[data-theme="dark"] .civic-notification--unread{background:#1E3A5F}.civic-notification-icon{flex-shrink:0;width:var(--civic-msg-touch-min);height:var(--civic-msg-touch-min);background:var(--civic-bg-page,var(--color-gray-50));border-radius:50%;display:flex;align-items:center;justify-content:center;color:var(--civic-brand,var(--color-govuk-blue-light))}.civic-notification-icon .dashicons{font-size:20px;width:var(--space-5);height:var(--space-5)}.civic-notification-content{flex:1;min-width:0}.civic-notification-message{margin:0 0 4px 0;font-size:15px;color:var(--civic-msg-text-primary);line-height:1.5}.civic-notification--unread .civic-notification-message{font-weight:600}.civic-notification-time{font-size:13px;color:var(--civic-msg-text-muted)}.civic-notification-actions{display:flex;gap:8px;flex-shrink:0}.civic-notification-actions .civic-btn{min-height:var(--civic-msg-touch-min)}.civic-notification-actions .civic-btn:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black))}.civic-action-bar{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:var(--space-3)}.civic-action-bar .civic-btn{min-height:var(--civic-msg-touch-min)}.civic-action-bar .civic-btn:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black))}.civic-pagination{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:var(--space-6);flex-wrap:wrap}.civic-pagination-btn{min-width:var(--civic-msg-touch-min);min-height:var(--civic-msg-touch-min);padding:8px 16px;background:var(--civic-bg-card,#fff);border:2px solid var(--civic-msg-border-light);border-radius:var(--radius-md);color:var(--civic-msg-text-primary);text-decoration:none;font-weight:600;display:inline-flex;align-items:center;justify-content:center;gap:var(--space-1-5);transition:all 0.2s}.civic-pagination-btn:hover{background:var(--civic-msg-border-light)}.civic-pagination-btn:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black))}.civic-pagination-current{background:var(--skin-primary,var(--color-govuk-green-darker));border-color:var(--skin-primary,var(--color-govuk-green-darker));color:#fff}[data-theme="dark"] .civic-pagination-btn{background:var(--color-gray-800);border-color:var(--color-gray-700)}.civic-empty-state{text-align:center;padding:60px var(--space-5);background:var(--civic-bg-card,#fff);border-radius:var(--radius-lg);border:2px dashed var(--civic-msg-border-light)}.civic-empty-state-icon{color:var(--civic-msg-text-muted);margin-bottom:16px}.civic-empty-state-icon .dashicons{font-size:48px;width:var(--space-12);height:var(--space-12)}.civic-empty-state-title{font-size:1.25rem;color:var(--civic-msg-text-primary);margin:0 0 8px 0}.civic-empty-state-text{color:var(--civic-msg-text-secondary);margin-bottom:var(--space-5);max-width:400px;margin-left:auto;margin-right:auto}.civic-empty-state .civic-btn{min-height:var(--civic-msg-touch-min)}.civic-empty-state .civic-btn:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black))}@media (max-width:600px){.civic-chat-container{height:calc(100vh - 200px) !important;max-height:calc(100vh - 200px) !important;margin-bottom:calc(70px + env(safe-area-inset-bottom,0px))}.civic-chat-textarea{min-height:var(--civic-msg-touch-min)}.civic-thread-header{flex-direction:column;align-items:stretch}.civic-notification-card{flex-wrap:wrap}.civic-notification-actions{width:100%;margin-top:var(--space-3)}.civic-notification-actions .civic-btn{flex:1;justify-content:center}.civic-thread-content{flex-direction:column;align-items:flex-start}.civic-thread-meta{text-align:left;width:100%;justify-content:flex-start}}.civic-msg-header a:focus,.civic-thread-list a:focus,.civic-notification-card a:focus,.civic-pagination a:focus{outline:3px solid var(--govuk-focus-colour,var(--color-brand-yellow));outline-offset:0;background-color:var(--govuk-focus-colour,var(--color-brand-yellow));color:var(--govuk-focus-text-colour,var(--color-govuk-black));box-shadow:0 -2px var(--govuk-focus-colour,var(--color-brand-yellow)),0 4px var(--govuk-focus-text-colour,var(--color-govuk-black))}@media (prefers-contrast:high){.civic-notification-card,.civic-thread-item{border-width:var(--space-1)}.civic-chat-bubble{border:2px solid currentColor}.civic-pagination-btn{border-width:var(--space-1)}}@media (prefers-reduced-motion:reduce){.civic-thread-link,.civic-notification-card,.civic-pagination-btn{transition:none}}