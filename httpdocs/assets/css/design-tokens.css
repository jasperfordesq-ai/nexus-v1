/**
 * Design Tokens - Foundation System
 * Central source of truth for all design values
 * Version: 2.0 - Path to 100/100
 */

:root {
    /* ==========================================
       SPACING SCALE - 8px base unit
       ========================================== */
    --space-0: 0;
    --space-1: 4px;      /* 0.25rem - Micro spacing */
    --space-2: 8px;      /* 0.5rem - Tight spacing */
    --space-3: 12px;     /* 0.75rem - Compact spacing */
    --space-4: 16px;     /* 1rem - Default spacing */
    --space-5: 20px;     /* 1.25rem - Comfortable spacing */
    --space-6: 24px;     /* 1.5rem - Generous spacing */
    --space-8: 32px;     /* 2rem - Section spacing */
    --space-10: 40px;    /* 2.5rem - Large spacing */
    --space-12: 48px;    /* 3rem - XL spacing */
    --space-16: 64px;    /* 4rem - XXL spacing */
    --space-20: 80px;    /* 5rem - Hero spacing */

    /* ==========================================
       LAYOUT DIMENSIONS - Prevents CLS
       ========================================== */
    --layout-header-height: 56px;
    --layout-header-height-scrolled: 48px;
    --layout-mobile-nav-height: 84px;
    --layout-sidebar-width: 340px;
    --layout-sidebar-width-tablet: 300px;
    --layout-max-content-width: 1200px;
    --layout-grid-gap: var(--space-6);
    --layout-grid-gap-mobile: var(--space-3);

    /* ==========================================
       COLORS - Theme-aware system
       ========================================== */

    /* Primary palette */
    --color-primary-50: #eef2ff;
    --color-primary-100: #e0e7ff;
    --color-primary-200: #c7d2fe;
    --color-primary-300: #a5b4fc;
    --color-primary-400: #818cf8;
    --color-primary-500: #6366f1;
    --color-primary-600: #4f46e5;
    --color-primary-700: #4338ca;
    --color-primary-800: #3730a3;
    --color-primary-900: #312e81;

    /* Semantic colors */
    --color-success: #10b981;   /* Green */
    --color-warning: #f59e0b;   /* Amber */
    --color-danger: #ef4444;    /* Red */
    --color-info: #3b82f6;      /* Blue */

    /* Extended palette - Additional colors for UI variety */
    --color-pink-500: #ec4899;  /* Pink - Used for likes, volunteer */
    --color-pink-600: #db2777;  /* Pink 600 - Goals primary */
    --color-pink-700: #be185d;  /* Pink 700 - Goals dark */
    --color-pink-400: #f472b6;  /* Pink 400 - Goals light accent */
    --color-pink-300: #f9a8d4;  /* Pink 300 - Goals lighter */
    --color-pink-200: #fbcfe8;  /* Pink 200 - Goals background */
    --color-pink-100: #fce7f3;  /* Pink 100 - Goals background light */
    --color-pink-50: #fdf2f8;   /* Pink 50 - Goals background lightest */
    --color-purple-500: #8b5cf6; /* Purple - Used for polls, magic */
    --color-purple-400: #a855f7; /* Purple 400 - Used for accents */
    --color-orange-500: #f97316; /* Orange - Used for help, alerts */
    --color-orange-600: #ea580c; /* Orange 600 - Used for admin sections */

    /* Green palette - Goals */
    --color-green-500: #22c55e;  /* Green 500 - Success, goals buddy */
    --color-green-600: #16a34a;  /* Green 600 - Success dark */
    --color-green-700: #15803d;  /* Green 700 - Success darker */
    --color-green-800: #166534;  /* Green 800 - Success darkest */
    --color-green-400: #4ade80;  /* Green 400 - Success light */
    --color-green-300: #86efac;  /* Green 300 - Success lighter */

    /* Lime palette - Goals index */
    --color-lime-500: #84cc16;   /* Lime 500 - Goals growth theme */
    --color-lime-600: #65a30d;   /* Lime 600 - Goals dark */
    --color-lime-400: #a3e635;   /* Lime 400 - Goals light */
    --color-lime-300: #bef264;   /* Lime 300 - Goals lighter */
    --color-lime-200: #d9f99d;   /* Lime 200 - Goals lightest */

    /* Neutral palette - Light theme */
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-200: #e5e7eb;
    --color-gray-300: #d1d5db;
    --color-gray-400: #9ca3af;
    --color-gray-500: #6b7280;
    --color-gray-600: #4b5563;
    --color-gray-700: #374151;
    --color-gray-800: #1f2937;
    --color-gray-900: #111827;

    /* Slate palette - Goals text */
    --color-slate-50: #f8fafc;
    --color-slate-100: #f1f5f9;
    --color-slate-200: #e2e8f0;
    --color-slate-300: #cbd5e1;
    --color-slate-400: #94a3b8;
    --color-slate-500: #64748b;
    --color-slate-600: #475569;
    --color-slate-700: #334155;
    --color-slate-800: #1e293b;
    --color-slate-900: #0f172a;

    /* Blue palette - Goals status */
    --color-blue-500: #3b82f6;
    --color-blue-600: #2563eb;
    --color-blue-700: #1d4ed8;
    --color-blue-800: #1e3a8a;
    --color-blue-400: #60a5fa;
    --color-blue-300: #93c5fd;

    /* Cyan palette - Goals status */
    --color-cyan-500: #06b6d4;
    --color-cyan-600: #0891b2;

    /* Amber palette - Goals status */
    --color-amber-500: #f59e0b;
    --color-amber-600: #d97706;
    --color-amber-700: #b45309;
    --color-amber-300: #fcd34d;

    /* Red palette - Error states */
    --color-red-500: #ef4444;
    --color-red-600: #dc2626;
    --color-red-700: #b91c1c;

    /* ==========================================
       HIGH-IMPACT EXTENDED PALETTE
       Added 2026-01-21 - Smart Hybrid Migration
       ========================================== */

    /* Emerald palette - Community, environmental themes */
    --color-emerald-100: #d1fae5;
    --color-emerald-200: #a7f3d0;
    --color-emerald-300: #6ee7b7;
    --color-emerald-400: #34d399;
    --color-emerald-500: #10b981;
    --color-emerald-600: #059669;
    --color-emerald-700: #047857;
    --color-emerald-800: #065f46;

    /* Teal palette - Info states, wellness */
    --color-teal-300: #5eead4;
    --color-teal-400: #2dd4bf;
    --color-teal-500: #14b8a6;
    --color-teal-600: #0d9488;
    --color-teal-700: #0f766e;
    --color-teal-800: #115e59;

    /* Purple variants - Premium features, polls */
    --color-purple-200: #ddd6fe;
    --color-purple-300: #c4b5fd;
    --color-purple-400-alt: #a78bfa;
    --color-purple-500-alt: #9333ea;
    --color-purple-600: #7c3aed;
    --color-purple-700: #6d28d9;
    --color-indigo-800: #5b21b6;

    /* Rose palette - Alerts, important actions */
    --color-rose-300: #fda4af;
    --color-rose-400: #fb7185;
    --color-rose-500: #f43f5e;
    --color-rose-600: #e11d48;
    --color-rose-700: #be123c;
    --color-rose-800: #9f1239;

    /* Sky palette - Information, communication */
    --color-sky-500: #0ea5e9;
    --color-sky-600: #0284c7;
    --color-sky-700: #0369a1;
    --color-sky-800: #075985;
    --color-sky-900: #0c4a6e;

    /* Yellow palette - Highlights, attention */
    --color-yellow-200: #fef08a;
    --color-yellow-400: #facc15;
    --color-yellow-500: #eab308;
    --color-yellow-600: #ca8a04;

    /* Zinc palette - Alternative neutrals */
    --color-zinc-500: #71717a;
    --color-zinc-600: #52525b;
    --color-zinc-700: #3f3f46;
    --color-zinc-800: #27272a;
    --color-zinc-900: #18181b;

    /* GOV.UK Design System - CivicOne official colors */
    --color-govuk-black: #0b0c0c;
    --color-govuk-green: #00703c;
    --color-govuk-green-dark: #005a30;
    --color-govuk-green-darker: #00796b;
    --color-govuk-blue: #003078;
    --color-govuk-blue-light: #1d70b8;
    --color-govuk-blue-lighter: #5694ca;
    --color-govuk-red: #d4351c;
    --color-govuk-red-dark: #c2410c;
    --color-govuk-grey: #b1b4b6;
    --color-govuk-grey-dark: #505a5f;
    --color-govuk-mid-grey: #b1b4b6;
    --color-govuk-dark-grey: #505a5f;
    --color-govuk-light-grey: #f3f2f1;
    --color-govuk-yellow: #ffdd00;

    /* Semantic color aliases for WCAG refactoring */
    --color-success-100: #dcfce7;
    --color-success-400: #34d399;
    --color-success-500: #10b981;
    --color-success-600: #059669;
    --color-success-700: #047857;
    --color-error-500: #ef4444;
    --color-error-600: #dc2626;
    --color-warning-400: #fbbf24;
    --color-warning-500: #f59e0b;
    --color-warning-600: #d97706;
    --color-warning-700: #b45309;
    --color-warning-800: #92400e;
    --color-warning-900: #78350f;
    --color-primary-700: #7c3aed;
    --color-pink-800: #96206d;
    --color-dark-surface: #1e1e2e;

    /* Brand colors - Special identities */
    --color-brand-yellow: #ffdd00;    /* Gold, awards */

    /* Red variants - Additional error states */
    --color-red-50: #fef2f2;
    --color-red-100: #fee2e2;
    --color-red-300: #fca5a5;
    --color-red-400: #f87171;

    /* Blue variants - Additional info states */
    --color-blue-50: #eff6ff;
    --color-blue-100: #dbeafe;
    --color-blue-900: #1e3a8a;
    --color-indigo-950: #1e1b4b;

    /* Cyan variants - Additional accent */
    --color-cyan-300: #67e8f9;
    --color-cyan-400: #22d3ee;

    /* Emerald variants - Additional success states */
    --color-emerald-50: #ecfdf5;

    /* Amber/Orange variants - Additional warnings */
    --color-amber-50: #fffbeb;
    --color-amber-100: #fef3c7;
    --color-amber-200: #fde68a;
    --color-orange-300: #fdba74;

    /* Neutral variants */
    --color-white: #ffffff;
    --color-black: #000000;
    --color-neutral-50: #f3f2f1;

    /* ==========================================
       GLASSMORPHISM SYSTEM
       ========================================== */
    --glass-blur: 24px;
    --glass-blur-heavy: 40px;
    --glass-blur-subtle: 12px;
    --glass-saturation: 200%;
    --glass-bg-light: rgba(255, 255, 255, 0.7);
    --glass-bg-dark: rgba(30, 41, 59, 0.7);
    --glass-border-light: rgba(255, 255, 255, 0.2);
    --glass-border-dark: rgba(255, 255, 255, 0.1);

    /* ==========================================
       TYPOGRAPHY
       ========================================== */
    --font-family-primary: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --font-family-display: "Outfit", var(--font-family-primary);

    --font-size-xs: 0.75rem;    /* 12px */
    --font-size-sm: 0.875rem;   /* 14px */
    --font-size-base: 1rem;     /* 16px */
    --font-size-lg: 1.125rem;   /* 18px */
    --font-size-xl: 1.25rem;    /* 20px */
    --font-size-2xl: 1.5rem;    /* 24px */
    --font-size-3xl: 1.875rem;  /* 30px */
    --font-size-4xl: 2.25rem;   /* 36px */

    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;

    --line-height-tight: 1.25;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.75;

    /* ==========================================
       TRANSITIONS & ANIMATIONS
       ========================================== */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);

    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.25, 0.46, 0.45, 0.94);

    /* ==========================================
       SHADOWS
       ========================================== */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);

    /* Glass shadows */
    --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    --shadow-glass-inset: inset 0 0 0 1px rgba(255, 255, 255, 0.18);

    /* ==========================================
       BORDER RADIUS
       ========================================== */
    --radius-none: 0;
    --radius-sm: 4px;
    --radius-base: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-2xl: 24px;
    --radius-full: 9999px;

    /* ==========================================
       Z-INDEX SCALE
       Documented hierarchy to prevent z-index wars

       Layer Groups:
       - Base (0-99): In-flow elements, local stacking
       - Navigation (100-199): Headers, navbars, sticky elements
       - Overlays (200-299): Dropdowns, menus, popovers
       - Modals (300-399): Modal backdrops and dialogs
       - Notifications (400-499): Toasts, alerts, tooltips
       - Critical (500+): Emergency overlays, system UI
       ========================================== */

    /* Base layer - default stacking */
    --z-base: 0;
    --z-raised: 1;
    --z-above: 10;

    /* Navigation layer - sticky headers, navbars */
    --z-header: 100;
    --z-sticky: 110;
    --z-navbar: 120;
    --z-mega-menu: 130;

    /* Overlay layer - dropdowns, popovers */
    --z-dropdown: 200;
    --z-popover: 210;
    --z-drawer: 220;
    --z-sidebar-overlay: 230;

    /* Modal layer - dialogs, sheets */
    --z-modal-backdrop: 300;
    --z-modal: 310;
    --z-mobile-sheet-backdrop: 320;
    --z-mobile-sheet: 330;

    /* Notification layer - toasts, tooltips */
    --z-toast: 400;
    --z-tooltip: 410;
    --z-notification: 420;

    /* Critical layer - system UI that must be on top */
    --z-ai-widget: 500;
    --z-loading-overlay: 510;
    --z-emergency: 9999;

    /* ==========================================
       BREAKPOINTS (for JS usage)
       ========================================== */
    --breakpoint-sm: 480px;
    --breakpoint-md: 768px;
    --breakpoint-lg: 1024px;
    --breakpoint-xl: 1280px;
    --breakpoint-2xl: 1536px;
}

/* ==========================================
   DARK THEME OVERRIDES
   ========================================== */
[data-theme="dark"] {
    /* Inverted gray scale for dark mode */
    --color-gray-50: #111827;
    --color-gray-100: #1f2937;
    --color-gray-200: #374151;
    --color-gray-300: #4b5563;
    --color-gray-400: #6b7280;
    --color-gray-500: #9ca3af;
    --color-gray-600: #d1d5db;
    --color-gray-700: #e5e7eb;
    --color-gray-800: #f3f4f6;
    --color-gray-900: #f9fafb;

    /* Glassmorphism for dark mode */
    --glass-bg-light: rgba(30, 41, 59, 0.7);
    --glass-border-light: rgba(255, 255, 255, 0.1);

    /* Semantic background hierarchy */
    --bg-base: #0f172a;
    --bg-elevated: #1e293b;
    --bg-surface: #334155;
    --bg-hover: #475569;

    /* Semantic text hierarchy */
    --text-primary: #f8fafc;
    --text-secondary: #cbd5e1;
    --text-muted: #94a3b8;
    --text-disabled: #64748b;

    /* Semantic border colors */
    --border-default: rgba(255, 255, 255, 0.1);
    --border-subtle: rgba(255, 255, 255, 0.05);
    --border-strong: rgba(255, 255, 255, 0.2);

    /* Enhanced glassmorphism */
    --glass-bg: rgba(30, 41, 59, 0.8);
    --glass-bg-heavy: rgba(15, 23, 42, 0.9);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

    /* Surface overlays */
    --overlay-light: rgba(255, 255, 255, 0.05);
    --overlay-medium: rgba(255, 255, 255, 0.1);
    --overlay-heavy: rgba(255, 255, 255, 0.15);

    /* Primary color adjustments */
    --color-primary-hover: #818cf8;
    --color-primary-active: #a5b4fc;
}

/* Light theme semantic tokens (explicit defaults) */
:root {
    --bg-base: #f9fafb;
    --bg-elevated: var(--color-white);
    --bg-surface: #f3f4f6;
    --bg-hover: #e5e7eb;

    --text-primary: #111827;
    --text-secondary: #4b5563;
    --text-muted: #6b7280;
    --text-disabled: #9ca3af;

    --border-default: rgba(0, 0, 0, 0.1);
    --border-subtle: rgba(0, 0, 0, 0.05);
    --border-strong: rgba(0, 0, 0, 0.2);

    --glass-bg: rgba(255, 255, 255, 0.8);
    --glass-bg-heavy: rgba(255, 255, 255, 0.95);
    --glass-border: rgba(0, 0, 0, 0.08);
    --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);

    --overlay-light: rgba(0, 0, 0, 0.03);
    --overlay-medium: rgba(0, 0, 0, 0.06);
    --overlay-heavy: rgba(0, 0, 0, 0.1);

    --color-primary-hover: #4f46e5;
    --color-primary-active: #4338ca;
}

/* ==========================================
   REDUCED MOTION SUPPORT
   ========================================== */
@media (prefers-reduced-motion: reduce) {
    :root {
        --transition-fast: 0ms;
        --transition-base: 0ms;
        --transition-slow: 0ms;
    }
}

/* ==========================================
   SEMANTIC COLOR TOKENS
   Purpose-driven aliases for better maintainability
   ========================================== */
:root {
    /* CivicOne brand identity */
    --color-civicone-primary: var(--color-pink-600);
    --color-civicone-secondary: var(--color-purple-600);
    --color-civicone-accent: var(--color-emerald-600);

    /* Feature-specific colors */
    --color-volunteering: var(--color-emerald-600);
    --color-timebanking: var(--color-purple-600);
    --color-goals: var(--color-lime-500);
    --color-events: var(--color-orange-500);
    --color-groups: var(--color-pink-600);
    --color-polls: var(--color-purple-500);
    --color-achievements: var(--color-amber-500);
    --color-leaderboard: var(--color-brand-yellow);

    /* Status indicators */
    --color-status-success: var(--color-emerald-500);
    --color-status-warning: var(--color-amber-500);
    --color-status-error: var(--color-rose-500);
    --color-status-info: var(--color-sky-500);

    /* Interactive states */
    --color-link: var(--color-govuk-blue-light);
    --color-link-hover: var(--color-govuk-blue);
    --color-link-visited: var(--color-purple-700);
    --color-focus-ring: var(--color-primary-500);

    /* Component-specific semantic tokens */
    --color-badge-gold: var(--color-brand-yellow);
    --color-badge-silver: var(--color-slate-300);
    --color-badge-bronze: var(--color-orange-500);

    /* Social features */
    --color-like: var(--color-rose-500);
    --color-comment: var(--color-sky-500);
    --color-share: var(--color-emerald-500);

    /* Trust & safety */
    --color-verified: var(--color-teal-500);
    --color-featured: var(--color-brand-yellow);
    --color-premium: var(--color-purple-600);
}

/* ==========================================
   PRINT OPTIMIZATIONS
   ========================================== */
@media print {
    :root {
        --glass-blur: 0px;
        --shadow-glass: none;
    }
}
