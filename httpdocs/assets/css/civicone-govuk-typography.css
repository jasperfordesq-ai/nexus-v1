/**
 * CivicOne GOV.UK Typography Scale
 * WCAG 2.1 AA Compliant Typography
 * Based on GOV.UK Design System v5.x
 *
 * Reference: https://design-system.service.gov.uk/styles/typography/
 * See: docs/CIVICONE_WCAG21AA_SOURCE_OF_TRUTH.md Section 7
 *
 * GOV.UK Typography Scale (responsive):
 * - Point 80: 53px mobile → 80px desktop (XL headings)
 * - Point 48: 32px mobile → 48px desktop (L headings)
 * - Point 36: 27px mobile → 36px desktop (M headings)
 * - Point 27: 21px mobile → 27px desktop (S headings)
 * - Point 24: 18px mobile → 24px desktop (Lead text)
 * - Point 19: 16px mobile → 19px desktop (Body, Caption)
 * - Point 16: 14px mobile → 16px desktop (Small)
 *
 * Note: Caption elevated to Point 19 for WCAG 2.1 AA compliance (min 16px)
 *
 * Line heights:
 * - Headings: 1.09375 (tight)
 * - Body: 1.25 (comfortable reading)
 *
 * MIGRATED: Now uses design tokens from design-tokens.css for spacing, font sizes, and transitions
  * Fully Migrated to Design Tokens: 2026-01-21 ✓
 */

/* ===========================================
   GOV.UK Typography Tokens
   =========================================== */
:root {
    /* Font family - GOV.UK uses GDS Transport, we use system fonts for performance */
    --govuk-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;

    /* Font weights */
    --govuk-font-weight-regular: var(--font-weight-normal);
    --govuk-font-weight-bold: var(--font-weight-bold);

    /* Line heights */
    --govuk-line-height-heading: 1.09375;
    --govuk-line-height-body: 1.25;

    /* Letter spacing */
    --govuk-letter-spacing-tight: -0.01em;
    --govuk-letter-spacing-normal: 0;

    /* GOV.UK Colors for text */
    --govuk-text-colour: var(--color-govuk-black);
    --govuk-secondary-text-colour: var(--color-govuk-grey-dark);
    --govuk-link-colour: var(--color-govuk-blue-light);
    --govuk-link-hover-colour: var(--color-govuk-blue);
    --govuk-link-visited-colour: #4c2c92;

    /* CivicOne mappings */
    --civicone-font-family: var(--govuk-font-family);
    --civicone-text: var(--govuk-text-colour);
    --civicone-text-secondary: var(--govuk-secondary-text-colour);
    --civicone-link: var(--govuk-link-colour);
    --civicone-link-hover: var(--govuk-link-hover-colour);
    --civicone-link-visited: var(--govuk-link-visited-colour);
}

/* ===========================================
   Base Typography
   =========================================== */
[data-layout="civicone"] body,
.civicone body,
body.nexus-skin-civicone {
    font-family: var(--civicone-font-family);
    font-size: var(--font-size-base);
    line-height: var(--govuk-line-height-body);
    color: var(--civicone-text);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] body,
    .civicone body,
    body.nexus-skin-civicone {
        font-size: 19px;
    }
}

/* ===========================================
   Heading Scale - GOV.UK Responsive
   =========================================== */

/* H1 - GOV.UK Point 48 */
[data-layout="civicone"] h1,
.civicone h1,
.civic-h1 {
    font-size: 2rem; /* 32px mobile */
    font-weight: var(--govuk-font-weight-bold);
    line-height: var(--govuk-line-height-heading);
    letter-spacing: var(--govuk-letter-spacing-tight);
    margin-top: var(--space-0);
    margin-bottom: var(--space-6);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] h1,
    .civicone h1,
    .civic-h1 {
        font-size: 3rem; /* 48px desktop */
        margin-bottom: var(--space-12);
    }
}

/* H2 - GOV.UK Point 36 */
[data-layout="civicone"] h2,
.civicone h2,
.civic-h2 {
    font-size: 1.6875rem; /* 27px mobile */
    font-weight: var(--govuk-font-weight-bold);
    line-height: var(--govuk-line-height-heading);
    letter-spacing: var(--govuk-letter-spacing-tight);
    margin-top: var(--space-0);
    margin-bottom: var(--space-5);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] h2,
    .civicone h2,
    .civic-h2 {
        font-size: 2.25rem; /* 36px desktop */
        margin-bottom: var(--space-6);
    }
}

/* H3 - GOV.UK Point 27 */
[data-layout="civicone"] h3,
.civicone h3,
.civic-h3 {
    font-size: 1.3125rem; /* 21px mobile */
    font-weight: var(--govuk-font-weight-bold);
    line-height: var(--govuk-line-height-heading);
    margin-top: var(--space-0);
    margin-bottom: var(--space-4);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] h3,
    .civicone h3,
    .civic-h3 {
        font-size: 1.6875rem; /* 27px desktop */
        margin-bottom: var(--space-5);
    }
}

/* H4 - GOV.UK Point 24 */
[data-layout="civicone"] h4,
.civicone h4,
.civic-h4 {
    font-size: var(--font-size-lg); /* 18px mobile */
    font-weight: var(--govuk-font-weight-bold);
    line-height: var(--govuk-line-height-heading);
    margin-top: var(--space-0);
    margin-bottom: var(--space-4);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] h4,
    .civicone h4,
    .civic-h4 {
        font-size: var(--font-size-2xl); /* 24px desktop */
        margin-bottom: var(--space-5);
    }
}

/* H5/H6 - GOV.UK Point 19 */
[data-layout="civicone"] h5,
[data-layout="civicone"] h6,
.civicone h5,
.civicone h6,
.civic-h5,
.civic-h6 {
    font-size: var(--font-size-base); /* 16px mobile */
    font-weight: var(--govuk-font-weight-bold);
    line-height: var(--govuk-line-height-heading);
    margin-top: var(--space-0);
    margin-bottom: var(--space-4);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] h5,
    [data-layout="civicone"] h6,
    .civicone h5,
    .civicone h6,
    .civic-h5,
    .civic-h6 {
        font-size: 1.1875rem; /* 19px desktop */
    }
}

/* ===========================================
   Body Text Variants
   =========================================== */

/* Lead paragraph - GOV.UK Point 24 */
[data-layout="civicone"] .lead,
.civicone .lead,
.civic-lead {
    font-size: var(--font-size-lg); /* 18px mobile */
    font-weight: var(--govuk-font-weight-regular);
    line-height: var(--govuk-line-height-body);
    margin-bottom: var(--space-6);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] .lead,
    .civicone .lead,
    .civic-lead {
        font-size: var(--font-size-2xl); /* 24px desktop */
        margin-bottom: var(--space-10);
    }
}

/* Body text - GOV.UK Point 19 */
[data-layout="civicone"] p,
.civicone p,
.civic-body {
    font-size: var(--font-size-base); /* 16px mobile */
    line-height: var(--govuk-line-height-body);
    margin-top: var(--space-0);
    margin-bottom: var(--space-5);
    color: var(--civicone-text);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] p,
    .civicone p,
    .civic-body {
        font-size: 1.1875rem; /* 19px desktop */
        margin-bottom: 25px;
    }
}

/* Small text - GOV.UK Point 16 */
[data-layout="civicone"] small,
[data-layout="civicone"] .small,
.civicone small,
.civicone .small,
.civic-small {
    font-size: var(--font-size-sm); /* 14px mobile */
    line-height: var(--govuk-line-height-body);
    color: var(--civicone-text-secondary);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] small,
    [data-layout="civicone"] .small,
    .civicone small,
    .civicone .small,
    .civic-small {
        font-size: var(--font-size-base); /* 16px desktop */
    }
}

/* Caption text - GOV.UK Point 19 (minimum 16px for WCAG 2.1 AA) */
[data-layout="civicone"] .caption,
.civicone .caption,
.civic-caption {
    font-size: var(--font-size-base); /* 16px - WCAG 2.1 AA minimum */
    line-height: var(--govuk-line-height-body);
    color: var(--civicone-text-secondary);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] .caption,
    .civicone .caption,
    .civic-caption {
        font-size: 1.1875rem; /* 19px desktop - matches GOV.UK body */
    }
}

/* ===========================================
   Links - GOV.UK Style
   =========================================== */
[data-layout="civicone"] a,
.civicone a {
    color: var(--civicone-link);
    text-decoration: underline;
    text-decoration-thickness: max(1px, 0.0625rem);
    text-underline-offset: 0.1em;
    transition: color var(--transition-fast), text-decoration-thickness var(--transition-fast);
}

[data-layout="civicone"] a:hover,
.civicone a:hover {
    color: var(--civicone-link-hover);
    text-decoration-thickness: max(3px, 0.1875rem);
}

[data-layout="civicone"] a:visited,
.civicone a:visited {
    color: var(--civicone-link-visited);
}

/* Links in dark backgrounds */
[data-layout="civicone"] .dark-bg a,
.civicone .dark-bg a,
.civic-footer a {
    color: var(--color-white);
}

[data-layout="civicone"] .dark-bg a:hover,
.civicone .dark-bg a:hover,
.civic-footer a:hover {
    color: var(--color-white);
}

/* ===========================================
   Lists - GOV.UK Style
   =========================================== */
[data-layout="civicone"] ul,
[data-layout="civicone"] ol,
.civicone ul,
.civicone ol {
    font-size: var(--font-size-base);
    line-height: var(--govuk-line-height-body);
    margin-top: var(--space-0);
    margin-bottom: var(--space-5);
    padding-left: var(--space-5);
}

@media (min-width: 40.0625em) {
    [data-layout="civicone"] ul,
    [data-layout="civicone"] ol,
    .civicone ul,
    .civicone ol {
        font-size: 1.1875rem;
        margin-bottom: 25px;
    }
}

[data-layout="civicone"] li,
.civicone li {
    margin-bottom: var(--space-3);
}

/* ===========================================
   Utility Classes
   =========================================== */

/* Font weights */
.civic-font-regular {
    font-weight: var(--govuk-font-weight-regular) !important;
}

.civic-font-bold {
    font-weight: var(--govuk-font-weight-bold) !important;
}

/* Text colors */
.civic-text-primary {
    color: var(--civicone-text) !important;
}

.civic-text-secondary {
    color: var(--civicone-text-secondary) !important;
}

/* Text sizes (explicit classes) */
.civic-text-xl {
    font-size: 2rem !important;
}

@media (min-width: 40.0625em) {
    .civic-text-xl {
        font-size: 3rem !important;
    }
}

.civic-text-l {
    font-size: 1.6875rem !important;
}

@media (min-width: 40.0625em) {
    .civic-text-l {
        font-size: 2.25rem !important;
    }
}

.civic-text-m {
    font-size: 1.3125rem !important;
}

@media (min-width: 40.0625em) {
    .civic-text-m {
        font-size: 1.6875rem !important;
    }
}

/* ===========================================
   Dark Mode Adjustments
   Scoped to .civicone per GR-016
   =========================================== */
.civicone.dark-mode [data-layout="civicone"],
.civicone.dark-mode.nexus-skin-civicone {
    --civicone-text: var(--color-white);
    --civicone-text-secondary: var(--color-govuk-grey);
    --civicone-link: #8eb4e8;
    --civicone-link-hover: #b8d4f1;
}

/* ===========================================
   Print Styles
   =========================================== */
@media print {
    [data-layout="civicone"] body,
    .civicone body {
        font-size: 12pt;
        line-height: 1.3;
        color: var(--color-black);
    }

    [data-layout="civicone"] h1 {
        font-size: 24pt;
    }

    [data-layout="civicone"] h2 {
        font-size: 18pt;
    }

    [data-layout="civicone"] h3 {
        font-size: 14pt;
    }

    [data-layout="civicone"] a {
        color: var(--color-black);
        text-decoration: underline;
    }
}
