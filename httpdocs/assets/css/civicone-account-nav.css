/**
 * CivicOne Account Area Navigation
 * MOJ Sub navigation pattern
 * https://design-patterns.service.justice.gov.uk/components/sub-navigation/
 * Scoped under .civicone or .civicone-account-area
 */

/* Account Area Container */
.civicone-account-area {
    margin-top: var(--space-5);
}

/* MOJ Sub navigation */
.civicone .moj-sub-navigation,
.civicone-account-area .moj-sub-navigation {
    border-bottom: 1px solid var(--civicone-border, #b1b4b6);
    margin-bottom: var(--space-6);
}

.civicone .moj-sub-navigation__list,
.civicone-account-area .moj-sub-navigation__list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
}

.civicone .moj-sub-navigation__item,
.civicone-account-area .moj-sub-navigation__item {
    margin: 0;
}

.civicone .moj-sub-navigation__link,
.civicone-account-area .moj-sub-navigation__link {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    text-decoration: none;
    color: var(--civicone-link, #1d70b8);
    border-bottom: 4px solid transparent;
    transition: border-color var(--transition-fast);
}

.civicone .moj-sub-navigation__link:hover,
.civicone-account-area .moj-sub-navigation__link:hover {
    border-bottom-color: var(--civicone-border, #b1b4b6);
    text-decoration: underline;
}

.civicone .moj-sub-navigation__link:focus,
.civicone-account-area .moj-sub-navigation__link:focus {
    outline: 3px solid var(--civicone-focus, #ffdd00);
    outline-offset: 0;
    background-color: var(--civicone-focus, #ffdd00);
    color: var(--civicone-focus-text, #0b0c0c);
    text-decoration: none;
    border-bottom-color: var(--civicone-focus-text, #0b0c0c);
}

.civicone .moj-sub-navigation__item--active .moj-sub-navigation__link,
.civicone-account-area .moj-sub-navigation__item--active .moj-sub-navigation__link {
    border-bottom-color: var(--civicone-link, #1d70b8);
    font-weight: var(--font-weight-bold);
    color: var(--civicone-text, #0b0c0c);
}

.civicone .moj-sub-navigation__item--active .moj-sub-navigation__link:hover,
.civicone-account-area .moj-sub-navigation__item--active .moj-sub-navigation__link:hover {
    border-bottom-color: var(--civicone-link-hover, #0f385c);
}

/* Icons in navigation */
.civicone .moj-sub-navigation__link i,
.civicone-account-area .moj-sub-navigation__link i {
    font-size: 1.1em;
}

/* MOJ Notification badge */
.civicone .moj-notification-badge,
.civicone-account-area .moj-notification-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: var(--space-5);
    height: var(--space-5);
    padding: 0 var(--space-2);
    background-color: var(--civicone-error, #d4351c);
    color: #ffffff;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-bold);
    border-radius: var(--radius-full);
    line-height: 1;
}

.civicone .moj-sub-navigation__link:focus .moj-notification-badge,
.civicone-account-area .moj-sub-navigation__link:focus .moj-notification-badge {
    background-color: var(--civicone-focus-text, #0b0c0c);
    color: var(--civicone-focus, #ffdd00);
}

/* Responsive: Stack on mobile */
@media (max-width: 640px) {
    .civicone .moj-sub-navigation__list,
    .civicone-account-area .moj-sub-navigation__list {
        flex-direction: column;
        gap: 0;
    }

    .civicone .moj-sub-navigation__item,
    .civicone-account-area .moj-sub-navigation__item {
        width: 100%;
    }

    .civicone .moj-sub-navigation__link,
    .civicone-account-area .moj-sub-navigation__link {
        width: 100%;
        justify-content: flex-start;
        padding: var(--space-3);
        border-bottom: 1px solid var(--civicone-border, #b1b4b6);
    }

    .civicone .moj-sub-navigation__item--active .moj-sub-navigation__link,
    .civicone-account-area .moj-sub-navigation__item--active .moj-sub-navigation__link {
        border-left: 4px solid var(--civicone-link, #1d70b8);
        border-bottom: 1px solid var(--civicone-border, #b1b4b6);
        padding-left: calc(var(--space-3) - 4px);
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .civicone .moj-sub-navigation__link,
    .civicone-account-area .moj-sub-navigation__link {
        transition: none;
    }
}
