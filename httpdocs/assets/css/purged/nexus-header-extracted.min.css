/**
 * Nexus Header - Extracted Inline Styles
 * Consolidated from views/layouts/modern/header.php inline <style> blocks
 * Per CLAUDE.md: No inline styles except for truly dynamic values
 * Version: 2.0 - 2026-01-21 - Migrated to design tokens
 */

/* ============================================
   SCROLL FIX - Critical for mouse wheel scrolling
   Previously: id="scroll-fix-inline"
   ============================================ */

/* HTML: Always show scrollbar, allow vertical scroll */
html,
html:root,
html[data-theme],
html[data-layout] {
    overflow-y: scroll !important;
    overflow-x: hidden !important;
    height: auto !important;
}

/* BODY: Use overflow-y: auto (NOT visible - visible breaks mouse wheel scroll!) */
body,
html body,
html[data-theme] body,
html[data-layout] body {
    overflow-y: auto !important;
    overflow-x: hidden !important;
    position: static !important;
    height: auto !important;
}

/* Modal/drawer states: Lock scroll ONLY when actually open */
body.drawer-open,
body.modal-open,
body.fds-sheet-open,
body.keyboard-open,
body.mobile-menu-open,
body.menu-open {
    overflow: hidden !important;
    overflow-y: hidden !important;
}

/* ============================================
   LAYOUT STABILITY LOCK
   Prevents JS layout shifts during page load
   ============================================ */

html[data-layout-stable] * {
    transition-duration: 0ms !important;
    animation-duration: 0ms !important;
}

/* ============================================
   OFFLINE BANNER
   Hide by default, show only after JS verification
   ============================================ */

.offline-banner,
#offlineBanner {
    display: none !important;
}

.offline-banner.verified-offline,
#offlineBanner.verified-offline {
    display: flex !important;
}

/* Always hide on desktop (unreliable navigator.onLine) */
@media (min-width: 768px) {
    .offline-banner,
    #offlineBanner,
    .offline-banner.verified-offline,
    #offlineBanner.verified-offline {
        display: none !important;
    }
}

/* ============================================
   BRAND LINK - Site logo/name styling
   Gradient text with hover effects
   ============================================ */

.nexus-brand-link {
    display: inline-flex !important;
    align-items: baseline !important;
    gap: 0.3em !important;
    font-size: clamp(1.15rem, 2.5vw, 1.5rem) !important;
    font-weight: var(--font-weight-bold) !important;
    letter-spacing: -0.5px !important;
    text-transform: uppercase !important;
    text-decoration: none !important;
    transition: all var(--transition-base) !important;
}

/* Primary word - gradient text for modern look */
.nexus-brand-link .brand-primary {
    background: linear-gradient(135deg, var(--color-primary-300) 0%, var(--color-primary-400) 50%, var(--color-primary-500) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: 900;
}

/* Secondary word - complementary warm tone */
.nexus-brand-link .brand-secondary {
    background: linear-gradient(135deg, var(--color-amber-300) 0%, var(--color-warning) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    font-weight: var(--font-weight-bold);
}

.nexus-brand-link:hover {
    transform: translateY(-1px);
}

.nexus-brand-link:hover .brand-primary {
    background: linear-gradient(135deg, var(--color-primary-200) 0%, var(--color-primary-300) 50%, var(--color-primary-400) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    filter: drop-shadow(0 var(--space-1) var(--space-2) var(--color-indigo-alpha-40));
}

.nexus-brand-link:hover .brand-secondary {
    background: linear-gradient(135deg, var(--color-amber-300) 0%, var(--color-amber-300) 100%);
    -webkit-background-clip: text;
    background-clip: text;
    filter: drop-shadow(0 var(--space-1) var(--space-2) var(--color-amber-alpha-40));
}

/* Light mode - deeper colors for contrast */
[data-theme="light"] .nexus-brand-link .brand-primary {
    background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-primary-700) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

[data-theme="light"] .nexus-brand-link .brand-secondary {
    background: linear-gradient(135deg, var(--color-amber-600) 0%, var(--color-amber-700) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

[data-theme="light"] .nexus-brand-link:hover .brand-primary {
    background: linear-gradient(135deg, var(--color-primary-500) 0%, var(--color-primary-600) 100%);
    -webkit-background-clip: text;
    background-clip: text;
}

[data-theme="light"] .nexus-brand-link:hover .brand-secondary {
    background: linear-gradient(135deg, var(--color-warning) 0%, var(--color-amber-600) 100%);
    -webkit-background-clip: text;
    background-clip: text;
}

/* ============================================
   MOBILE ACTIONS - Notification & menu buttons
   ============================================ */

.nexus-mobile-actions {
    display: none;
    align-items: center;
    gap: var(--space-1);
}

.nexus-notif-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: none;
    background: transparent;
    color: var(--color-white);
    font-size: var(--font-size-lg);
    cursor: pointer;
    border-radius: var(--radius-full);
    position: relative;
    transition: background-color var(--transition-fast);
}

.nexus-notif-btn:hover,
.nexus-notif-btn:focus {
    background: var(--color-white-alpha-10);
}

.nexus-notif-badge {
    position: absolute;
    top: var(--space-1);
    right: var(--space-1);
    min-width: var(--space-4);
    height: var(--space-4);
    background: #ff3b30;
    color: white;
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    border-radius: var(--radius-base);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 var(--space-1);
}

@media (max-width: 1024px) {
    .nexus-mobile-actions {
        display: flex;
    }

    /* Hide standalone menu button when wrapped */
    .nexus-navbar > .nexus-menu-btn {
        display: none !important;
    }
}

/* Light mode mobile notification button */
[data-theme="light"] .nexus-notif-btn {
    color: var(--color-gray-700) !important;
}

[data-theme="light"] .nexus-notif-btn:hover,
[data-theme="light"] .nexus-notif-btn:focus {
    background: var(--color-indigo-alpha-10) !important;
    color: var(--color-primary-600) !important;
}

/* Light mode mobile menu button (hamburger) */
[data-theme="light"] .nexus-menu-btn span {
    background: var(--color-gray-700) !important;
}
