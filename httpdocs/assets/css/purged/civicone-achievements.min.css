.achievements-nav,.challenges-nav,.collections-nav{display:flex;gap:var(--space-3);margin-bottom:var(--space-8);flex-wrap:wrap}.nav-pill{padding:var(--space-2) var(--space-5);border-radius:var(--radius-full);background:rgba(255,255,255,0.1);color:white;text-decoration:none;font-weight:500;transition:all var(--transition-fast)}.nav-pill:hover,.nav-pill.active{background:white;color:#1e1e2e}.back-link:hover{background:rgba(0,0,0,0.3)}.achievements-wrapper{margin-top:120px;position:relative;z-index:20;padding:0 var(--space-5) var(--space-16);max-width:1200px;margin-left:auto;margin-right:auto}.achievements-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--space-6)}.achievement-card{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:var(--radius-xl);padding:var(--space-6);box-shadow:0 8px 32px rgba(0,0,0,0.1);border:1px solid rgba(255,255,255,0.3)}.achievement-card.two-thirds{grid-column:span 2}.achievement-card.full-width{grid-column:1 / -1}.achievement-card .card-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-5);padding-bottom:var(--space-3);border-bottom:1px solid rgba(0,0,0,0.06)}.achievement-card .card-header .icon{font-size:1.5rem}.achievement-card .card-header h3{margin:0;font-size:1.1rem;font-weight:700;color:#1f2937}.level-display{display:flex;align-items:center;gap:var(--space-6)}.level-circle{width:100px;height:100px;background:linear-gradient(135deg,#a855f7,#6366f1);border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;color:white;box-shadow:0 8px 24px rgba(168,85,247,0.4);flex-shrink:0}.level-circle .level-num{font-size:2.5rem;font-weight:800;line-height:1}.level-circle .level-label{font-size:0.75rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;opacity:0.9}.level-info{flex:1}.level-info h4{margin:0 0 var(--space-2) 0;font-size:0.9rem;color:#6b7280;font-weight:500}.xp-display{font-size:2rem;font-weight:800;color:#1f2937;line-height:1.2}.xp-display span{font-size:1rem;color:#6b7280;font-weight:600}.progress-bar-container{height:var(--space-3);background:#e5e7eb;border-radius:var(--radius-base);overflow:hidden;margin:var(--space-3) 0 var(--space-2)}.progress-bar-fill{height:100%;background:linear-gradient(90deg,#a855f7,#6366f1);border-radius:var(--radius-base);transition:width var(--transition-slow)}.progress-text{font-size:0.85rem;color:#6b7280}.streaks-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-4)}.streak-item{text-align:center;padding:var(--space-4);background:#f9fafb;border-radius:var(--radius-md)}.streak-item .streak-icon{font-size:1.5rem;margin-bottom:var(--space-2)}.streak-item .streak-count{font-size:2rem;font-weight:800;color:#1f2937;line-height:1}.streak-item .streak-label{font-size:0.8rem;color:#6b7280;font-weight:600;margin-top:var(--space-1)}.streak-item .streak-best{font-size:0.75rem;color:#9ca3af;margin-top:var(--space-2)}.rankings-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-3);margin-bottom:var(--space-4)}.rank-item{text-align:center;padding:var(--space-3);background:linear-gradient(135deg,#fef3c7,#fde68a);border-radius:var(--radius-base)}.rank-item .rank-position{font-size:1.5rem;font-weight:800;color:#92400e}.rank-item .rank-label{font-size:0.75rem;color:#78350f;font-weight:600}.view-all-link:hover{gap:var(--space-2)}.badge-progress-list{display:flex;flex-direction:column;gap:var(--space-4);margin-bottom:var(--space-4)}.badge-progress-item{display:flex;align-items:flex-start;gap:var(--space-4)}.badge-progress-item .badge-icon{font-size:2rem;flex-shrink:0}.badge-progress-item .badge-info{flex:1}.badge-progress-item .badge-name{font-weight:700;color:#1f2937;margin-bottom:var(--space-1)}.badge-progress-item .badge-desc{font-size:0.85rem;color:#6b7280;margin-bottom:var(--space-2)}.progress-mini{height:var(--space-1);background:#e5e7eb;border-radius:var(--radius-sm);overflow:hidden;margin-bottom:var(--space-1)}.progress-mini-fill{height:100%;background:linear-gradient(90deg,#a855f7,#6366f1);border-radius:var(--radius-sm)}.badge-progress-item .progress-label{font-size:0.75rem;color:#9ca3af}.badges-earned-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--space-3)}.badge-earned{text-align:center;padding:var(--space-3) var(--space-2);background:linear-gradient(135deg,rgba(168,85,247,0.1),rgba(139,92,246,0.05));border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast);border:2px solid transparent}.badge-earned:hover{transform:translateY(-2px);border-color:rgba(168,85,247,0.3);box-shadow:0 4px 16px rgba(168,85,247,0.2)}.badge-earned:focus{outline:3px solid var(--govuk-focus-colour,#ffdd00);outline-offset:0;background-color:var(--govuk-focus-colour,#ffdd00);color:var(--govuk-focus-text-colour,#0b0c0c);box-shadow:0 -2px var(--govuk-focus-colour,#ffdd00),0 4px var(--govuk-focus-text-colour,#0b0c0c)}.badge-earned .badge-icon{font-size:1.75rem;display:block;margin-bottom:var(--space-1)}.badge-earned .badge-name{font-size:0.7rem;color:#6b7280;font-weight:500;line-height:1.2}.xp-log{display:flex;flex-direction:column;gap:var(--space-3)}.xp-log-item{display:flex;justify-content:space-between;align-items:center;padding:var(--space-3);background:#f9fafb;border-radius:var(--radius-base)}.xp-log-item .xp-action{font-weight:600;color:#1f2937;font-size:0.9rem}.xp-log-item .xp-date{font-size:0.75rem;color:#9ca3af}.xp-log-item .xp-amount{font-weight:700;color:#10b981;font-size:0.95rem}.badge-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.6);z-index:9999;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity var(--transition-base),visibility var(--transition-base)}.badge-modal-overlay.visible{opacity:1;visibility:visible}.badge-modal-content{background:white;border-radius:var(--radius-2xl);max-width:400px;width:90%;max-height:80vh;overflow-y:auto;box-shadow:0 24px 48px rgba(0,0,0,0.2);transform:scale(0.9);transition:transform var(--transition-base)}.badge-modal-overlay.visible .badge-modal-content{transform:scale(1)}.badge-modal-handle{display:none}.badge-modal-header{position:relative;padding:var(--space-8) var(--space-6) var(--space-6);text-align:center;background:linear-gradient(135deg,#a855f7 0%,#6366f1 100%);color:white;border-radius:var(--radius-2xl) var(--radius-2xl) 0 0}.badge-modal-close{position:absolute;top:var(--space-3);right:var(--space-3);width:var(--space-8);height:var(--space-8);border-radius:50%;background:rgba(255,255,255,0.2);border:none;color:white;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1rem;transition:background var(--transition-fast)}.badge-modal-close:hover{background:rgba(255,255,255,0.3)}.badge-modal-close:focus{outline:3px solid var(--govuk-focus-colour,#ffdd00);outline-offset:0;background-color:var(--govuk-focus-colour,#ffdd00);color:var(--govuk-focus-text-colour,#0b0c0c);box-shadow:0 -2px var(--govuk-focus-colour,#ffdd00),0 4px var(--govuk-focus-text-colour,#0b0c0c)}.badge-modal-icon{font-size:var(--font-size-4xl);margin-bottom:var(--space-3)}.badge-modal-name{font-size:1.5rem;font-weight:800;margin:0 0 var(--space-3) 0}.badge-rarity-tag{display:inline-flex;align-items:center;gap:var(--space-1);padding:var(--space-1) var(--space-4);border-radius:var(--radius-xl);font-size:0.8rem;font-weight:600;background:rgba(255,255,255,0.2)}.badge-rarity-tag.legendary{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#78350f}.badge-rarity-tag.epic{background:linear-gradient(135deg,#a855f7,#7c3aed);color:white}.badge-rarity-tag.rare{background:linear-gradient(135deg,#3b82f6,#2563eb);color:white}.badge-rarity-tag.uncommon{background:linear-gradient(135deg,#10b981,#059669);color:white}.badge-rarity-tag.common{background:rgba(255,255,255,0.3);color:white}.badge-modal-body{padding:var(--space-6)}.badge-modal-section{margin-bottom:var(--space-5)}.badge-modal-section:last-child{margin-bottom:0}.badge-modal-label{font-size:0.75rem;font-weight:700;color:#6b7280;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:var(--space-1);display:flex;align-items:center;gap:var(--space-1)}.badge-modal-label i{color:#a855f7}.badge-modal-text{font-size:1rem;color:#1f2937;line-height:1.5}.badge-modal-text.description{font-style:italic}.badge-rarity-bar{height:var(--space-2);background:#e5e7eb;border-radius:var(--radius-sm);overflow:hidden;margin-top:var(--space-2)}.badge-rarity-fill{height:100%;border-radius:var(--radius-sm);transition:width var(--transition-slow)}.badge-rarity-fill.legendary{background:linear-gradient(90deg,#fbbf24,#f59e0b)}.badge-rarity-fill.epic{background:linear-gradient(90deg,#a855f7,#7c3aed)}.badge-rarity-fill.rare{background:linear-gradient(90deg,#3b82f6,#2563eb)}.badge-rarity-fill.uncommon{background:linear-gradient(90deg,#10b981,#059669)}.badge-rarity-fill.common{background:#9ca3af}@media (max-width:640px){.badge-modal-overlay{align-items:flex-end}.badge-modal-content{width:100%;max-width:100%;border-radius:var(--radius-2xl) var(--radius-2xl) 0 0;max-height:85vh;transform:translateY(100%)}.badge-modal-overlay.visible .badge-modal-content{transform:translateY(0)}.badge-modal-content.closing{transform:translateY(100%)}.badge-modal-handle{display:block;width:40px;height:4px;background:rgba(255,255,255,0.3);border-radius:var(--radius-sm);margin:var(--space-3) auto 0}.badge-modal-header{padding-top:var(--space-5)}}.badges-wrapper{margin-top:120px;position:relative;z-index:20;padding:0 var(--space-5) var(--space-16);max-width:1200px;margin-left:auto;margin-right:auto}.badges-progress-bar{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:var(--radius-lg);padding:var(--space-6);margin-bottom:var(--space-8);border:1px solid rgba(255,255,255,0.3);box-shadow:0 8px 32px rgba(0,0,0,0.1)}.badges-progress-bar h2{margin:0 0 var(--space-3) 0;font-size:1.3rem;color:#1f2937}.progress-outer{background:#e5e7eb;border-radius:var(--radius-md);height:var(--space-6);overflow:hidden;margin-bottom:var(--space-2)}.progress-inner{height:100%;background:linear-gradient(90deg,#a855f7,#6366f1);border-radius:var(--radius-md);transition:width var(--transition-slow);display:flex;align-items:center;justify-content:center;color:white;font-weight:600;font-size:0.85rem}.showcase-section{background:linear-gradient(135deg,rgba(245,158,11,0.15),rgba(217,119,6,0.1));border:2px solid rgba(245,158,11,0.3);border-radius:var(--radius-lg);padding:var(--space-6);margin-bottom:var(--space-8)}.showcase-section h2{margin:0 0 var(--space-2) 0;font-size:1.2rem;color:#92400e;display:flex;align-items:center;gap:var(--space-2)}.showcase-section p{margin:0 0 var(--space-4) 0;font-size:0.9rem;color:#78350f}.showcase-badges{display:flex;gap:var(--space-4);flex-wrap:wrap}.showcase-badge-slot{width:100px;height:100px;border:2px dashed rgba(245,158,11,0.4);border-radius:var(--radius-md);display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(255,255,255,0.5)}.showcase-badge-slot.filled{border-style:solid;background:white}.showcase-badge-slot .badge-icon{font-size:2.5rem}.showcase-badge-slot .badge-name{font-size:0.7rem;color:#78350f;text-align:center;margin-top:var(--space-1)}.showcase-badge-slot.empty{color:#d97706;font-size:0.8rem}.badge-category{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:var(--radius-lg);padding:var(--space-6);margin-bottom:var(--space-6);border:1px solid rgba(255,255,255,0.3);box-shadow:0 8px 32px rgba(0,0,0,0.1)}.badge-category h3{margin:0 0 var(--space-5) 0;font-size:1.2rem;font-weight:700;color:#374151;display:flex;align-items:center;gap:var(--space-2);padding-bottom:var(--space-3);border-bottom:1px solid rgba(0,0,0,0.08)}.badge-category h3 .count{background:rgba(99,102,241,0.1);color:#6366f1;font-size:0.8rem;padding:var(--space-1) var(--space-2);border-radius:var(--radius-xl);font-weight:600}.badges-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:var(--space-4)}.badge-item{padding:var(--space-4);border-radius:var(--radius-md);text-align:center;transition:all var(--transition-base);position:relative;cursor:default}.badge-item.earned{background:linear-gradient(135deg,rgba(168,85,247,0.15),rgba(139,92,246,0.1));border:2px solid rgba(168,85,247,0.4);cursor:pointer}.badge-item.locked{background:rgba(0,0,0,0.03);border:2px dashed rgba(0,0,0,0.1);opacity:0.6}.badge-item:hover{transform:translateY(-4px)}.badge-item.earned:hover{box-shadow:0 8px 24px rgba(168,85,247,0.3)}.badge-item .badge-icon{font-size:3rem;margin-bottom:12px;display:block}.badge-item.locked .badge-icon{filter:grayscale(100%);opacity:0.4}.badge-item .badge-name{font-weight:700;color:#1f2937;font-size:0.95rem;margin-bottom:var(--space-1)}.badge-item.locked .badge-name{color:#6b7280}.badge-item .badge-desc{font-size:0.8rem;color:#6b7280}.badge-rarity{display:inline-block;font-size:0.65rem;padding:2px 8px;border-radius:var(--radius-base);font-weight:600;margin-top:var(--space-2)}.rarity-legendary{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:#78350f}.rarity-epic{background:linear-gradient(135deg,#a855f7,#7c3aed);color:white}.rarity-rare{background:linear-gradient(135deg,#3b82f6,#2563eb);color:white}.rarity-uncommon{background:linear-gradient(135deg,#10b981,#059669);color:white}.rarity-common{background:#e5e7eb;color:#6b7280}.badge-item .badge-threshold{font-size:0.75rem;color:#9ca3af;margin-top:var(--space-2)}.badge-item .earned-check{position:absolute;top:var(--space-2);right:var(--space-2);background:#10b981;color:white;width:var(--space-6);height:var(--space-6);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:0.8rem;box-shadow:0 2px 8px rgba(16,185,129,0.4)}.badge-item .showcase-star{position:absolute;top:var(--space-2);left:var(--space-2);color:#f59e0b;font-size:1.2rem}.badge-item .pin-btn{margin-top:var(--space-2);font-size:0.75rem;padding:var(--space-1) var(--space-2);border:1px solid rgba(168,85,247,0.4);background:white;color:#7c3aed;border-radius:var(--radius-md);cursor:pointer;transition:all var(--transition-fast)}.badge-item .pin-btn:hover{background:#7c3aed;color:white}.badge-item .pin-btn.pinned{background:#f59e0b;border-color:#f59e0b;color:white}.success-toast{background:#dcfce7;color:#166534;padding:var(--space-3) var(--space-5);border-radius:var(--radius-base);margin-bottom:var(--space-5);display:flex;align-items:center;gap:var(--space-2);border:1px solid #bbf7d0}.confetti-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:9999;overflow:hidden}.confetti{position:absolute;width:var(--space-2);height:var(--space-2);opacity:0;animation:confetti-fall 3s ease-out forwards}@keyframes confetti-fall{0%{opacity:1;transform:translateY(-100px) rotate(0deg)}100%{opacity:0;transform:translateY(100vh) rotate(720deg)}}.challenges-wrapper{margin-top:120px;padding:0 var(--space-5) var(--space-16);max-width:1200px;margin-left:auto;margin-right:auto}.challenges-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:var(--space-6)}.challenge-card{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:var(--radius-xl);padding:var(--space-6);box-shadow:0 8px 32px rgba(0,0,0,0.1);transition:transform var(--transition-base)}.challenge-card:hover{transform:translateY(-4px)}.challenge-card.completed{border:2px solid #10b981;background:linear-gradient(135deg,rgba(16,185,129,0.05),rgba(255,255,255,0.95))}.challenge-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-4)}.challenge-type{padding:var(--space-1) var(--space-3);border-radius:var(--radius-xl);font-size:var(--font-size-xs);font-weight:600;text-transform:uppercase}.challenge-type.daily{background:#fef3c7;color:#92400e}.challenge-type.weekly{background:#dbeafe;color:#1e40af}.challenge-type.monthly{background:#f3e8ff;color:#7c3aed}.challenge-type.special{background:#fce7f3;color:#be185d}.challenge-time{font-size:var(--font-size-xs);color:#6b7280;display:flex;align-items:center;gap:var(--space-1)}.challenge-title{font-size:var(--font-size-lg);font-weight:700;color:#1e1e2e;margin-bottom:var(--space-2)}.challenge-desc{color:#6b7280;font-size:var(--font-size-sm);margin-bottom:var(--space-5)}.challenge-progress{margin-bottom:var(--space-4)}.challenge-progress .progress-bar{height:var(--space-2);background:#e5e7eb;border-radius:var(--radius-base);overflow:hidden;margin-bottom:var(--space-2)}.challenge-progress .progress-fill{height:100%;background:linear-gradient(90deg,#4f46e5,#7c3aed);border-radius:var(--radius-base);transition:width var(--transition-slow)}.challenge-card.completed .progress-fill{background:linear-gradient(90deg,#10b981,#34d399)}.challenge-progress .progress-text{display:flex;justify-content:space-between;font-size:var(--font-size-sm);color:#6b7280}.challenge-reward{display:flex;align-items:center;justify-content:space-between;padding-top:var(--space-4);border-top:1px solid #e5e7eb}.reward-xp{display:flex;align-items:center;gap:var(--space-2);font-weight:700;color:#10b981;font-size:var(--font-size-lg)}.collections-wrapper{margin-top:120px;padding:0 var(--space-5) var(--space-16);max-width:1200px;margin-left:auto;margin-right:auto}.collections-grid{display:flex;flex-direction:column;gap:var(--space-6)}.collection-card{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:var(--radius-xl);padding:var(--space-8);box-shadow:0 8px 32px rgba(0,0,0,0.1)}.collection-card.completed{border:2px solid #10b981;background:linear-gradient(135deg,rgba(16,185,129,0.05),rgba(255,255,255,0.95))}.collection-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:var(--space-5)}.collection-info{display:flex;align-items:center;gap:var(--space-4)}.collection-icon{width:var(--space-16);height:var(--space-16);background:linear-gradient(135deg,#4f46e5,#7c3aed);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-3xl)}.collection-card.completed .collection-icon{background:linear-gradient(135deg,#10b981,#34d399)}.collection-title{font-size:var(--font-size-xl);font-weight:700;color:#1e1e2e;margin-bottom:var(--space-1)}.collection-desc{color:#6b7280;font-size:var(--font-size-sm)}.collection-stats{text-align:right}.collection-progress-text{font-size:var(--font-size-2xl);font-weight:700;color:#4f46e5}.collection-card.completed .collection-progress-text{color:#10b981}.collection-reward{font-size:var(--font-size-sm);color:#6b7280;margin-top:var(--space-1)}.collection-badges{display:flex;flex-wrap:wrap;gap:var(--space-3);margin-top:var(--space-5);padding-top:var(--space-5);border-top:1px solid #e5e7eb}.collection-badges .badge-item{width:70px;text-align:center;padding:0;border:none;background:transparent}.collection-badges .badge-icon{width:var(--space-12);height:var(--space-12);background:#f3f4f6;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:var(--font-size-2xl);margin:0 auto var(--space-1);opacity:0.4;filter:grayscale(1);transition:all var(--transition-fast)}.collection-badges .badge-item.earned .badge-icon{opacity:1;filter:none;background:linear-gradient(135deg,#fef3c7,#fde68a);box-shadow:0 4px 12px rgba(251,191,36,0.3)}.collection-badges .badge-name{font-size:var(--font-size-xs);color:#6b7280;line-height:1.2}.collection-badges .badge-item.earned .badge-name{color:#1e1e2e;font-weight:500}.collection-card .progress-bar{height:var(--space-2);background:#e5e7eb;border-radius:var(--radius-base);overflow:hidden;margin-top:var(--space-4)}.collection-card .progress-fill{height:100%;background:linear-gradient(90deg,#4f46e5,#7c3aed);border-radius:var(--radius-base);transition:width var(--transition-slow)}.collection-card.completed .progress-fill{background:linear-gradient(90deg,#10b981,#34d399)}.seasons-wrapper{margin-top:120px;padding:0 var(--space-5) var(--space-16);max-width:1200px;margin-left:auto;margin-right:auto}.season-header{background:linear-gradient(135deg,rgba(255,255,255,0.95),rgba(255,255,255,0.9));border-radius:var(--radius-2xl);padding:var(--space-8);margin-bottom:var(--space-6);box-shadow:0 8px 32px rgba(0,0,0,0.1)}.season-title-row{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-6)}.season-name{font-size:var(--font-size-3xl);font-weight:800;color:#1e1e2e;display:flex;align-items:center;gap:var(--space-3)}.season-badge{display:inline-flex;align-items:center;gap:var(--space-1);padding:var(--space-1) var(--space-4);border-radius:var(--radius-xl);font-size:var(--font-size-sm);font-weight:600}.season-badge.active{background:linear-gradient(135deg,#10b981,#34d399);color:white}.season-badge.ending-soon{background:linear-gradient(135deg,#f59e0b,#fbbf24);color:white;animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.7}}.leaderboard-card{background:rgba(255,255,255,0.95);border-radius:var(--radius-xl);padding:var(--space-6);box-shadow:0 8px 32px rgba(0,0,0,0.1)}.leaderboard-card h3{font-size:var(--font-size-lg);font-weight:700;color:#1e1e2e;margin-bottom:var(--space-5);display:flex;align-items:center;gap:var(--space-2)}.leaderboard-list{display:flex;flex-direction:column;gap:var(--space-3)}.leaderboard-item{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-3) var(--space-4);border-radius:var(--radius-md);background:#f9fafb;transition:all var(--transition-fast)}.leaderboard-item:hover{background:#f3f4f6}.leaderboard-item.top-3{background:linear-gradient(135deg,#fef3c7,#fde68a)}.leaderboard-item.current-user{background:linear-gradient(135deg,#dbeafe,#bfdbfe);border:2px solid #3b82f6}.rank-badge{width:var(--space-8);height:var(--space-8);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:var(--font-size-sm);background:#e5e7eb;color:#6b7280}.leaderboard-item.top-3:nth-child(1) .rank-badge{background:linear-gradient(135deg,#fbbf24,#f59e0b);color:white}.leaderboard-item.top-3:nth-child(2) .rank-badge{background:linear-gradient(135deg,#9ca3af,#6b7280);color:white}.leaderboard-item.top-3:nth-child(3) .rank-badge{background:linear-gradient(135deg,#d97706,#b45309);color:white}.rewards-card{background:rgba(255,255,255,0.95);border-radius:var(--radius-xl);padding:var(--space-6);box-shadow:0 8px 32px rgba(0,0,0,0.1)}.rewards-card h3{font-size:var(--font-size-lg);font-weight:700;color:#1e1e2e;margin-bottom:var(--space-5);display:flex;align-items:center;gap:var(--space-2)}.reward-tier{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-4);border-radius:var(--radius-md);margin-bottom:var(--space-2);background:#f9fafb}.reward-tier.gold{background:linear-gradient(135deg,#fef3c7,#fde68a)}.reward-tier.silver{background:linear-gradient(135deg,#f3f4f6,#e5e7eb)}.reward-tier.bronze{background:linear-gradient(135deg,#fed7aa,#fdba74)}.tier-icon{width:var(--space-10);height:var(--space-10);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-xl)}.tier-details{flex:1}.tier-name{font-weight:700;color:#1e1e2e;font-size:var(--font-size-sm)}.tier-reward{font-size:var(--font-size-xs);color:#6b7280}.past-season-status.active{background:#dbeafe;color:#2563eb}.shop-wrapper{margin-top:120px;padding:0 var(--space-5) var(--space-16);max-width:1200px;margin-left:auto;margin-right:auto}.xp-balance-card{background:linear-gradient(135deg,#4f46e5,#7c3aed);border-radius:var(--radius-xl);padding:var(--space-6) var(--space-8);color:white;display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-8);box-shadow:0 8px 32px rgba(79,70,229,0.3)}.xp-balance-info h3{font-size:var(--font-size-sm);font-weight:500;opacity:0.9;margin-bottom:var(--space-1)}.xp-balance-amount{font-size:36px;font-weight:800}.xp-balance-icon{font-size:var(--space-12);opacity:0.8}.shop-categories{display:flex;gap:var(--space-3);margin-bottom:var(--space-6);flex-wrap:wrap}.category-btn:hover,.category-btn.active{background:#4f46e5;color:white}.shop-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-5)}.shop-item{background:rgba(255,255,255,0.95);backdrop-filter:blur(20px);border-radius:var(--radius-xl);padding:var(--space-6);box-shadow:0 8px 32px rgba(0,0,0,0.1);transition:transform var(--transition-fast),box-shadow var(--transition-fast);position:relative;overflow:hidden}.shop-item:hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,0.15)}.shop-item.owned{border:2px solid #10b981}.shop-item.locked{opacity:0.7}.shop-item.owned .item-icon{background:linear-gradient(135deg,#d1fae5,#a7f3d0)}.buy-btn:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 12px rgba(79,70,229,0.4)}.purchase-modal.active{display:flex}.purchase-modal .modal-btn:hover{transform:scale(1.05)}[data-theme="dark"] .badges-progress-bar,[data-theme="dark"] .badge-category,[data-theme="dark"] .achievement-card,[data-theme="dark"] .challenge-card,[data-theme="dark"] .collection-card,[data-theme="dark"] .leaderboard-card,[data-theme="dark"] .rewards-card,[data-theme="dark"] .shop-item,[data-theme="dark"] .season-header,[data-theme="dark"] .past-season-card{background:rgba(30,41,59,0.95);border-color:rgba(255,255,255,0.1)}[data-theme="dark"] .badges-progress-bar h2,[data-theme="dark"] .badge-category h3,[data-theme="dark"] .achievement-card .card-header h3,[data-theme="dark"] .challenge-title,[data-theme="dark"] .collection-title,[data-theme="dark"] .leaderboard-card h3,[data-theme="dark"] .rewards-card h3,[data-theme="dark"] .season-name,[data-theme="dark"] .item-name,[data-theme="dark"] .user-name,[data-theme="dark"] .tier-name,[data-theme="dark"] .past-season-name{color:#f1f5f9}[data-theme="dark"] .progress-outer,[data-theme="dark"] .progress-bar-container{background:rgba(255,255,255,0.1)}[data-theme="dark"] .badge-item.locked{background:rgba(255,255,255,0.03);border-color:rgba(255,255,255,0.1)}[data-theme="dark"] .badge-item .badge-name,[data-theme="dark"] .xp-display,[data-theme="dark"] .stat-item .stat-value{color:#e2e8f0}[data-theme="dark"] .badge-item.locked .badge-name{color:#94a3b8}[data-theme="dark"] .showcase-section{background:rgba(245,158,11,0.1)}[data-theme="dark"] .showcase-section h2{color:#fbbf24}[data-theme="dark"] .showcase-section p{color:#fcd34d}[data-theme="dark"] .showcase-badge-slot{background:rgba(30,41,59,0.8)}[data-theme="dark"] .badge-item .pin-btn{background:rgba(30,41,59,0.8);color:#c4b5fd}[data-theme="dark"] .badge-modal-content{background:#1e293b}[data-theme="dark"] .badge-modal-body{color:#e2e8f0}[data-theme="dark"] .badge-modal-text{color:#e2e8f0}[data-theme="dark"] .leaderboard-item{background:rgba(255,255,255,0.05)}[data-theme="dark"] .leaderboard-item:hover{background:rgba(255,255,255,0.1)}[data-theme="dark"] .streak-item,[data-theme="dark"] .xp-log-item{background:rgba(255,255,255,0.05)}[data-theme="dark"] .streak-item .streak-count,[data-theme="dark"] .xp-log-item .xp-action{color:#e2e8f0}[data-theme="dark"] .purchase-modal .modal-content{background:#1e293b}[data-theme="dark"] .purchase-modal .modal-title{color:#f1f5f9}[data-theme="dark"] .purchase-modal .modal-btn.cancel{background:#334155;color:#e2e8f0}@media (max-width:968px){.season-title-row{flex-direction:column;gap:var(--space-5);text-align:center}}@media (max-width:768px){.achievements-wrapper,.badges-wrapper,.challenges-wrapper,.collections-wrapper,.seasons-wrapper,.shop-wrapper{padding:0 var(--space-4) var(--space-16);margin-top:100px}.achievement-card.two-thirds,.achievement-card.full-width{grid-column:span 1}.achievements-grid{grid-template-columns:1fr}.badges-grid{grid-template-columns:repeat(2,1fr)}.badge-item .badge-icon{font-size:2.5rem}.showcase-badges{justify-content:center}.challenges-grid{grid-template-columns:1fr}.collection-header{flex-direction:column;gap:var(--space-4)}.collection-stats{text-align:left}.xp-balance-card{flex-direction:column;text-align:center;gap:var(--space-4)}.shop-grid{grid-template-columns:1fr}.level-display{flex-direction:column;text-align:center}.badges-earned-grid{grid-template-columns:repeat(3,1fr)}.streaks-grid,.rankings-grid{grid-template-columns:repeat(2,1fr)}}