/* ============================================
   CIVICONE BLOG MODULE
   News & Blog - WCAG 2.1 AA Compliant
   Updated 2026-01-20: GOV.UK design tokens
   ============================================ */

/* --------------------------------------------
   WCAG AA Design Tokens
   -------------------------------------------- */
:root {
    /* Text Colors (4.5:1+ contrast on white) */
    --civic-blog-text-primary: var(--color-gray-900);      /* 12.6:1 */
    --civic-blog-text-secondary: var(--color-gray-700);    /* 8.5:1 */
    --civic-blog-text-muted: var(--color-gray-600);        /* 7.0:1 */

    /* Focus Ring - GOV.UK Style */

    /* Touch Target */
    --civic-blog-touch-min: 44px;

    /* Theme Colors (Holographic Purple/Cyan) */
    --news-primary: var(--color-purple-500);
    --news-secondary: var(--color-cyan-500);
}

/* Dark mode tokens */
[data-theme="dark"] {
    --civic-blog-text-primary: var(--color-gray-50);
    --civic-blog-text-secondary: var(--color-gray-200);
    --civic-blog-text-muted: var(--color-gray-300);
}


/* --------------------------------------------
   Offline Banner
   -------------------------------------------- */
.offline-banner {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 10001;
    padding: var(--space-3) var(--space-5);
    background: linear-gradient(135deg, var(--color-danger), var(--color-red-600));
    color: white;
    font-size: var(--font-size-sm);
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    transform: translateY(-100%);
    transition: transform var(--transition-base);
}

.offline-banner.visible {
    transform: translateY(0);
}


/* --------------------------------------------
   Content Reveal Animations
   -------------------------------------------- */

#news-holo-wrapper .news-hero-section {
    /* animation removed for GOV.UK compliance */

#news-holo-wrapper .news-card {
    /* animation removed for GOV.UK compliance */
}

#news-holo-wrapper .news-card:nth-child(1) { animation-delay: 0.1s; }
#news-holo-wrapper .news-card:nth-child(2) { animation-delay: 0.15s; }
#news-holo-wrapper .news-card:nth-child(3) { animation-delay: 0.2s; }
#news-holo-wrapper .news-card:nth-child(4) { animation-delay: 0.25s; }
#news-holo-wrapper .news-card:nth-child(5) { animation-delay: 0.3s; }
#news-holo-wrapper .news-card:nth-child(6) { animation-delay: 0.35s; }


/* --------------------------------------------
   Button Press States & Touch Targets
   -------------------------------------------- */
#news-holo-wrapper .news-btn:active,
#news-holo-wrapper .news-card:active {
    transform: scale(0.98) !important;
    transition: transform var(--transition-fast) !important;
}

/* Touch Targets - WCAG 2.1 AA (44px minimum) */
#news-holo-wrapper .news-btn,
#news-holo-wrapper .news-card-link {
    min-height: var(--civic-blog-touch-min);
}


/* --------------------------------------------
   Focus States - WCAG Compliant
   -------------------------------------------- */
#news-holo-wrapper .news-btn:focus-visible,
#news-holo-wrapper .news-card:focus-visible,
#news-holo-wrapper a:focus-visible {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Holographic Wrapper
   -------------------------------------------- */
#news-holo-wrapper {
    position: relative;
    min-height: 100vh;
    padding: 140px var(--space-5) 100px;
    overflow: hidden;
}

/* Animated Holographic Background */
#news-holo-wrapper::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -2;
    background: linear-gradient(135deg,
            #0f0c29 0%,
            #302b63 50%,
            #24243e 100%);
}

/* Holographic Gradient Overlay */
#news-holo-wrapper::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    background:
        radial-gradient(ellipse at 20% 0%, var(--color-violet-alpha-30) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 0%, var(--color-cyan-alpha-25) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, var(--color-pink-400-alpha-20) 0%, transparent 50%),
        radial-gradient(ellipse at 0% 50%, var(--color-violet-alpha-15) 0%, transparent 40%),
        radial-gradient(ellipse at 100% 50%, var(--color-cyan-alpha-15) 0%, transparent 40%);
    /* animation removed for GOV.UK compliance */
}



/* --------------------------------------------
   Holographic Orbs
   -------------------------------------------- */
.holo-orb {
    position: fixed;
    border-radius: var(--radius-full);
    filter: blur(80px);
    opacity: 0.4;
    pointer-events: none;
    z-index: -1;
    /* animation removed for GOV.UK compliance */
}

.holo-orb-1 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, var(--color-violet-alpha-60) 0%, transparent 70%);
    top: -200px;
    left: -200px;
    animation-delay: 0s;
}

.holo-orb-2 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, var(--color-cyan-alpha-50) 0%, transparent 70%);
    top: 30%;
    right: -150px;
    animation-delay: -5s;
}

.holo-orb-3 {
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, var(--color-pink-400-alpha-40) 0%, transparent 70%);
    bottom: -100px;
    left: 30%;
    animation-delay: -10s;
}

/* Animation removed for GOV.UK compliance */
}


/* --------------------------------------------
   Inner Container
   -------------------------------------------- */
#news-holo-wrapper .news-inner {
    max-width: 1400px;
    margin: 0 auto;
    position: relative;
    z-index: 10;
}


/* --------------------------------------------
   Hero Section
   -------------------------------------------- */
.news-hero-section {
    text-align: center;
    margin-bottom: var(--space-16);
    position: relative;
}

.news-hero-section::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, var(--color-violet-alpha-15) 0%, transparent 60%);
    pointer-events: none;
}

.news-hero-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-2) var(--space-5);
    background: var(--color-violet-alpha-20);
    border: 1px solid var(--color-violet-alpha-40);
    border-radius: var(--radius-full);
    color: var(--color-purple-300);
    font-size: var(--font-size-sm);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-bottom: var(--space-5);
    /* backdrop-filter removed for GOV.UK compliance */
}

.news-hero-title {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    font-weight: 900;
    line-height: 1.1;
    margin: 0 0 var(--space-5);
    background: linear-gradient(135deg, var(--color-white) 0%, var(--color-purple-300) 50%, var(--color-cyan-300) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 0 80px var(--color-violet-alpha-50);
}

.news-hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--color-white-alpha-70);
    max-width: 600px;
    margin: 0 auto var(--space-8);
    line-height: 1.6;
}

.news-hero-divider {
    width: 120px;
    height: 4px;
    background: linear-gradient(90deg, var(--news-primary), var(--news-secondary));
    border-radius: var(--radius-sm);
    margin: 0 auto;
    box-shadow: 0 0 20px var(--color-violet-alpha-50);
}


/* --------------------------------------------
   News List (WCAG 2.1 AA - List Layout)
   Following Template A: Directory/List Pattern
   -------------------------------------------- */
.news-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
}

.news-list-item {
    display: block;
}


/* --------------------------------------------
   News Card
   -------------------------------------------- */
.news-card {
    position: relative;
    background: var(--color-white-alpha-3);
    border: 1px solid var(--color-white-alpha-8);
    border-radius: var(--radius-2xl);
    overflow: hidden;
    transition: all var(--transition-slow);
    /* backdrop-filter removed for GOV.UK compliance */
}

/* Holographic Border Glow */
.news-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: var(--radius-2xl);
    padding: var(--space-1);
    background: linear-gradient(135deg,
            var(--color-violet-alpha-40) 0%,
            var(--color-cyan-alpha-30) 50%,
            var(--color-pink-400-alpha-40) 100%);
    -webkit-mask: linear-gradient(var(--color-white) 0 0) content-box, linear-gradient(var(--color-white) 0 0);
    mask: linear-gradient(var(--color-white) 0 0) content-box, linear-gradient(var(--color-white) 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity var(--transition-slow);
}

.news-card:hover {
    transform: translateY(-8px) scale(1.02);
    background: var(--color-white-alpha-6);
    box-shadow:
        0 25px 50px -12px var(--color-black-alpha-50),
        0 0 40px var(--color-violet-alpha-15),
        inset 0 1px 0 var(--color-white-alpha-10);
}

.news-card:hover::before {
    opacity: 1;
}


/* --------------------------------------------
   Card Image
   -------------------------------------------- */
.news-card-image {
    position: relative;
    height: 220px;
    overflow: hidden;
}

.news-card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform var(--transition-slow);
}

.news-card:hover .news-card-image img {
    transform: scale(1.08);
}

.news-card-image-placeholder {
    height: 220px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg,
            var(--color-violet-alpha-20) 0%,
            var(--color-cyan-alpha-15) 100%);
    font-size: var(--font-size-4xl);
    color: var(--color-white-alpha-30);
}

/* Image Overlay Gradient */
.news-card-image::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: var(--space-20);
    background: linear-gradient(to top, var(--color-dark-purple-bg), transparent);
    pointer-events: none;
}


/* --------------------------------------------
   Card Body
   -------------------------------------------- */
.news-card-body {
    padding: var(--space-6);
}

.news-card-meta {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    margin-bottom: var(--space-3);
}

.news-card-date {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-xs);
    font-weight: 600;
    color: var(--news-secondary);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.news-card-title {
    font-size: var(--font-size-xl);
    font-weight: 700;
    line-height: 1.3;
    margin: 0 0 var(--space-3);
}

.news-card-title a {
    color: var(--color-white);
    text-decoration: none;
    transition: color var(--transition-base);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.news-card-title a:hover {
    color: var(--color-purple-300);
}

.news-card-excerpt {
    font-size: var(--font-size-base);
    color: var(--color-white-alpha-60);
    line-height: 1.6;
    margin-bottom: var(--space-5);
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}


/* --------------------------------------------
   Card Action
   -------------------------------------------- */
.news-card-action {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-top: var(--space-4);
    border-top: 1px solid var(--color-white-alpha-8);
}

.news-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    padding: var(--space-3) var(--space-5);
    background: linear-gradient(135deg, var(--color-violet-alpha-30), var(--color-cyan-alpha-20));
    border: 1px solid var(--color-violet-alpha-30);
    border-radius: var(--radius-md);
    color: var(--color-white);
    font-size: var(--font-size-sm);
    font-weight: 600;
    text-decoration: none;
    transition: all var(--transition-base);
    min-height: var(--civic-blog-touch-min);
}

.news-btn:hover {
    background: linear-gradient(135deg, var(--color-violet-alpha-50), var(--color-cyan-alpha-40));
    border-color: var(--color-violet-alpha-50);
    box-shadow: 0 8px 20px var(--color-violet-alpha-30);
    transform: translateX(4px);
}

.news-btn:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}

.news-btn i {
    font-size: var(--font-size-xs);
    transition: transform var(--transition-base);
}

.news-btn:hover i {
    transform: translateX(4px);
}

.news-card-reading-time {
    font-size: var(--font-size-xs);
    color: var(--color-white-alpha-40);
    display: flex;
    align-items: center;
    gap: var(--space-1);
}


/* --------------------------------------------
   Empty State
   -------------------------------------------- */
.news-empty-state {
    text-align: center;
    padding: var(--space-20) var(--space-10);
    background: var(--color-white-alpha-3);
    border: 1px solid var(--color-white-alpha-8);
    border-radius: var(--radius-2xl);
    /* backdrop-filter removed for GOV.UK compliance */
    max-width: 600px;
    margin: 0 auto;
}

.news-empty-icon {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--color-violet-alpha-20), var(--color-cyan-alpha-15));
    border-radius: var(--radius-full);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto var(--space-6);
    font-size: var(--font-size-3xl);
    color: var(--color-white-alpha-50);
}

.news-empty-title {
    font-size: var(--font-size-2xl);
    font-weight: 700;
    color: var(--color-white);
    margin: 0 0 var(--space-3);
}

.news-empty-text {
    font-size: var(--font-size-base);
    color: var(--color-white-alpha-60);
    margin: 0;
}


/* --------------------------------------------
   Light Mode Adjustments
   -------------------------------------------- */
[data-theme="light"] #news-holo-wrapper::before {
    background: linear-gradient(135deg,
            var(--color-primary-100) 0%,
            var(--color-purple-200) 50%,
            #cffafe 100%);
}

[data-theme="light"] #news-holo-wrapper::after {
    background:
        radial-gradient(ellipse at 20% 0%, var(--color-violet-alpha-15) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 0%, var(--color-cyan-alpha-12) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 100%, var(--color-pink-400-alpha-10) 0%, transparent 50%);
}

[data-theme="light"] .news-hero-title {
    background: linear-gradient(135deg, #4c1d95 0%, var(--color-purple-600) 50%, var(--color-cyan-600) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

[data-theme="light"] .news-hero-subtitle {
    color: var(--color-black-alpha-60);
}

[data-theme="light"] .news-hero-badge {
    color: var(--color-purple-700);
    background: var(--color-violet-alpha-15);
}

[data-theme="light"] .news-card {
    background: var(--color-white-alpha-70);
    border-color: var(--color-violet-alpha-15);
}

[data-theme="light"] .news-card:hover {
    background: var(--color-white-alpha-90);
    box-shadow:
        0 25px 50px -12px var(--color-violet-alpha-15),
        0 0 40px var(--color-violet-alpha-10);
}

[data-theme="light"] .news-card-title a {
    color: var(--color-indigo-950);
}

[data-theme="light"] .news-card-title a:hover {
    color: var(--color-purple-700);
}

[data-theme="light"] .news-card-excerpt {
    color: var(--color-black-alpha-60);
}

[data-theme="light"] .news-card-image::after {
    background: linear-gradient(to top, var(--color-white-alpha-90), transparent);
}

[data-theme="light"] .holo-orb {
    opacity: 0.3;
}


/* --------------------------------------------
   Simple News Index (CivicOne Grid Layout)
   -------------------------------------------- */


/* --------------------------------------------
   Blog Show Page
   -------------------------------------------- */
.civic-article-wrapper {
    background: white;
    padding: var(--space-10);
    border: 1px solid var(--color-gray-200);
    max-width: 800px;
    margin: 0 auto;
}

[data-theme="dark"] .civic-article-wrapper {
    background: var(--color-gray-800);
    border-color: var(--color-gray-700);
}

.civic-article-meta {
    margin-bottom: var(--space-5);
    color: var(--civic-blog-text-secondary);
    font-size: var(--font-size-base);
    border-bottom: 1px solid #eee;
    padding-bottom: var(--space-4);
}

[data-theme="dark"] .civic-article-meta {
    border-bottom-color: var(--color-gray-700);
}

.civic-article-image {
    width: 100%;
    height: auto;
    margin-bottom: var(--space-8);
    border: 1px solid #eee;
}

[data-theme="dark"] .civic-article-image {
    border-color: var(--color-gray-700);
}

.civic-article-body {
    font-family: 'Inter', sans-serif;
    line-height: 1.7;
    color: var(--civic-blog-text-primary);
    font-size: var(--font-size-lg);
}

.civic-article-footer {
    margin-top: var(--space-10);
    padding-top: var(--space-5);
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--space-4);
}

[data-theme="dark"] .civic-article-footer {
    border-top-color: var(--color-gray-700);
}

.civic-article-back,
.civic-article-share {
    text-decoration: none;
    font-weight: 600;
    color: var(--civic-blog-text-muted);
    min-height: var(--civic-blog-touch-min);
    display: inline-flex;
    align-items: center;
    padding: var(--space-2) var(--space-4);
}

.civic-article-back:hover,
.civic-article-share:hover {
    color: var(--civic-blog-text-primary);
}

.civic-article-back:focus,
.civic-article-share:focus {
    /* GOV.UK Focus Pattern */
    outline: 3px solid var(--govuk-focus-colour, var(--color-brand-yellow));
    outline-offset: 0;
    background-color: var(--govuk-focus-colour, var(--color-brand-yellow));
    color: var(--govuk-focus-text-colour, var(--color-govuk-black));
    box-shadow: 0 -2px var(--govuk-focus-colour, var(--color-brand-yellow)), 0 4px var(--govuk-focus-text-colour, var(--color-govuk-black));
}


/* --------------------------------------------
   Infinite Scroll Sentinel
   -------------------------------------------- */
.news-scroll-sentinel {
    height: var(--space-20);
    margin-top: var(--space-10);
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--color-violet-alpha-60);
}

.news-scroll-sentinel i {
    display: none;
}


/* --------------------------------------------
   Responsive
   -------------------------------------------- */
@media (max-width: 768px) {
    #news-holo-wrapper {
        padding: 120px var(--space-4) 60px;
    }

    .news-hero-section {
        margin-bottom: var(--space-10);
    }

    .news-hero-subtitle {
        font-size: var(--font-size-base);
    }

    .news-card-body {
        padding: var(--space-5);
    }

    .news-card-title {
        font-size: var(--font-size-xl);
    }

    .holo-orb-1,
    .holo-orb-2,
    .holo-orb-3 {
        opacity: 0.25;
    }

    #news-holo-wrapper .news-btn {
        min-height: var(--civic-blog-touch-min);
    }

    .civic-article-wrapper {
        padding: var(--space-6);
    }

    .civic-article-footer {
        flex-direction: column;
        align-items: stretch;
    }

    .civic-article-back,
    .civic-article-share {
        justify-content: center;
    }
}


/* --------------------------------------------
   Browser Fallback
   -------------------------------------------- */
@supports not (/* backdrop-filter removed for GOV.UK compliance */) {
    .news-card {
        background: var(--color-dark-purple-alt-bg);
    }

    [data-theme="light"] .news-card {
        background: var(--color-white-alpha-95);
    }
}


/* --------------------------------------------
   High Contrast Mode Support
   -------------------------------------------- */
@media (prefers-contrast: high) {
    .news-card {
        border-width: var(--space-1);
    }

    .news-btn {
        border-width: var(--space-0-5);
    }

    .civic-article-wrapper {
        border-width: var(--space-1);
    }
}


/* --------------------------------------------
   Reduced Motion Support
   -------------------------------------------- */
@media (prefers-reduced-motion: reduce) {
    #news-holo-wrapper .news-hero-section,
    #news-holo-wrapper .news-card,
    .news-card,
    .news-btn,
    .holo-orb,
    #news-holo-wrapper::after {
        /* animation removed for GOV.UK compliance */
        transition: none;
    }
}
