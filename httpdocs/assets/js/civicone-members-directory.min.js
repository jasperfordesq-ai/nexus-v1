!function(){"use strict";document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("member-search"),n=document.getElementById("members-list"),t=document.getElementById("empty-state"),i=document.getElementById("results-count"),a=document.getElementById("search-spinner");let c;function o(e){if(!e)return"";const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return n[e]})}e&&e.addEventListener("input",function(e){clearTimeout(c);const r=e.target.value.trim();a.style.display="block",c=setTimeout(()=>{0!==r.length?function(e){fetch(basePath+"/members?q="+encodeURIComponent(e),{headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>{var c,r;!function(e){if(n.innerHTML="",0===e.length)return void(t.style.display="block");t.style.display="none",e.forEach(e=>{const t=document.createElement("li");t.className="civicone-member-item";const i=o(e.first_name+" "+e.last_name),a=e.location?o(e.location):"",c=e.last_active_at&&new Date(e.last_active_at)>new Date(Date.now()-3e5)?'<span class="civicone-status-indicator civicone-status-indicator--online" title="Active now" aria-label="Currently online"></span>':"";let r="";r=e.avatar_url?`<img src="${o(e.avatar_url)}" alt="" class="civicone-avatar">`:'\n                        <div class="civicone-avatar civicone-avatar--placeholder">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">\n                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>\n                                <circle cx="12" cy="7" r="4"></circle>\n                            </svg>\n                        </div>';let s="";a&&(s=`\n                        <p class="civicone-member-item__meta">\n                            <svg class="civicone-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">\n                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>\n                                <circle cx="12" cy="10" r="3"></circle>\n                            </svg>\n                            ${a}\n                        </p>`),t.innerHTML=`\n                    <div class="civicone-member-item__avatar">\n                        ${r}\n                        ${c}\n                    </div>\n                    <div class="civicone-member-item__content">\n                        <h3 class="civicone-member-item__name">\n                            <a href="${basePath}/profile/${e.id}" class="civicone-link">\n                                ${i}\n                            </a>\n                        </h3>\n                        ${s}\n                    </div>\n                    <div class="civicone-member-item__actions">\n                        <a href="${basePath}/profile/${e.id}" class="civicone-button civicone-button--secondary">\n                            View profile\n                        </a>\n                    </div>\n                `,n.appendChild(t)})}(e.data),c=e.data.length,r=e.total||e.data.length,i.innerHTML=`Showing <strong>${c}</strong> of <strong>${r}</strong> members`,a.style.display="none"}).catch(e=>{console.error("Search error:",e),a.style.display="none"})}(r):window.location.href=basePath+"/members"},400)})})}();