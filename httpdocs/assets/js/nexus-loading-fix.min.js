!function(){"use strict";function e(){document.querySelectorAll("[data-modal-target]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("data-modal-target"),n=document.getElementById(t);n&&function(e){e.classList.add("active"),document.body.classList.add("js-overflow-hidden")}(n)})}),document.querySelectorAll(".modal-overlay, [data-modal-close]").forEach(function(e){e.addEventListener("click",function(e){if(e.target===this){const e=this.closest('.modal, [role="dialog"]');e&&t(e)}})}),document.addEventListener("keydown",function(e){if("Escape"===e.key){const e=document.querySelector(".modal.active");e&&t(e)}})}function t(e){e.classList.add("closing"),setTimeout(function(){e.classList.remove("active","closing"),document.body.classList.remove("js-overflow-hidden")},200)}function n(){document.documentElement.classList.add("loaded"),document.documentElement.classList.remove("loading"),setTimeout(function(){document.querySelectorAll('img[loading="lazy"]').forEach(function(e){e.complete?e.classList.add("loaded"):e.addEventListener("load",function(){e.classList.add("loaded")})}),function(){const e=document.querySelectorAll('.skeleton-feed-container, [class*="skeleton"]');e.forEach(function(e){const t=e.parentElement;t&&t.querySelectorAll(".feed-item, .post-card").length>0&&(e.classList.add("hidden"),setTimeout(function(){e.classList.add("removed"),e.remove()},300))}),setTimeout(function(){e.forEach(function(e){e.parentElement&&e.remove()})},3e3)}(),function(){if(sessionStorage.getItem("feed_animated"))return document.querySelectorAll(".feed-item, .post-card").forEach(function(e){e.classList.add("js-opacity-100"),e.style.animation="none"}),void document.body.classList.add("feed-loaded");sessionStorage.setItem("feed_animated","true")}(),function(){const e=document.querySelector(".nexus-navbar");if(!e)return;let t=0,n=!1;window.addEventListener("scroll",function(){n||(window.requestAnimationFrame(function(){const o=window.pageYOffset;o>50?e.classList.add("scrolled"):e.classList.remove("scrolled"),document.documentElement.classList.contains("loading")||o>t&&o>100||e.classList.remove("hide-on-scroll"),t=o,n=!1}),n=!0)},{passive:!0})}(),e(),function(){let e=0;document.addEventListener("click",function(t){const n=t.target.closest("button, .btn, .btn--glass");if(!n||n.classList.contains("no-ripple"))return;if(e>=5)return;const o=document.createElement("span"),s=n.getBoundingClientRect(),i=Math.max(s.width,s.height),c=t.clientX-s.left-i/2,d=t.clientY-s.top-i/2;o.style.width=o.style.height=i+"px",o.style.left=c+"px",o.style.top=d+"px",o.classList.add("ripple-effect"),n.appendChild(o),e++,setTimeout(function(){o.remove(),e--},600)},!0)}(),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||"#!"===t)return;const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState&&history.pushState(null,null,t))})}),window.matchMedia("(prefers-reduced-motion: reduce)").matches||setTimeout(function(){!function(){if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;const e=document.querySelectorAll(".nexus-card, .glass-card, .post-card");let t=0;e.forEach(function(e){e.addEventListener("mouseenter",function(){t<3&&this.classList.add("tilt-active")}),e.addEventListener("mousemove",function(e){if(t>=3)return;if(!this.classList.contains("tilt-active"))return;t++;const n=this.getBoundingClientRect(),o=e.clientX-n.left,s=e.clientY-n.top,i=n.width/2,c=(s-n.height/2)/20,d=(i-o)/20;this.style.transform=`\n                    perspective(1000px)\n                    rotateX(${c}deg)\n                    rotateY(${d}deg)\n                    scale3d(1.01, 1.01, 1.01)\n                `,setTimeout(function(){t--},50)}),e.addEventListener("mouseleave",function(){this.classList.remove("tilt-active"),this.style.transform=""})})}()},200),console.warn("âœ… Nexus loading enhancements initialized")},100)}document.documentElement.classList.add("loading"),document.fonts&&document.fonts.ready?document.fonts.ready.then(function(){document.documentElement.classList.add("fonts-loaded"),document.documentElement.classList.remove("loading")}):setTimeout(function(){document.documentElement.classList.add("fonts-loaded"),document.documentElement.classList.remove("loading")},100),window.NEXUS_PAGE_TRANSITIONS_DISABLED=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),window.showToast=function(e,t,n){t=t||"success",n=n||3e3;const o=document.getElementById("nexus-toast");o&&(o.classList.add("hiding"),setTimeout(function(){o.remove()},300));const s=document.createElement("div");s.id="nexus-toast",s.className="nexus-toast toast-"+t,s.textContent=e,s.setAttribute("role","status"),s.setAttribute("aria-live","polite"),document.body.appendChild(s),setTimeout(function(){s.classList.add("hiding"),setTimeout(function(){s.remove()},300)},n),s.addEventListener("click",function(){s.classList.add("hiding"),setTimeout(function(){s.remove()},300)})},document.addEventListener("visibilitychange",function(){document.hidden?document.body.classList.add("page-hidden"):document.body.classList.remove("page-hidden")})}();