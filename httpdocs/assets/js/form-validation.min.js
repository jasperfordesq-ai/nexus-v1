!function(){"use strict";const e={shakeOnError:!0,pulseOnSuccess:!0,showIcons:!0,autoValidate:!0,debounceMs:300,selectors:{form:"form[data-validate], form.validate-form",field:"input, select, textarea"}},t=window.matchMedia("(prefers-reduced-motion: reduce)").matches,s={success:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">\n            <polyline points="20 6 9 17 4 12"></polyline>\n        </svg>',error:'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n            <circle cx="12" cy="12" r="10"></circle>\n            <line x1="15" y1="9" x2="9" y2="15"></line>\n            <line x1="9" y1="9" x2="15" y2="15"></line>\n        </svg>'};function r(t,r){if(!e.showIcons)return null;const a=t.closest(".form-validation-wrapper")||t.parentElement;let n=a.querySelector(".form-validation-icon");return n||(n=document.createElement("span"),n.className="form-validation-icon",n.setAttribute("aria-hidden","true"),a.appendChild(n)),n.className=`form-validation-icon form-validation-icon--${r}`,n.innerHTML=s[r]||"",n}function a(s,a){if(!s)return;if(s.classList.remove("is-valid","form-success"),s.classList.add("is-invalid","form-error"),s.setAttribute("aria-invalid","true"),e.shakeOnError&&!t&&(s.classList.add("form-shake"),setTimeout(()=>s.classList.remove("form-shake"),500)),r(s,"error"),a){const e=function(e){const t=e.closest(".form-validation-wrapper")||e.parentElement,s=e.id||e.name;let r=t.querySelector(".form-error-message");r||(r=(t.parentElement||t).querySelector(".form-error-message"));if(!r){r=document.createElement("span"),r.className="form-error-message",s&&(r.id=`${s}-error`,e.setAttribute("aria-describedby",r.id));const t=e.closest(".form-validation-wrapper")||e;t.parentNode.insertBefore(r,t.nextSibling)}return r}(s);e.textContent=a,e.classList.remove("hidden")}const n=s.closest(".form-group, .field-group");n&&(n.classList.add("has-error"),n.classList.remove("has-success")),navigator.vibrate&&navigator.vibrate([10,50,10])}function n(s){if(!s)return;s.classList.remove("is-invalid","form-error"),s.removeAttribute("aria-invalid"),s.classList.add("is-valid","form-success"),e.pulseOnSuccess&&!t&&(s.classList.add("form-success-pulse"),setTimeout(()=>s.classList.remove("form-success-pulse"),600)),r(s,"success");const a=s.closest(".form-validation-wrapper")||s.parentElement,n=a.querySelector(".form-error-message")||a.parentElement?.querySelector(".form-error-message");n&&(n.classList.add("form-message-fade-out"),setTimeout(()=>{n.classList.add("hidden"),n.classList.remove("form-message-fade-out")},200));const o=s.closest(".form-group, .field-group");o&&(o.classList.remove("has-error"),o.classList.add("has-success"))}function o(e){if(!e)return;e.classList.remove("is-invalid","is-valid","form-error","form-success","form-shake"),e.removeAttribute("aria-invalid");const t=e.closest(".form-validation-wrapper")||e.parentElement,s=t.querySelector(".form-validation-icon");s&&(s.style.opacity="0");const r=t.querySelector(".form-error-message")||t.parentElement?.querySelector(".form-error-message");r&&r.classList.add("hidden");const a=e.closest(".form-group, .field-group");a&&a.classList.remove("has-error","has-success")}function i(e){if("hidden"===e.type||e.disabled)return!0;const t=e.value.trim(),s=function(e){const t={};(e.hasAttribute("required")||e.dataset.required)&&(t.required=!0,t.requiredMessage=e.dataset.requiredMessage);("email"===e.type||e.dataset.email)&&(t.email=!0,t.emailMessage=e.dataset.emailMessage);(e.minLength>0||e.dataset.minLength)&&(t.minLength=parseInt(e.minLength||e.dataset.minLength),t.minLengthMessage=e.dataset.minLengthMessage);(e.maxLength>0||e.dataset.maxLength)&&(t.maxLength=parseInt(e.maxLength||e.dataset.maxLength),t.maxLengthMessage=e.dataset.maxLengthMessage);(e.pattern||e.dataset.pattern)&&(t.pattern=e.pattern||e.dataset.pattern,t.patternMessage=e.dataset.patternMessage||e.title);e.dataset.match&&(t.match=e.dataset.match,t.matchMessage=e.dataset.matchMessage);return t}(e);let r=!0,i="";if(s.required&&!t&&(r=!1,i=s.requiredMessage||"This field is required"),r&&s.email&&t){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(r=!1,i=s.emailMessage||"Please enter a valid email address")}if(r&&s.minLength&&t.length<s.minLength&&(r=!1,i=s.minLengthMessage||`Minimum ${s.minLength} characters required`),r&&s.maxLength&&t.length>s.maxLength&&(r=!1,i=s.maxLengthMessage||`Maximum ${s.maxLength} characters allowed`),r&&s.pattern&&t){new RegExp(s.pattern).test(t)||(r=!1,i=s.patternMessage||"Please match the requested format")}if(r&&s.match){const e=document.querySelector(s.match);e&&t!==e.value&&(r=!1,i=s.matchMessage||"Fields do not match")}if(r&&s.customValidator){const a=s.customValidator(t,e);!0!==a&&(r=!1,i="string"==typeof a?a:"Validation failed")}return r&&t?n(e):r?o(e):a(e,i),r}function l(t){if(!t)return!0;const s=t.querySelectorAll(e.selectors.field);let r=!0,a=null;return s.forEach(e=>{const t=i(e);t||a?t||(r=!1):(a=e,r=!1)}),a&&(a.focus(),a.scrollIntoView({behavior:"smooth",block:"center"})),r}function c(s){if(!s||s.dataset.validationInit)return;s.dataset.validationInit="true";s.querySelectorAll(e.selectors.field).forEach(t=>{t.addEventListener("blur",()=>{t.value.trim()&&i(t)});const s=function(e,t){let s;return function(...r){clearTimeout(s),s=setTimeout(()=>{clearTimeout(s),e(...r)},t)}}(()=>{t.classList.contains("is-invalid")&&i(t)},e.debounceMs);t.addEventListener("input",()=>{t.classList.contains("is-invalid")&&(t.classList.add("form-typing"),s())}),t.addEventListener("blur",()=>{t.classList.remove("form-typing")})}),s.addEventListener("submit",e=>{if(!l(s)){e.preventDefault(),e.stopPropagation();const r=s.querySelector('[type="submit"]');r&&!t&&(r.classList.add("form-shake-subtle"),setTimeout(()=>r.classList.remove("form-shake-subtle"),400))}})}function d(){if(!e.autoValidate)return;const t=document.querySelectorAll(e.selectors.form);t.forEach(c);new MutationObserver(t=>{t.forEach(t=>{t.addedNodes.forEach(t=>{1===t.nodeType&&(t.matches&&t.matches(e.selectors.form)&&c(t),t.querySelectorAll&&t.querySelectorAll(e.selectors.form).forEach(c))})})}).observe(document.body,{childList:!0,subtree:!0}),console.warn(`[FormValidation] Initialized ${t.length} forms`)}window.FormValidation={error:a,success:n,clear:o,validate:i,validateForm:l,initForm:c,charCounter:function(e,t){const s=document.createElement("div");function r(){const r=e.value.length;s.textContent=`${r}/${t}`,s.classList.remove("warning","error"),r>=t?s.classList.add("error"):r>=.9*t&&s.classList.add("warning")}return s.className="char-counter",(e.closest(".form-validation-wrapper")||e.parentElement).appendChild(s),e.addEventListener("input",r),r(),s},passwordStrength:function(e){const t=document.createElement("div");function s(e){let s=0;e.length>=8&&s++,e.length>=12&&s++,/[a-z]/.test(e)&&/[A-Z]/.test(e)&&s++,/\d/.test(e)&&s++,/[^a-zA-Z0-9]/.test(e)&&s++;const r=Math.min(s,4);t.dataset.strength=["","weak","fair","good","strong"][r]}return t.className="password-strength",t.innerHTML='<div class="password-strength-bar"></div>',(e.closest(".form-validation-wrapper")||e.parentElement).appendChild(t),e.addEventListener("input",()=>s(e.value)),s(e.value),t},config:t=>Object.assign(e,t)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):setTimeout(d,50)}();