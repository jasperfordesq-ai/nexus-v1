!function(){"use strict";function t(){var t=document.getElementById("offlineBanner");function e(e){t.classList.toggle("govuk-!-display-none",!e),e&&navigator.vibrate&&navigator.vibrate(100)}t&&(window.addEventListener("online",function(){e(!1)}),window.addEventListener("offline",function(){e(!0)}),navigator.onLine||e(!0))}function e(){var t=document.getElementById("chat-messages");t&&(t.scrollTop=t.scrollHeight)}function n(){document.querySelectorAll(".govuk-notification-banner--success[data-auto-dismiss]").forEach(function(t){var e=parseInt(t.getAttribute("data-auto-dismiss"),10)||5e3;setTimeout(function(){t.style.transition="opacity 0.5s ease",t.style.opacity="0",setTimeout(function(){t.remove()},500)},e)})}function i(){document.querySelectorAll("[data-confirm-delete]").forEach(function(t){t.addEventListener("click",function(e){var n=t.getAttribute("data-confirm-delete")||"Are you sure you want to delete this?";confirm(n)||e.preventDefault()})})}function o(){document.querySelectorAll("textarea[maxlength]").forEach(function(t){var e=parseInt(t.getAttribute("maxlength"),10),n=t.id+"-counter",i=document.getElementById(n);function o(){var n=e-t.value.length;i.textContent=n+" characters remaining",i.classList.toggle("govuk-hint",n>20),i.classList.toggle("govuk-error-message",n<=20)}i&&(t.addEventListener("input",o),o())})}function a(){document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){var e=this.getAttribute("href");if(e.length>1){var n=document.querySelector(e);n&&(t.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}),n.focus())}})})}function c(){var t=document.querySelectorAll(".govuk-tabs__tab[data-filter]");if(t.length){var e=document.querySelector("[data-filter-list]"),n=e?e.querySelectorAll("[data-type]"):document.querySelectorAll("#activity-list li[data-type]");t.forEach(function(e){e.addEventListener("click",function(){document.querySelectorAll(".govuk-tabs__list-item").forEach(function(t){t.classList.remove("govuk-tabs__list-item--selected")}),this.closest(".govuk-tabs__list-item").classList.add("govuk-tabs__list-item--selected"),t.forEach(function(t){t.setAttribute("aria-selected","false")}),this.setAttribute("aria-selected","true");var e=this.dataset.filter;n.forEach(function(t){"all"===e||t.dataset.type===e?t.classList.remove("hidden"):t.classList.add("hidden")})})})}}function r(){t(),e(),n(),i(),o(),a(),c()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r(),window.CivicOne=window.CivicOne||{},window.CivicOne.initOfflineBanner=t,window.CivicOne.initFormOfflineProtection=function(){document.querySelectorAll("form").forEach(function(t){t.addEventListener("submit",function(t){navigator.onLine||(t.preventDefault(),alert("You are offline. Please connect to the internet to save changes."))})})},window.CivicOne.initScrollToBottom=e,window.CivicOne.initAutoDismissBanners=n,window.CivicOne.initConfirmDelete=i,window.CivicOne.initCharacterCounters=o,window.CivicOne.initSmoothScroll=a,window.CivicOne.initFilterTabs=c}();