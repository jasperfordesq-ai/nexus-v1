!function(){"use strict";const t=document.createElement("style");t.id="nexus-critical-hide",t.textContent='\n        /* CRITICAL: Hide body until fully styled */\n        body {\n            opacity: 0;\n            visibility: hidden;\n        }\n\n        /* Prevent layout shift and scrollbar jump */\n        html {\n            overflow-y: scroll;\n            background-color: #0f172a;\n            scroll-behavior: auto;\n        }\n\n        html[data-theme="light"] {\n            background-color: #ffffff;\n        }\n\n        /* Prevent content flash */\n        main, .main-content, .page-content {\n            opacity: 0;\n        }\n    ',document.head.appendChild(t);const e=["core"],n=["nexus-groups","nexus-home","nexus-achievements","nexus-profile"];function o(){const t=document.styleSheets,o=new Set;let c=!1,i=!1;for(let l=0;l<t.length;l++)try{const d=t[l].href;d&&(e.forEach(function(t){d.includes(t)&&o.add(t)}),n.forEach(function(t){d.includes(t)&&(c=!0,i=!0)}))}catch(t){}const l=o.size>=e.length;return c?l&&i:l}function c(){const t=document.getElementById("nexus-critical-hide");t&&t.remove(),document.body&&(document.body.style.opacity="0",document.body.style.visibility="visible",document.body.style.overflow="",requestAnimationFrame(function(){document.body.style.transition="opacity 0.25s cubic-bezier(0.4, 0.0, 0.2, 1)",document.body.style.opacity="1";document.querySelectorAll("main, .main-content, .page-content").forEach(function(t){t.style.transition="opacity 0.25s cubic-bezier(0.4, 0.0, 0.2, 1)",t.style.opacity="1"})})),document.documentElement.classList.add("content-loaded"),document.documentElement.classList.remove("loading"),document.documentElement.setAttribute("data-layout-stable","true"),setTimeout(function(){document.documentElement.style.scrollBehavior="smooth",setTimeout(function(){document.documentElement.removeAttribute("data-layout-stable")},300)},500),console.log("✅ Content loaded and visible")}let i,l=0;function d(){i=setInterval(function(){l++,(o()||l>=100)&&(clearInterval(i),requestAnimationFrame(function(){requestAnimationFrame(function(){document.fonts&&document.fonts.ready?document.fonts.ready.then(c):c()})}))},50)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):d(),setTimeout(function(){document.documentElement.classList.contains("content-loaded")||(console.warn("⚠️ Force showing content after timeout"),c())},1500),window.addEventListener("load",function(){setTimeout(function(){const t=document.getElementById("nexus-critical-hide");t&&t.remove(),document.documentElement.style.cssText="overflow: scroll !important; height: auto !important;",document.body.style.cssText="overflow: visible !important; height: auto !important; position: relative !important;",document.body.onwheel=null,document.body.ontouchmove=null,document.onwheel=null,document.ontouchmove=null,document.body.classList.remove("drawer-open","modal-open","fds-sheet-open","menu-open","mobile-menu-open","keyboard-open"),document.documentElement.classList.contains("content-loaded")||(document.documentElement.classList.add("content-loaded"),document.body.style.opacity="1",document.body.style.visibility="visible")},100)})}();
