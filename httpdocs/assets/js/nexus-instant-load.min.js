!function(){"use strict";var e="v2026-02-01-scrollfix2";if(console.log("[NEXUS_INSTANT_LOAD] "+e),-1!==window.location.search.indexOf("debug_instant=1")){var t=document.createElement("div");t.id="nexus-instant-load-debug-badge",t.textContent="instant-load "+e,t.style.cssText="position:fixed;bottom:8px;left:8px;z-index:999999;background:#000;color:#0f0;font:10px monospace;padding:4px 8px;border-radius:4px;opacity:0.9;pointer-events:none;",document.body?document.body.appendChild(t):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(t)})}const o=document.createElement("style");o.id="nexus-critical-hide",o.textContent='\n        /* CRITICAL: Hide body until fully styled */\n        body {\n            opacity: 0;\n            visibility: hidden;\n        }\n\n        /* Prevent layout shift and scrollbar jump */\n        html {\n            overflow-y: scroll;\n            background-color: #0f172a;\n            scroll-behavior: auto;\n        }\n\n        html[data-theme="light"] {\n            background-color: #ffffff;\n        }\n\n        /* Prevent content flash */\n        main, .main-content, .page-content {\n            opacity: 0;\n        }\n    ',document.head.appendChild(o);const n=["core"],d=["nexus-groups","nexus-home","nexus-achievements","nexus-profile"];function c(){const e=document.getElementById("nexus-critical-hide");e&&e.remove(),document.body&&(document.body.style.opacity="0",document.body.style.visibility="visible",document.body.classList.remove("js-overflow-hidden"),requestAnimationFrame(function(){document.body.style.transition="opacity 0.25s cubic-bezier(0.4, 0.0, 0.2, 1)",document.body.style.opacity="1";document.querySelectorAll("main, .main-content, .page-content").forEach(function(e){e.style.transition="opacity 0.25s cubic-bezier(0.4, 0.0, 0.2, 1)",e.style.opacity="1"})})),document.documentElement.classList.add("content-loaded"),document.documentElement.classList.remove("loading"),document.documentElement.setAttribute("data-layout-stable","true"),setTimeout(function(){document.documentElement.style.scrollBehavior="smooth",setTimeout(function(){document.documentElement.removeAttribute("data-layout-stable")},300)},500),console.warn("✅ Content loaded and visible")}let i,l=0;function s(){i=setInterval(function(){l++,(function(){const e=document.styleSheets,t=new Set;let o=!1,c=!1;for(let i=0;i<e.length;i++)try{const l=e[i].href;l&&(n.forEach(function(e){l.includes(e)&&t.add(e)}),d.forEach(function(e){l.includes(e)&&(o=!0,c=!0)}))}catch(e){}const i=t.size>=n.length;return o?i&&c:i}()||l>=100)&&(clearInterval(i),requestAnimationFrame(function(){requestAnimationFrame(function(){document.fonts&&document.fonts.ready?document.fonts.ready.then(c):c()})}))},50)}function m(){var e=document.getElementById("mobileMenu")&&document.getElementById("mobileMenu").classList.contains("active"),t=document.getElementById("mobileNotifications")&&document.getElementById("mobileNotifications").classList.contains("active"),o=document.querySelector('.modal.active, [role="dialog"][aria-hidden="false"]'),n=document.querySelector(".fds-sheet.active, .mobile-sheet.active");if(!(e||t||o||n)){var d=!1;["js-overflow-hidden","mobile-menu-open","mobile-notifications-open","modal-open","fds-sheet-open","drawer-open","menu-open"].forEach(function(e){document.body.classList.contains(e)&&(document.body.classList.remove(e),d=!0)}),d&&console.log("[NEXUS_INSTANT_LOAD] Safety net: Removed stuck scroll-blocking classes")}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s(),setTimeout(function(){document.documentElement.classList.contains("content-loaded")||(console.warn("⚠️ Force showing content after timeout"),c())},1500),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m(),window.addEventListener("load",function(){setTimeout(function(){const e=document.getElementById("nexus-critical-hide");e&&e.remove(),document.documentElement.style.removeProperty("overflow"),document.documentElement.style.removeProperty("overflow-y"),document.documentElement.style.removeProperty("overflow-x"),document.documentElement.style.removeProperty("height"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("overflow-y"),document.body.style.removeProperty("overflow-x"),document.body.style.removeProperty("height"),document.body.style.removeProperty("position"),document.body.onwheel=null,document.body.ontouchmove=null,document.onwheel=null,document.ontouchmove=null,document.body.classList.remove("drawer-open","modal-open","fds-sheet-open","menu-open","mobile-menu-open","keyboard-open","js-overflow-hidden"),document.documentElement.classList.contains("content-loaded")||(document.documentElement.classList.add("content-loaded"),document.body.style.opacity="1",document.body.style.visibility="visible")},100)})}();