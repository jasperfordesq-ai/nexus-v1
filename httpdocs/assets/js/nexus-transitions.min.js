!function(){"use strict";function e(){document.querySelectorAll("[data-modal-target]").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("data-modal-target"),n=document.getElementById(t);n&&function(e){e.classList.add("active"),document.body.classList.add("js-overflow-hidden");const t=e.querySelector('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');t&&setTimeout(()=>t.focus(),100);!function(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],o=t[t.length-1];e.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(o.focus(),e.preventDefault()):document.activeElement===o&&(n.focus(),e.preventDefault()))})}(e)}(n)})}),document.querySelectorAll(".modal-overlay, [data-modal-close]").forEach(e=>{e.addEventListener("click",function(e){if(e.target===this){const e=this.closest('.modal, [role="dialog"]');e&&t(e)}})}),document.addEventListener("keydown",function(e){if("Escape"===e.key){const e=document.querySelector('.modal.active, [role="dialog"].active');e&&t(e)}})}function t(e){e.classList.add("closing"),setTimeout(()=>{e.classList.remove("active","closing"),document.body.classList.remove("js-overflow-hidden")},200)}function n(){if(window.NEXUS_PAGE_TRANSITIONS_DISABLED)return void console.warn("⏭️  Using optimized loading system");window.matchMedia("(prefers-reduced-motion: reduce)").matches||(window.NEXUS_PAGE_TRANSITIONS_DISABLED?console.warn("⏭️  Page transitions disabled (prevents glitches)"):(document.addEventListener("click",function(e){const t=e.target.closest("a");!t||t.hostname!==window.location.hostname||t.hasAttribute("download")||"_blank"===t.target||t.classList.contains("no-transition")||t.href.includes("#")||(e.preventDefault(),document.body.classList.add("page-transitioning"),setTimeout(()=>{window.location.href=t.href},300))}),window.addEventListener("pageshow",function(){document.body.classList.remove("page-transitioning"),document.body.classList.add("page-loaded")})),document.querySelectorAll(".nexus-card, .glass-card, .post-card").forEach(e=>{e.addEventListener("mousemove",function(t){const n=e.getBoundingClientRect(),o=t.clientX-n.left,a=t.clientY-n.top,s=n.width/2,i=(a-n.height/2)/20,r=(s-o)/20;e.style.transform=`\n                    perspective(1000px)\n                    rotateX(${i}deg)\n                    rotateY(${r}deg)\n                    scale3d(1.01, 1.01, 1.01)\n                `}),e.addEventListener("mouseleave",function(){e.style.transform=""})}),function(){const e=document.querySelectorAll("[data-parallax]");window.addEventListener("scroll",function(){const t=window.pageYOffset;e.forEach(e=>{const n=e.getAttribute("data-parallax")||.5,o=-t*n;e.style.transform=`translateY(${o}px)`})},{passive:!0})}(),function(){const e=document.querySelectorAll("[data-reveal]"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("revealed"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(e=>{e.classList.add("reveal-hidden"),t.observe(e)})}()),function(){const e=document.querySelectorAll('img[loading="lazy"]'),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.addEventListener("load",function(){n.classList.add("loaded")}),n.complete&&n.classList.add("loaded"),t.unobserve(n)}})},{rootMargin:"50px"});e.forEach(e=>t.observe(e))}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||"#!"===t)return;const n=document.querySelector(t);n&&(e.preventDefault(),n.scrollIntoView({behavior:"smooth",block:"start"}),history.pushState&&history.pushState(null,null,t),n.focus({preventScroll:!0}))})}),e(),document.addEventListener("click",function(e){const t=e.target.closest("button, .btn, .btn--glass");if(!t||t.classList.contains("no-ripple"))return;const n=document.createElement("span"),o=t.getBoundingClientRect(),a=Math.max(o.width,o.height),s=e.clientX-o.left-a/2,i=e.clientY-o.top-a/2;n.style.width=n.style.height=a+"px",n.style.left=s+"px",n.style.top=i+"px",n.classList.add("ripple-effect"),t.appendChild(n),setTimeout(()=>n.remove(),600)},!0),console.warn("✨ Nexus visual enhancements initialized")}window.showToast=function(e,t="success",n=3e3){const o=document.getElementById("nexus-toast");o&&(o.classList.add("hiding"),setTimeout(()=>o.remove(),300));const a=document.createElement("div");a.id="nexus-toast",a.className=`nexus-toast toast-${t}`,a.textContent=e,a.setAttribute("role","status"),a.setAttribute("aria-live","polite"),document.body.appendChild(a),setTimeout(()=>{a.classList.add("hiding"),setTimeout(()=>a.remove(),300)},n),a.addEventListener("click",function(){a.classList.add("hiding"),setTimeout(()=>a.remove(),300)})},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n();const o=document.createElement("style");o.textContent="\n        body.page-transitioning {\n            opacity: 0;\n            transition: opacity 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n\n        body.page-loaded {\n            animation: fadeIn 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n\n        .ripple-effect {\n            position: absolute;\n            border-radius: 50%;\n            background: rgba(255, 255, 255, 0.5);\n            pointer-events: none;\n            transform: scale(0);\n            animation: ripple 0.6s ease-out;\n        }\n\n        .reveal-hidden {\n            opacity: 0;\n            transform: translateY(30px);\n            transition: opacity 0.6s cubic-bezier(0.4, 0.0, 0.2, 1),\n                        transform 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n\n        .revealed {\n            opacity: 1;\n            transform: translateY(0);\n        }\n\n        #nexus-toast {\n            position: fixed;\n            top: 80px;\n            right: 20px;\n            padding: 16px 24px;\n            background: rgba(15, 23, 42, 0.95);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(99, 102, 241, 0.3);\n            border-radius: 12px;\n            color: white;\n            font-weight: 500;\n            z-index: 10000;\n            cursor: pointer;\n            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);\n            max-width: 350px;\n        }\n\n        #nexus-toast.toast-success {\n            border-color: rgba(34, 197, 94, 0.5);\n            box-shadow: 0 8px 32px rgba(34, 197, 94, 0.2);\n        }\n\n        #nexus-toast.toast-error {\n            border-color: rgba(239, 68, 68, 0.5);\n            box-shadow: 0 8px 32px rgba(239, 68, 68, 0.2);\n        }\n\n        #nexus-toast.toast-warning {\n            border-color: rgba(245, 158, 11, 0.5);\n            box-shadow: 0 8px 32px rgba(245, 158, 11, 0.2);\n        }\n\n        @media (max-width: 768px) {\n            #nexus-toast {\n                left: 20px;\n                right: 20px;\n                max-width: none;\n            }\n        }\n    ",document.head.appendChild(o)}();