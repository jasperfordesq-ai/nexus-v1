!function(){"use strict";function e(){!function(){const e=document.getElementById("offlineBanner");function t(){e.classList.add("visible"),navigator.vibrate&&navigator.vibrate(100)}e&&(window.addEventListener("online",function(){e.classList.remove("visible")}),window.addEventListener("offline",t),navigator.onLine||t())}(),document.querySelectorAll("#news-holo-wrapper .news-btn, #news-holo-wrapper .news-card").forEach(e=>{e.addEventListener("pointerdown",function(){this.classList.contains("news-card")?this.style.transform="scale(0.98)":this.style.transform="scale(0.96)"}),e.addEventListener("pointerup",function(){this.style.transform=""}),e.addEventListener("pointerleave",function(){this.style.transform=""})}),function(){if(!document.querySelector('meta[name="theme-color"]')){const e=document.createElement("meta");e.name="theme-color",e.content="#302b63",document.head.appendChild(e)}function e(){const e="dark"===document.documentElement.getAttribute("data-theme"),t=document.querySelector('meta[name="theme-color"]');t&&t.setAttribute("content",e?"#0f172a":"#302b63")}new MutationObserver(e).observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),e()}(),function(){let e=1,t=!1,n=!1;const o=document.getElementById("news-scroll-sentinel"),r=document.getElementById("news-grid-container");if(!o||!r)return;const i=o.querySelector("i");new IntersectionObserver(async s=>{if(s[0].isIntersecting&&!t&&!n){t=!0,i&&(i.style.display="block"),e++;try{const t=await fetch(`?page=${e}&partial=1`),i=await t.text();if(i.trim()){const e=document.createElement("div");for(e.innerHTML=i;e.firstChild;){const t=e.firstChild;1===t.nodeType&&(t.style.opacity="0",t.style.transition="opacity 0.5s ease",t.querySelectorAll("img").forEach(e=>{e.complete?e.classList.add("loaded"):e.onload=()=>e.classList.add("loaded")})),r.appendChild(t),1===t.nodeType&&setTimeout(()=>t.style.opacity="1",50)}}else n=!0,o.style.display="none"}catch(e){console.error("Infinite scroll error:",e),n=!0}t=!1,i&&(i.style.display="none")}},{rootMargin:"200px"}).observe(o)}(),function(){const e=document.querySelectorAll(".holo-orb");if(0===e.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches)return;let t=!1;window.addEventListener("scroll",function(){t||(requestAnimationFrame(function(){const n=window.scrollY;e.forEach((e,t)=>{const o=.05*(t+1);e.style.transform=`translateY(${n*o}px)`}),t=!1}),t=!0)})}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e()}();