!function(){"use strict";function t(t){document.querySelectorAll(".civicone-search-tab").forEach(e=>{const i=e.getAttribute("data-filter")===t;e.classList.toggle("active",i),e.setAttribute("aria-selected",i?"true":"false")});const e=document.querySelectorAll(".civicone-search-result-item"),i=document.getElementById("no-filter-results");let r=0;if(e.forEach(e=>{const i=e.getAttribute("data-type"),s="all"===t||i===t;e.classList.toggle("civicone-search-result-item--hidden",!s),s&&r++}),i)if(0===r){i.style.display="block";const e=i.querySelector("p");if(e){const i={all:"results",user:"people",group:"hubs",listing:"listings",page:"pages"}[t]||"results";e.textContent=`No ${i} found matching your search.`}}else i.style.display="none";!function(t){const e=document.getElementById("visible-count");e&&(e.textContent=t)}(r),function(t,e){const i=document.getElementById("search-results-list");if(i){const r={all:"All results",user:"People",group:"Hubs",listing:"Listings",page:"Pages"}[t]||"Results";i.setAttribute("aria-live","polite"),i.setAttribute("aria-atomic","false");const s=`${r} filter applied. Showing ${e} ${1===e?"result":"results"}.`,n=i.getAttribute("aria-label");i.setAttribute("aria-label",s),setTimeout(()=>{n&&i.setAttribute("aria-label",n),i.removeAttribute("aria-live"),i.removeAttribute("aria-atomic")},1e3)}}(t,r)}function e(t){const e=document.getElementById("search-results-list");if(!e)return;const i=Array.from(e.querySelectorAll(".civicone-search-result-item"));i.sort((e,i)=>{switch(t){case"name":const t=e.querySelector(".civicone-search-result-item__title")?.textContent?.trim()||"",r=i.querySelector(".civicone-search-result-item__title")?.textContent?.trim()||"";return t.localeCompare(r);case"recent":const s=e.getAttribute("data-date")||"0";return(i.getAttribute("data-date")||"0").localeCompare(s);default:return 0}}),i.forEach(t=>e.appendChild(t))}function i(){document.querySelectorAll(".civicone-search-tab").forEach(e=>{e.addEventListener("click",function(){t(this.getAttribute("data-filter"))}),e.addEventListener("keydown",function(e){if("Enter"===e.key||" "===e.key){e.preventDefault();t(this.getAttribute("data-filter"))}})});const i=document.getElementById("sort-by");i&&i.addEventListener("change",function(){e(this.value)})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",i):i(),window.CivicSearchResults={filterSearch:t,sortResults:e}}();