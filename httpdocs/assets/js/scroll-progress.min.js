!function(){"use strict";const e={autoInit:!0,type:"bar",color:"primary",thickness:"normal",glow:!1,showCircleAt:10,showPercent:!1,scrollToTop:!0,belowHeader:!1};let t=null,r=null,n=null;function o(){const e=window.pageYOffset||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight;return t<=0?0:Math.min(Math.max(e/t*100,0),100)}function s(){window.scrollTo({top:0,behavior:"smooth"}),navigator.vibrate&&navigator.vibrate(10)}function l(){const s=o();if(t&&(t.style.width=`${s}%`,t.parentElement.setAttribute("aria-valuenow",Math.round(s))),r){const t=r.querySelector(".scroll-progress-circle-bar"),n=r.querySelector(".scroll-progress-percent"),o=126,l=o-s/100*o;t.style.strokeDashoffset=l,n&&(n.textContent=`${Math.round(s)}%`),s>=e.showCircleAt?r.classList.add("visible"):r.classList.remove("visible")}n=null}function i(){n||(n=requestAnimationFrame(l))}function c(n={}){Object.assign(e,n);document.documentElement.scrollHeight-document.documentElement.clientHeight<500||("bar"!==e.type&&"both"!==e.type||(t=function(){const t=document.createElement("div");return t.className=`scroll-progress scroll-progress--${e.color}`,"normal"!==e.thickness&&t.classList.add(`scroll-progress--${e.thickness}`),e.glow&&t.classList.add("scroll-progress--glow"),e.belowHeader&&t.classList.add("scroll-progress--below-header"),t.innerHTML='<div class="scroll-progress-bar"></div>',t.setAttribute("role","progressbar"),t.setAttribute("aria-valuemin","0"),t.setAttribute("aria-valuemax","100"),t.setAttribute("aria-valuenow","0"),t.setAttribute("aria-label","Page scroll progress"),document.body.appendChild(t),t.querySelector(".scroll-progress-bar")}()),"circle"!==e.type&&"both"!==e.type||(r=function(){const t=document.createElement("div");return t.className="scroll-progress-circle",t.setAttribute("role","button"),t.setAttribute("aria-label","Scroll to top"),t.setAttribute("tabindex","0"),t.innerHTML=`\n            <svg viewBox="0 0 48 48">\n                <defs>\n                    <linearGradient id="scroll-gradient" x1="0%" y1="0%" x2="100%" y2="0%">\n                        <stop offset="0%" style="stop-color:#6366f1"/>\n                        <stop offset="100%" style="stop-color:#8b5cf6"/>\n                    </linearGradient>\n                </defs>\n                <circle class="scroll-progress-circle-bg" cx="24" cy="24" r="20"/>\n                <circle class="scroll-progress-circle-bar" cx="24" cy="24" r="20"/>\n            </svg>\n            <div class="scroll-progress-circle-inner">\n                ${e.showPercent?'<span class="scroll-progress-percent">0%</span>':'<i class="fa-solid fa-arrow-up"></i>'}\n            </div>\n        `,document.body.appendChild(t),e.scrollToTop&&(t.addEventListener("click",s),t.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),s())})),t}()),window.addEventListener("scroll",i,{passive:!0}),l(),console.log("[ScrollProgress] Initialized"))}window.ScrollProgress={init:c,initReading:function(e,t={}){if(!e)return;const r=document.createElement("div");r.className="reading-progress";const n=document.createElement("div");n.className="reading-progress-bar",r.appendChild(n);const o=(e.textContent||"").trim().split(/\s+/).length,s=Math.ceil(o/200);if(!1!==t.showTime){const e=document.createElement("div");e.className="reading-progress-time",e.textContent=`${s} min read`,r.appendChild(e)}function l(){const t=e.getBoundingClientRect(),r=t.top+window.pageYOffset,o=t.height,s=window.pageYOffset,l=r-window.innerHeight,i=r+o;let c=0;s>l&&s<i?c=(s-l)/(i-l)*100:s>=i&&(c=100),n.style.width=`${Math.min(Math.max(c,0),100)}%`}return e.parentNode.insertBefore(r,e),window.addEventListener("scroll",()=>{requestAnimationFrame(l)},{passive:!0}),l(),r},destroy:function(){window.removeEventListener("scroll",i),t&&(t.parentElement.remove(),t=null),r&&(r.remove(),r=null),n&&(cancelAnimationFrame(n),n=null)},getProgress:function(){return o()},scrollToTop:s,config:t=>Object.assign(e,t)},e.autoInit&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>c()):setTimeout(()=>c(),100))}();