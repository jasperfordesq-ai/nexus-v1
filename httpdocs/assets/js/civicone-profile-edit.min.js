!function(){"use strict";function e(e){if(e.files&&e.files[0]){const t=new FileReader;t.onload=function(e){const t=document.getElementById("avatar-preview");t&&(t.src=e.target.result)},t.readAsDataURL(e.files[0])}}function t(){const e=document.getElementById("profile_type"),t=document.getElementById("org_field_container");e&&t&&("organisation"===e.value?(t.classList.remove("profile-field-hidden"),t.classList.add("profile-field-visible")):(t.classList.remove("profile-field-visible"),t.classList.add("profile-field-hidden")))}window.CivicProfileEdit={previewAvatar:e,toggleOrgField:t,initializeTinyMCE:function(e,t){"undefined"!=typeof tinymce?tinymce.init({selector:"#bio-editor",height:200,menubar:!1,statusbar:!1,plugins:["link","lists","emoticons"],toolbar:"bold italic | bullist numlist | link emoticons",content_style:'\n                body {\n                    font-family: "GDS Transport", arial, sans-serif;\n                    font-size: 16px;\n                    line-height: 1.5;\n                    color: #0b0c0c;\n                    padding: 8px;\n                }\n            ',placeholder:"Tell others about yourself...",branding:!1,promotion:!1,setup:function(e){e.on("init",function(){const n=e.getContainer().querySelector("iframe");if(n){const e=t?"bio-error bio-hint":"bio-hint";n.setAttribute("aria-describedby",e)}})}}):console.warn("TinyMCE not loaded")},focusErrorSummary:function(){const e=document.querySelector('[data-module="govuk-error-summary"]');e&&e.focus()}},"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",function(){const n=document.getElementById("profile_type");n&&n.addEventListener("change",t);const i=document.getElementById("avatar");i&&i.addEventListener("change",function(){e(this)})})}();