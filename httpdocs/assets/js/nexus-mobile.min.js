!function(){"use strict";const e="undefined"!=typeof NEXUS_BASE?NEXUS_BASE:"";"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[NEXUS] Service Worker registered:",e.scope),e.addEventListener("updatefound",()=>{const t=e.installing;t.addEventListener("statechange",()=>{"installed"===t.state&&navigator.serviceWorker.controller&&NexusMobile.showToast("Update available! Refresh to update.","info")})})}).catch(e=>{console.log("[NEXUS] Service Worker registration failed:",e)})}),window.NexusMobile={config:{pullToRefreshThreshold:80,swipeBackThreshold:100,toastDuration:3e3},showToast:function(e,t="default",n=null){let i=document.querySelector(".nexus-toast-container");i||(i=document.createElement("div"),i.className="nexus-toast-container",document.body.appendChild(i));const s=document.createElement("div");s.className=`nexus-toast ${t}`;return s.innerHTML=`${{success:'<i class="fa-solid fa-check-circle"></i>',error:'<i class="fa-solid fa-times-circle"></i>',warning:'<i class="fa-solid fa-exclamation-triangle"></i>',info:'<i class="fa-solid fa-info-circle"></i>',default:""}[t]||""}<span>${e}</span>`,i.appendChild(s),setTimeout(()=>{s.classList.add("exit"),setTimeout(()=>s.remove(),200)},n||this.config.toastDuration),s},initGlobalPullToRefresh:function(){console.log("[NEXUS] Pull-to-refresh has been permanently removed")},resetPullIndicator:function(e){},initSwipeBack:function(){if(document.body.classList.contains("no-ptr")||document.body.classList.contains("chat-page")||document.body.classList.contains("chat-fullscreen")||document.documentElement.classList.contains("chat-page"))return void console.log("[NEXUS SwipeBack] Skipped - chat page detected");if(window.history.length<=1)return;const e=this;let t=0,n=0,i=0,s=0,o=!1,a=!1,c=!1;const l=document.createElement("div");l.className="nexus-swipe-back-indicator",l.innerHTML='<i class="fa-solid fa-chevron-left"></i>',l.setAttribute("aria-hidden","true"),document.body.appendChild(l);const d=document.createElement("div");function r(){o=!1,a=!1,t=0,n=0,i=0,s=0}function u(){l.classList.remove("visible","ready","navigating"),l.style.transform="translateY(-50%) translateX(-60px) scale(0.8)",l.style.opacity="0",d.classList.remove("visible"),d.style.opacity="0"}d.className="nexus-swipe-back-overlay",document.body.appendChild(d),document.addEventListener("touchstart",function(e){if(c)return;const l=e.touches[0];l.clientX>25||(t=l.clientX,n=l.clientY,i=t,s=Date.now(),o=!0,a=!1)},{passive:!0}),document.addEventListener("touchmove",function(s){if(!o||c)return;const h=s.touches[0];i=h.clientX;const f=i-t,m=Math.abs(h.clientY-n);if(!a){if(f+m<10)return;if(m>f)return void r();if(f<0)return void r();a=!0,l.classList.add("visible"),d.classList.add("visible")}if(f<=0)return void u();s.preventDefault();const p=.4*window.innerWidth,v=Math.min(f/100,1),g=Math.min(f/p,1),b=Math.min(.3*f,60);l.style.transform=`translateY(-50%) translateX(${b}px) scale(${.8+.2*v})`,l.style.opacity=Math.min(1.5*v,1),d.style.opacity=.3*g,f>=100?l.classList.contains("ready")||(l.classList.add("ready"),e.haptic("medium")):l.classList.remove("ready")},{passive:!1}),document.addEventListener("touchend",function(){if(!o||c)return;const n=i-t,h=Date.now()-s;a&&(n>=100||n/h>.5)?(c=!0,l.classList.add("navigating"),e.haptic("success"),l.style.transform="translateY(-50%) translateX(80px) scale(1)",d.style.opacity="0.5",setTimeout(()=>{window.history.back()},150)):u(),r()},{passive:!0}),document.addEventListener("touchcancel",()=>{r(),u()},{passive:!0}),window.addEventListener("pageshow",()=>{c=!1,u()}),console.log("[NEXUS] Swipe-back gesture initialized")},initSwipeableItems:function(e){if(document.body.classList.contains("chat-page")||document.body.classList.contains("chat-fullscreen"))return;document.querySelectorAll(e).forEach(e=>{const t=e.querySelector(".nexus-swipe-item-content");if(!t)return;let n=0,i=0,s=0;t.addEventListener("touchstart",e=>{n=e.touches[0].clientX,t.style.transition="none"},{passive:!0}),t.addEventListener("touchmove",e=>{i=e.touches[0].clientX,s=Math.min(0,i-n),s=Math.max(-100,s),t.style.transform=`translateX(${s}px)`},{passive:!0}),t.addEventListener("touchend",()=>{t.style.transition="transform 0.2s",t.style.transform=s<-50?"translateX(-80px)":"translateX(0)",n=0,i=0},{passive:!0}),document.addEventListener("touchstart",n=>{e.contains(n.target)||(t.style.transition="transform 0.2s",t.style.transform="translateX(0)")},{passive:!0})})},initInfiniteScroll:function(e={}){const t={container:"[data-infinite-scroll]",itemSelector:".feed-post, .fds-post, .listing-card",loadMoreUrl:null,threshold:300,onLoad:null,renderItem:null,pageParam:"page",perPage:10,...e},n="string"==typeof t.container?document.querySelector(t.container):t.container;if(!n)return null;if(n.dataset.infiniteScrollInit)return null;n.dataset.infiniteScrollInit="true";const i=this;let s=1,o=!1,a=!0;const c=t.loadMoreUrl||n.dataset.infiniteScrollUrl;if(!c)return console.warn("[NEXUS Infinite] No load URL specified"),null;const l=document.createElement("div");l.className="nexus-infinite-loader hidden",l.innerHTML='\n                <div class="nexus-infinite-spinner"></div>\n                <span>Loading more...</span>\n            ',n.appendChild(l);const d=document.createElement("div");d.className="nexus-infinite-end hidden",d.innerHTML="<span>You've reached the end</span>",n.appendChild(d);const r=n.scrollHeight>n.clientHeight?n:window,u=r===window;function h(){if(o||!a)return;const{scrollTop:e,scrollHeight:i,clientHeight:s}=u?{scrollTop:window.scrollY,scrollHeight:document.documentElement.scrollHeight,clientHeight:window.innerHeight}:{scrollTop:n.scrollTop,scrollHeight:n.scrollHeight,clientHeight:n.clientHeight};i-e-s<t.threshold&&f()}async function f(){if(!o&&a){o=!0,l.classList.remove("hidden"),s++;try{const e=new URL(c,window.location.origin);e.searchParams.set(t.pageParam,s),e.searchParams.set("per_page",t.perPage);const n=await fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/html"},credentials:"include"});if(!n.ok)throw new Error("Failed to load more items");const o=n.headers.get("content-type");let d=[],r="";if(o&&o.includes("application/json")){const e=await n.json();d=e.items||e.posts||e.data||[],r=e.html||"",a=!1!==e.hasMore&&d.length>=t.perPage}else r=await n.text(),a=r.trim().length>50;r?l.insertAdjacentHTML("beforebegin",r):d.length&&t.renderItem&&d.forEach(e=>{const n=t.renderItem(e);l.insertAdjacentHTML("beforebegin",n)}),t.onLoad&&t.onLoad({items:d,html:r,page:s,hasMore:a}),i.initSwipeableItems(".nexus-swipe-item:not([data-swipe-init])"),(d.length||r)&&i.haptic("light")}catch(e){console.error("[NEXUS Infinite] Load error:",e),s--,i.showToast("Failed to load more items","error")}finally{o=!1,l.classList.add("hidden"),a||d.classList.remove("hidden")}}}let m;function p(){m||(m=setTimeout(()=>{m=null,h()},100))}return r.addEventListener("scroll",p,{passive:!0}),setTimeout(h,500),console.log("[NEXUS Infinite] Initialized on",n.className||n.tagName),{container:n,loadMore:f,reset:()=>{s=1,a=!0,d.classList.add("hidden")},destroy:()=>{r.removeEventListener("scroll",p),l.remove(),d.remove(),delete n.dataset.infiniteScrollInit}}},initGlobalInfiniteScroll:function(){document.querySelectorAll("[data-infinite-scroll]").forEach(e=>{this.initInfiniteScroll({container:e})})},initLongPressMenus:function(){if(document.body.classList.contains("chat-page")||document.body.classList.contains("chat-fullscreen"))return null;const e=this;let t=null,n=0,i=0,s=null,o=!1;const a=document.createElement("div");a.className="nexus-context-backdrop",document.body.appendChild(a);const c=document.createElement("div");function l(t,n,i){const s=t.dataset.longpressMenu,o=document.querySelector(`[data-menu-id="${s}"]`);let l=[];if(l=o?Array.from(o.querySelectorAll("[data-action]")).map(e=>({action:e.dataset.action,label:e.textContent||e.dataset.label,icon:e.dataset.icon,danger:"true"===e.dataset.danger})):function(e){const t=[];switch(e.dataset.type||function(e){return e.closest(".fds-post, .feed-post, [data-post-id]")?"post":e.closest(".comment, [data-comment-id]")?"comment":e.closest(".user-card, .avatar, [data-user-id]")?"user":"IMG"===e.tagName||e.closest("img")?"image":"A"===e.tagName||e.closest('a[href^="http"]')?"link":"default"}(e)){case"post":t.push({action:"share",label:"Share",icon:"fa-solid fa-share"},{action:"copy-link",label:"Copy Link",icon:"fa-solid fa-link"},{action:"save",label:"Save Post",icon:"fa-solid fa-bookmark"}),"true"===e.dataset.isOwner?t.push({action:"edit",label:"Edit",icon:"fa-solid fa-pen"},{action:"delete",label:"Delete",icon:"fa-solid fa-trash",danger:!0}):t.push({action:"report",label:"Report",icon:"fa-solid fa-flag",danger:!0});break;case"comment":t.push({action:"reply",label:"Reply",icon:"fa-solid fa-reply"},{action:"copy",label:"Copy Text",icon:"fa-solid fa-copy"}),"true"===e.dataset.isOwner&&t.push({action:"edit",label:"Edit",icon:"fa-solid fa-pen"},{action:"delete",label:"Delete",icon:"fa-solid fa-trash",danger:!0});break;case"user":t.push({action:"view-profile",label:"View Profile",icon:"fa-solid fa-user"},{action:"message",label:"Send Message",icon:"fa-solid fa-envelope"},{action:"copy-profile",label:"Copy Profile Link",icon:"fa-solid fa-link"});break;case"image":t.push({action:"view",label:"View Full Size",icon:"fa-solid fa-expand"},{action:"download",label:"Download",icon:"fa-solid fa-download"},{action:"share",label:"Share",icon:"fa-solid fa-share"});break;case"link":t.push({action:"open",label:"Open Link",icon:"fa-solid fa-external-link"},{action:"copy-link",label:"Copy Link",icon:"fa-solid fa-link"},{action:"share",label:"Share",icon:"fa-solid fa-share"});break;default:t.push({action:"copy",label:"Copy",icon:"fa-solid fa-copy"},{action:"share",label:"Share",icon:"fa-solid fa-share"})}return t}(t),0===l.length)return;c.innerHTML=l.map(e=>`\n                    <button class="nexus-context-item ${e.danger?"danger":""}"\n                            data-action="${e.action}"\n                            role="menuitem">\n                        ${e.icon?`<i class="${e.icon}"></i>`:""}\n                        <span>${e.label}</span>\n                    </button>\n                `).join("");c.getBoundingClientRect();const d=window.innerWidth,r=window.innerHeight;let u=n-c.offsetWidth/2,h=i+10;u=Math.max(10,Math.min(u,d-c.offsetWidth-10)),h=Math.max(10,Math.min(h,r-c.offsetHeight-10)),h+c.offsetHeight>r-20&&(h=i-c.offsetHeight-10),c.style.left=`${u}px`,c.style.top=`${h}px`,a.classList.add("visible"),c.classList.add("visible"),c.setAttribute("aria-hidden","false"),c.dataset.targetId=t.dataset.id||"",c.dataset.targetType=t.dataset.type||"",e.haptic("medium"),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none"}function d(){a.classList.remove("visible"),c.classList.remove("visible"),c.setAttribute("aria-hidden","true"),document.body.style.userSelect="",document.body.style.webkitUserSelect="",s=null}function r(e){const a=e.target.closest("[data-longpress-menu], .fds-post, .feed-post, [data-type]");if(!a)return;const c=e.touches[0];n=c.clientX,i=c.clientY,s=a,o=!1,t=setTimeout(()=>{o=!0,l(a,n,i)},500)}function u(e){if(!t)return;const s=e.touches[0],o=Math.abs(s.clientX-n),a=Math.abs(s.clientY-i);(o>10||a>10)&&(clearTimeout(t),t=null)}function h(e){t&&(clearTimeout(t),t=null),o&&(e.preventDefault(),o=!1)}return c.className="nexus-context-menu",c.setAttribute("role","menu"),c.setAttribute("aria-hidden","true"),document.body.appendChild(c),document.addEventListener("touchstart",r,{passive:!0}),document.addEventListener("touchmove",u,{passive:!0}),document.addEventListener("touchend",h,{passive:!1}),document.addEventListener("touchcancel",()=>{clearTimeout(t),t=null},{passive:!0}),c.addEventListener("click",function(t){const n=t.target.closest(".nexus-context-item");n&&function(t){const n=c.dataset.targetId,i=c.dataset.targetType;e.haptic("light"),d();const o=new CustomEvent("nexus:contextAction",{bubbles:!0,detail:{action:t,targetId:n,targetType:i,target:s}});switch(document.dispatchEvent(o),t){case"copy-link":{const t=s?.dataset.url||window.location.href;navigator.clipboard.writeText(t).then(()=>{e.showToast("Link copied!","success")});break}case"copy":{const t=s?.textContent||s?.innerText;t&&navigator.clipboard.writeText(t.trim()).then(()=>{e.showToast("Copied!","success")});break}case"share":navigator.share&&navigator.share({title:document.title,url:s?.dataset.url||window.location.href})}}(n.dataset.action)}),a.addEventListener("click",function(){d()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&c.classList.contains("visible")&&d()}),console.log("[NEXUS] Long-press menus initialized"),{show:l,hide:d,destroy:()=>{document.removeEventListener("touchstart",r),document.removeEventListener("touchmove",u),document.removeEventListener("touchend",h),a.remove(),c.remove()}}},initCollapsingHeader:function(){if(document.body.classList.contains("chat-page")||document.body.classList.contains("chat-fullscreen"))return null;const e=this,t=document.querySelector(".htb-header, .nexus-header, header.site-header, [data-collapsing-header]");if(!t)return console.log("[NEXUS] No collapsing header found"),null;if(t.dataset.collapsingInit)return null;t.dataset.collapsingInit="true";const n=10,i=60,s=!0,o=!0,a=100;let c=0,l="up",d=!1,r=!1,u=!1,h=0;const f=t.offsetHeight;function m(){return window.scrollY||window.pageYOffset||document.documentElement.scrollTop}function p(){const e=m(),t=e-c;Math.abs(t)<n||(l=t>0?"down":"up",h="down"===l?Math.min(h+t,i):Math.max(h+t,0),e<=0?(g(),w(),h=0):"down"===l&&e>i?(o&&e>a&&!r&&b(),h>=i&&!d&&v()):"up"===l&&s&&(d&&g(),e<a&&r&&w()),c=e),u=!1}function v(){d||(d=!0,t.classList.add("nexus-header-hidden"),t.classList.remove("nexus-header-visible"),document.body.classList.add("nexus-header-is-hidden"))}function g(){d&&(d=!1,t.classList.remove("nexus-header-hidden"),t.classList.add("nexus-header-visible"),document.body.classList.remove("nexus-header-is-hidden"),e.haptic("light"))}function b(){r||(r=!0,t.classList.add("nexus-header-compact"),document.body.classList.add("nexus-header-is-compact"))}function w(){r&&(r=!1,t.classList.remove("nexus-header-compact"),document.body.classList.remove("nexus-header-is-compact"))}function y(){u||(window.requestAnimationFrame(p),u=!0)}return t.classList.add("nexus-collapsing-header"),t.dataset.originalHeight=f,window.addEventListener("scroll",y,{passive:!0}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{c=m()},100)}),document.addEventListener("visibilitychange",()=>{document.hidden||(c=m(),c<=0&&(g(),w()))}),console.log("[NEXUS] Collapsing header initialized"),{header:t,hide:v,show:g,compact:b,expand:w,isHidden:()=>d,isCompact:()=>r,destroy:()=>{window.removeEventListener("scroll",y),t.classList.remove("nexus-collapsing-header","nexus-header-hidden","nexus-header-visible","nexus-header-compact"),document.body.classList.remove("nexus-header-is-hidden","nexus-header-is-compact"),delete t.dataset.collapsingInit}}},initPageTransitions:function(){document.body.classList.contains("chat-page")||document.body.classList.contains("chat-fullscreen")||(document.startViewTransition?document.addEventListener("click",e=>{const t=e.target.closest("a[href]");if(!t)return;const n=t.getAttribute("href");!n||n.startsWith("#")||n.startsWith("http")||n.startsWith("mailto:")||n.startsWith("tel:")||"_blank"===t.target||t.hasAttribute("download")||(e.preventDefault(),document.startViewTransition(()=>{window.location.href=n}))}):document.body.classList.add("page-transition-enter"))},showLoading:function(e="Loading..."){let t=document.querySelector(".nexus-loading-overlay");return t||(t=document.createElement("div"),t.className="nexus-loading-overlay",t.innerHTML=`\n                    <div class="nexus-loading-spinner"></div>\n                    <div class="nexus-loading-text">${e}</div>\n                `,document.body.appendChild(t)),t.querySelector(".nexus-loading-text").textContent=e,requestAnimationFrame(()=>t.classList.add("visible")),t},hideLoading:function(){const e=document.querySelector(".nexus-loading-overlay");e&&e.classList.remove("visible")},showSkeletons:function(e,t=3,n="card"){if(e){e.innerHTML="";for(let n=0;n<t;n++){const t=document.createElement("div");t.className="skeleton-card-full",t.innerHTML='\n                    <div class="skeleton-header">\n                        <div class="skeleton skeleton-avatar"></div>\n                        <div style="flex: 1;">\n                            <div class="skeleton skeleton-text" style="width: 60%;"></div>\n                            <div class="skeleton skeleton-text" style="width: 40%;"></div>\n                        </div>\n                    </div>\n                    <div class="skeleton-body">\n                        <div class="skeleton skeleton-text"></div>\n                        <div class="skeleton skeleton-text"></div>\n                        <div class="skeleton skeleton-text" style="width: 80%;"></div>\n                    </div>\n                ',e.appendChild(t)}}},initBottomNav:function(){const e=document.querySelector(".nexus-bottom-nav");if(!e)return;const t=window.location.pathname;e.querySelectorAll(".nexus-bottom-nav-item").forEach(e=>{const n=e.getAttribute("href");t===n||"/"!==n&&t.startsWith(n)?e.classList.add("active"):e.classList.remove("active")}),document.body.classList.add("has-bottom-nav")},userHasInteracted:!1,initHapticTracking:function(){const e=this;["touchstart","mousedown","keydown"].forEach(t=>{document.addEventListener(t,()=>{e.userHasInteracted=!0},{once:!0,passive:!0})})},haptic:function(e="light"){if(!this.userHasInteracted||!("vibrate"in navigator))return;const t={light:[10],medium:[20],heavy:[30],success:[10,50,10],warning:[30,50,30],error:[50,50,50]};navigator.vibrate(t[e]||t.light)},offlineIndicator:null,onlineIndicator:null,networkUnsubscribe:null,initOfflineIndicator:function(){const e=window.NexusNative?.Environment?.isCapacitor?.(),t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(window.innerWidth>1024&&!e&&!t)return void console.log("[NexusMobile] Offline indicator disabled on desktop web (width:",window.innerWidth,"px)");this.offlineIndicator=document.createElement("div"),this.offlineIndicator.className="nexus-offline-indicator",this.offlineIndicator.setAttribute("role","status"),this.offlineIndicator.setAttribute("aria-live","polite"),this.offlineIndicator.innerHTML='\n                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">\n                    <line x1="1" y1="1" x2="23" y2="23"></line>\n                    <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55"></path>\n                    <path d="M5 12.55a10.94 10.94 0 0 1 5.17-2.39"></path>\n                    <path d="M10.71 5.05A16 16 0 0 1 22.58 9"></path>\n                    <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88"></path>\n                    <path d="M8.53 16.11a6 6 0 0 1 6.95 0"></path>\n                    <line x1="12" y1="20" x2="12.01" y2="20"></line>\n                </svg>\n                <span>You\'re offline</span>\n            ',document.body.appendChild(this.offlineIndicator),this.onlineIndicator=document.createElement("div"),this.onlineIndicator.className="nexus-online-indicator",this.onlineIndicator.setAttribute("role","status"),this.onlineIndicator.setAttribute("aria-live","polite"),this.onlineIndicator.innerHTML='\n                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">\n                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>\n                    <polyline points="22 4 12 14.01 9 11.01"></polyline>\n                </svg>\n                <span>Back online!</span>\n            ',document.body.appendChild(this.onlineIndicator);const n=this;window.NexusNative?.Network?(console.log("[NexusMobile] Using Capacitor Network plugin for offline detection"),this.networkUnsubscribe=window.NexusNative.Network.addListener((e,t)=>{e.connected&&!t?n.showOnlineIndicator():!e.connected&&t&&n.showOfflineIndicator()}),window.NexusNative.Network.getStatus().then(e=>{e.connected||n.showOfflineIndicator()})):(console.log("[NexusMobile] Using browser online/offline events for offline detection"),window.addEventListener("online",()=>this.showOnlineIndicator()),window.addEventListener("offline",()=>this.showOfflineIndicator()),setTimeout(function(){navigator.onLine||n.showOfflineIndicator()},1e3))},showOfflineIndicator:function(){this.offlineIndicator&&(document.body.classList.add("is-offline"),this.offlineIndicator.classList.add("visible"),this.haptic("warning"))},showOnlineIndicator:function(){this.offlineIndicator&&this.onlineIndicator&&(document.body.classList.remove("is-offline"),this.offlineIndicator.classList.remove("visible"),this.onlineIndicator.classList.add("visible"),this.haptic("success"),setTimeout(()=>{this.onlineIndicator.classList.remove("visible")},3e3))},initBadgeUpdates:function(){this.updateBadges(),setInterval(()=>this.updateBadges(),3e4),document.addEventListener("visibilitychange",()=>{document.hidden||this.updateBadges()})},updateBadges:async function(){try{const t=await fetch(e+"/api/notifications/unread-count",{credentials:"include"});if(!t.ok)return;const n=await t.json(),i=document.querySelector('.nexus-native-nav-item[href*="messages"] .nexus-native-nav-badge'),s=document.querySelector('.nexus-native-nav-item[href*="messages"]');if(s){const e=n.messages||0;if(e>0)if(i)i.textContent=e>9?"9+":e;else{const t=document.createElement("span");t.className="nexus-native-nav-badge",t.textContent=e>9?"9+":e,s.appendChild(t)}else i&&i.remove()}const o=(n.messages||0)+(n.notifications||0);o>0?(document.title=document.title.replace(/^\(\d+\) /,""),document.title=`(${o}) ${document.title}`):document.title=document.title.replace(/^\(\d+\) /,"")}catch(e){}},init:function(){this.initHapticTracking();if("ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<=768){const e=document.querySelector(".nexus-site-footer");e&&e.classList.add("hidden"),this.initBottomNav(),console.log("[NEXUS] Pull-to-refresh disabled for troubleshooting"),console.log("[NEXUS] Swipe-to-back disabled for troubleshooting"),this.initLongPressMenus(),this.initCollapsingHeader(),this.initSwipeableItems(".nexus-swipe-item")}this.initGlobalInfiniteScroll(),this.initPageTransitions(),this.initOfflineIndicator(),(document.body.classList.contains("logged-in")||document.querySelector('.nexus-native-nav-item[href*="messages"]'))&&this.initBadgeUpdates(),console.log("[NEXUS] Mobile experience initialized")}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>NexusMobile.init()):NexusMobile.init()}();