!function(){"use strict";const t={duration:600,autoAttach:!0,selectors:[".ripple",".btn",".btn--primary",".btn--secondary",".btn--ghost",".btn--glass",".nexus-smart-btn",".nav-link",".tab-item",".dropdown-item",".icon-btn",".nexus-header-icon-btn",".fab",'[data-ripple="true"]']},e=window.matchMedia("(prefers-reduced-motion: reduce)").matches,n=new WeakSet;function s(t){let e=t.querySelector(".ripple-container");return e||(e=document.createElement("span"),e.className="ripple-container",e.setAttribute("aria-hidden","true"),t.appendChild(e)),e}function r(t){return t.dataset.rippleColor?`ripple-${t.dataset.rippleColor}`:t.classList.contains("btn-primary")||t.classList.contains("btn--primary")||t.classList.contains("nexus-smart-btn-primary")||t.classList.contains("btn-danger")||t.classList.contains("btn-success")||function(t){const e=getComputedStyle(t),n=e.backgroundColor.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);if(!n){const t=e.color.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/);return t?(parseInt(t[1])+parseInt(t[2])+parseInt(t[3]))/3>128:"dark"===document.documentElement.getAttribute("data-theme")}return(.299*parseInt(n[1])+.587*parseInt(n[2])+.114*parseInt(n[3]))/255<.5}(t)?"ripple-light":"ripple-dark"}function a(n,a){const i=s(n),o=n.getBoundingClientRect(),c=2*Math.max(o.width,o.height);let d,l;"touchstart"===a.type&&a.touches&&a.touches[0]?(d=a.touches[0].clientX-o.left,l=a.touches[0].clientY-o.top):(d=a.clientX-o.left,l=a.clientY-o.top);(n.classList.contains("ripple-centered")||n.classList.contains("icon-btn")||n.classList.contains("nexus-header-icon-btn")||isNaN(d)||isNaN(l))&&(d=o.width/2,l=o.height/2);const u=document.createElement("span");u.className=`ripple-effect ${r(n)}`,u.style.width=`${c}px`,u.style.height=`${c}px`,u.style.left=d-c/2+"px",u.style.top=l-c/2+"px",i.appendChild(u),requestAnimationFrame(()=>{u.classList.add("ripple-animate")}),"touchstart"===a.type&&navigator.vibrate&&navigator.vibrate(5);const p=e?200:t.duration;setTimeout(()=>{e&&u.classList.add("ripple-fade"),setTimeout(()=>{u.remove()},e?200:100)},p)}function i(t){if(t.button&&0!==t.button)return;const e=t.currentTarget;e.disabled||"true"===e.getAttribute("aria-disabled")||a(e,t)}function o(t){t&&!n.has(t)&&(n.add(t),t.addEventListener("mousedown",i,{passive:!0}),t.addEventListener("touchstart",i,{passive:!0}),s(t))}function c(t){const e=document.querySelectorAll(t);return e.forEach(o),e.length}function d(){if(!t.autoAttach)return;const e=c(t.selectors.join(", "));console.warn(`[ButtonRipple] Attached to ${e} elements`);new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{1===e.nodeType&&(e.matches&&t.selectors.some(t=>e.matches(t))&&o(e),e.querySelectorAll&&t.selectors.forEach(t=>{e.querySelectorAll(t).forEach(o)}))})})}).observe(document.body,{childList:!0,subtree:!0})}window.ButtonRipple={attach:o,attachAll:c,detach:function(t){if(!t||!n.has(t))return;t.removeEventListener("mousedown",i),t.removeEventListener("touchstart",i),n.delete(t);const e=t.querySelector(".ripple-container");e&&e.remove()},trigger:function(t,e,n){if(!t)return;const s=t.getBoundingClientRect();a(t,{type:"mousedown",clientX:void 0!==e?e:s.left+s.width/2,clientY:void 0!==n?n:s.top+s.height/2,currentTarget:t})},init:d,config:e=>Object.assign(t,e)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",d):setTimeout(d,50)}();