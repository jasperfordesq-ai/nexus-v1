!function(){"use strict";const e={animationDuration:300,pulseOnIncrease:!0,shakeOnDecrease:!1,hapticFeedback:!0,maxDisplay:99},t=new WeakMap;function s(e){e.classList.remove("badge-pop"),e.offsetWidth,e.classList.add("badge-pop"),setTimeout(()=>{e.classList.remove("badge-pop")},300)}function a(e){e.classList.remove("badge-shake"),e.offsetWidth,e.classList.add("badge-shake"),setTimeout(()=>{e.classList.remove("badge-shake")},400)}function n(e){e.classList.add("badge-fade-in"),setTimeout(()=>{e.classList.remove("badge-fade-in")},300)}function o(t){return t>e.maxDisplay?`${e.maxDisplay}+`:t.toString()}function i(i,d,c={}){const l=t.get(i)||0,r=parseInt(d)||0;t.set(i,r),0!==r?(i.classList.contains("hidden")&&(i.classList.remove("hidden"),n(i)),i.textContent=o(r),i.setAttribute("data-count",r),r>l?((e.pulseOnIncrease||c.pulse)&&s(i),e.hapticFeedback&&navigator.vibrate&&navigator.vibrate(10)):r<l&&e.shakeOnDecrease&&a(i)):i.classList.add("hidden")}function d(e={}){const{count:s=0,color:a="primary",size:n="md",dot:i=!1,outline:d=!1,soft:c=!1,position:l=null}=e,r=document.createElement("span");return r.className="badge",i&&r.classList.add("badge--dot"),d&&r.classList.add("badge--outline"),c&&r.classList.add("badge--soft"),"md"!==n&&r.classList.add(`badge--${n}`),"primary"!==a&&r.classList.add(`badge--${a}`),l&&r.classList.add(`badge--${l}`),!i&&s>0&&(r.textContent=o(s),r.setAttribute("data-count",s)),t.set(r,s),0!==s||i||r.classList.add("hidden"),r}function c(){const e=document.querySelectorAll(".badge, .notification-badge, .unread-count");e.forEach(e=>{const s=parseInt(e.textContent)||parseInt(e.dataset.count)||0;t.set(e,s)}),console.log(`[BadgeAnimation] Initialized ${e.length} badges`)}window.BadgeAnimation={pop:s,bounce:function(e){e.classList.remove("badge-bounce"),e.offsetWidth,e.classList.add("badge-bounce"),setTimeout(()=>{e.classList.remove("badge-bounce")},500)},pulse:function(e,t=!1){t?e.classList.add("badge-pulse"):(e.classList.add("badge-pulse"),setTimeout(()=>{e.classList.remove("badge-pulse")},1500))},stopPulse:function(e){e.classList.remove("badge-pulse")},shake:a,fadeIn:n,update:i,increment:function(e,s=1){i(e,(t.get(e)||0)+s)},decrement:function(e,s=1){const a=t.get(e)||0;i(e,Math.max(0,a-s))},createBadge:d,createCounter:function(e,s=0){return e.classList.add("counter-slot"),e.innerHTML="",o(s).split("").forEach(t=>{const s=document.createElement("span");s.className="counter-slot-digit",s.textContent=t,e.appendChild(s)}),t.set(e,s),e},updateCounter:function(s,a){const n=t.get(s)||0,i=parseInt(a)||0,d=i>n;t.set(s,i);const c=o(i).split(""),l=s.querySelectorAll(".counter-slot-digit");for(;l.length<c.length;){const e=document.createElement("span");e.className="counter-slot-digit",s.appendChild(e)}for(;s.children.length>c.length;)s.lastChild.remove();s.querySelectorAll(".counter-slot-digit").forEach((e,t)=>{const s=c[t];e.textContent!==s&&(e.classList.remove("count-up","count-down"),e.offsetWidth,e.classList.add(d?"count-up":"count-down"),e.textContent=s,setTimeout(()=>{e.classList.remove("count-up","count-down")},300))}),e.hapticFeedback&&navigator.vibrate&&i>n&&navigator.vibrate(10)},wrapWithBadge:function(e,t={}){const s=document.createElement("span");s.className="badge-container",e.parentNode.insertBefore(s,e),s.appendChild(e);const a=d(t);return s.appendChild(a),{container:s,badge:a}},init:c,config:t=>Object.assign(e,t)},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):setTimeout(c,50)}();