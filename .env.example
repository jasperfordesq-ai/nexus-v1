# Project NEXUS - Environment Configuration Example
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# ==============================================
# APPLICATION SETTINGS
# ==============================================
APP_ENV=development
APP_DEBUG=true
APP_KEY=base64:generate-a-random-32-byte-key-here
APP_URL=http://staging.timebank.local

# ==============================================
# DATABASE CONFIGURATION
# ==============================================
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=nexus
DB_USERNAME=root
DB_PASSWORD=

# ==============================================
# CORS & SECURITY
# ==============================================
# Comma-separated list of allowed origins for CORS
ALLOWED_ORIGINS=https://project-nexus.ie,https://www.project-nexus.ie,https://hour-timebank.ie,https://www.hour-timebank.ie,http://staging.timebank.local

# Comma-separated list of allowed hosts for redirects
ALLOWED_HOSTS=project-nexus.ie,www.project-nexus.ie,hour-timebank.ie,www.hour-timebank.ie,staging.timebank.local

# ==============================================
# PUSHER / REAL-TIME
# ==============================================
PUSHER_APP_ID=
PUSHER_KEY=
PUSHER_SECRET=
PUSHER_CLUSTER=eu
PUSHER_DEBUG=false

# ==============================================
# EMAIL CONFIGURATION
# ==============================================

# SMTP (Default — reliable, recommended for most setups)
# Uses Gmail App Password or any SMTP provider
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_ENCRYPTION=tls
SMTP_FROM_EMAIL=noreply@project-nexus.ie
SMTP_FROM_NAME="Project NEXUS"

# Gmail API (Optional — OAuth2, auto-refreshing tokens)
# Set USE_GMAIL_API=true to enable, false to use SMTP above
# Setup: php scripts/gmail-oauth-setup.php
# Test:  php scripts/test-gmail-api.php
# Docs:  https://console.cloud.google.com/apis/library/gmail.googleapis.com
#
# Token caching: Redis (persistent across requests, ~1 refresh per hour)
# Rate limit: max 10 token refreshes per hour
# Circuit breaker: 3 consecutive failures → 5 min Gmail API pause → SMTP fallback
# SMTP fallback: always available when Gmail API fails
USE_GMAIL_API=false
GMAIL_CLIENT_ID=
GMAIL_CLIENT_SECRET=
GMAIL_REFRESH_TOKEN=
GMAIL_SENDER_EMAIL=
GMAIL_SENDER_NAME="Project NEXUS"

# Error Alerts
ERROR_ALERT_EMAIL=admin@project-nexus.ie
ERROR_ALERT_FROM=errors@project-nexus.ie
ADMIN_EMAIL=admin@project-nexus.ie

# ==============================================
# AI PROVIDERS
# ==============================================
# Default AI Provider (gemini, openai, anthropic, ollama)
AI_DEFAULT_PROVIDER=gemini

# Google Gemini
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash

# OpenAI
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4

# Anthropic Claude
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Ollama (Local)
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama2

# ==============================================
# CACHE & SESSION
# ==============================================
CACHE_DRIVER=redis
SESSION_DRIVER=file
QUEUE_CONNECTION=sync

# Redis
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=null

# ==============================================
# FEDERATION
# ==============================================
FEDERATION_ENABLED=true
FEDERATION_JWT_SECRET=generate-a-random-secret-here
FEDERATION_API_VERSION=v1

# ==============================================
# CRON / BACKGROUND JOBS
# ==============================================
# Secret key for authenticating cron requests via HTTP
CRON_KEY=generate-a-random-cron-key-here

# ==============================================
# LOGGING & DEBUGGING
# ==============================================
LOG_CHANNEL=file
LOG_LEVEL=warning
DEBUG=false
DB_PROFILING=false

# ==============================================
# SENTRY ERROR TRACKING
# ==============================================
# Get your DSN from https://sentry.io/settings/projects/
# PHP Backend DSN
SENTRY_DSN_PHP=
# React Frontend DSN (can be the same or different project)
SENTRY_DSN_REACT=
# Environment (production, staging, development)
SENTRY_ENVIRONMENT=production
# Performance monitoring sample rate (0.0 to 1.0)
# 0.1 = 10% of transactions, 1.0 = 100% of transactions
SENTRY_TRACES_SAMPLE_RATE=0.1

# ==============================================
# GDPR COMPLIANCE
# ==============================================
GDPR_DPA_EMAIL=dpo@project-nexus.ie
GDPR_REQUEST_EXPIRY_DAYS=30

# ==============================================
# ENTERPRISE FEATURES
# ==============================================
VAULT_ENABLED=false
VAULT_URL=
VAULT_TOKEN=

METRICS_ENABLED=false
DD_AGENT_HOST=

# ==============================================
# FEATURE FLAGS
# ==============================================
FEATURE_AI_CHAT=true
FEATURE_GAMIFICATION=true
FEATURE_FEDERATION=true
FEATURE_WEBPUSH=true

# ==============================================
# WEB PUSH NOTIFICATIONS
# ==============================================
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:admin@project-nexus.ie

# ==============================================
# MAILCHIMP (Optional)
# ==============================================
MAILCHIMP_API_KEY=
MAILCHIMP_LIST_ID=

# ==============================================
# SOCIAL AUTH (Optional)
# ==============================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
